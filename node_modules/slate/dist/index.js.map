{"version":3,"file":"index.js","sources":["../src/interfaces/path-ref.ts","../src/interfaces/point-ref.ts","../src/interfaces/range-ref.ts","../src/utils/weak-maps.ts","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/iterableToArray.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/toConsumableArray.js","../src/interfaces/path.ts","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/typeof.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/toPrimitive.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/toPropertyKey.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/defineProperty.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/slicedToArray.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../src/interfaces/range.ts","../src/interfaces/element.ts","../src/interfaces/node.ts","../src/interfaces/operation.ts","../src/utils/is-object.ts","../src/utils/deep-equal.ts","../src/utils/get-default-insert-location.ts","../src/utils/match-path.ts","../src/utils/string.ts","../src/editor/is-editor.ts","../src/interfaces/editor.ts","../src/interfaces/location.ts","../src/interfaces/point.ts","../src/interfaces/scrubber.ts","../src/interfaces/text.ts","../src/utils/modify.ts","../src/interfaces/transforms/general.ts","../src/interfaces/transforms/node.ts","../src/interfaces/transforms/selection.ts","../src/interfaces/transforms/text.ts","../src/interfaces/transforms/index.ts","../src/core/batch-dirty-paths.ts","../src/core/update-dirty-paths.ts","../src/core/apply.ts","../src/core/get-dirty-paths.ts","../src/core/get-fragment.ts","../src/core/normalize-node.ts","../src/core/should-normalize.ts","../src/editor/above.ts","../src/editor/add-mark.ts","../src/editor/after.ts","../src/editor/before.ts","../src/editor/delete-backward.ts","../src/editor/delete-forward.ts","../src/editor/delete-fragment.ts","../src/editor/edges.ts","../src/editor/element-read-only.ts","../src/editor/end.ts","../src/editor/first.ts","../src/editor/fragment.ts","../src/editor/get-void.ts","../src/editor/has-blocks.ts","../src/editor/has-inlines.ts","../src/editor/has-path.ts","../src/editor/has-texts.ts","../src/editor/insert-break.ts","../src/editor/insert-node.ts","../src/editor/insert-soft-break.ts","../src/editor/insert-text.ts","../src/editor/is-block.ts","../src/editor/is-edge.ts","../src/editor/is-empty.ts","../src/editor/is-end.ts","../src/editor/is-normalizing.ts","../src/editor/is-start.ts","../src/editor/last.ts","../src/editor/leaf.ts","../src/editor/levels.ts","../src/editor/marks.ts","../src/editor/next.ts","../src/editor/node.ts","../src/editor/nodes.ts","../src/editor/normalize.ts","../src/editor/parent.ts","../src/editor/path-ref.ts","../src/editor/path-refs.ts","../src/editor/path.ts","../src/editor/point-ref.ts","../src/editor/point-refs.ts","../src/editor/point.ts","../src/editor/positions.ts","../src/editor/previous.ts","../src/editor/range-ref.ts","../src/editor/range-refs.ts","../src/editor/range.ts","../src/editor/remove-mark.ts","../src/editor/set-normalizing.ts","../src/editor/start.ts","../src/editor/string.ts","../src/editor/unhang-range.ts","../src/editor/without-normalizing.ts","../src/editor/should-merge-nodes-remove-prev-node.ts","../src/transforms-text/delete-text.ts","../src/transforms-text/insert-fragment.ts","../src/transforms-selection/collapse.ts","../src/transforms-selection/deselect.ts","../src/transforms-selection/move.ts","../src/transforms-selection/select.ts","../src/transforms-selection/set-point.ts","../src/transforms-selection/set-selection.ts","../src/transforms-node/insert-nodes.ts","../src/transforms-node/lift-nodes.ts","../src/transforms-node/merge-nodes.ts","../src/transforms-node/move-nodes.ts","../src/transforms-node/remove-nodes.ts","../src/transforms-node/set-nodes.ts","../src/transforms-node/split-nodes.ts","../src/transforms-node/unset-nodes.ts","../src/transforms-node/unwrap-nodes.ts","../src/transforms-node/wrap-nodes.ts","../src/create-editor.ts"],"sourcesContent":["import { Operation, Path } from '..'\n\n/**\n * `PathRef` objects keep a specific path in a document synced over time as new\n * operations are applied to the editor. You can access their `current` property\n * at any time for the up-to-date path value.\n */\n\nexport interface PathRef {\n  current: Path | null\n  affinity: 'forward' | 'backward' | null\n  unref(): Path | null\n}\n\nexport interface PathRefInterface {\n  /**\n   * Transform the path ref's current value by an operation.\n   */\n  transform: (ref: PathRef, op: Operation) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const PathRef: PathRefInterface = {\n  transform(ref: PathRef, op: Operation): void {\n    const { current, affinity } = ref\n\n    if (current == null) {\n      return\n    }\n\n    const path = Path.transform(current, op, { affinity })\n    ref.current = path\n\n    if (path == null) {\n      ref.unref()\n    }\n  },\n}\n","import { Operation, Point } from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `PointRef` objects keep a specific point in a document synced over time as new\n * operations are applied to the editor. You can access their `current` property\n * at any time for the up-to-date point value.\n */\n\nexport interface PointRef {\n  current: Point | null\n  affinity: TextDirection | null\n  unref(): Point | null\n}\n\nexport interface PointRefInterface {\n  /**\n   * Transform the point ref's current value by an operation.\n   */\n  transform: (ref: PointRef, op: Operation) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const PointRef: PointRefInterface = {\n  transform(ref: PointRef, op: Operation): void {\n    const { current, affinity } = ref\n\n    if (current == null) {\n      return\n    }\n\n    const point = Point.transform(current, op, { affinity })\n    ref.current = point\n\n    if (point == null) {\n      ref.unref()\n    }\n  },\n}\n","import { Operation, Range } from '..'\n\n/**\n * `RangeRef` objects keep a specific range in a document synced over time as new\n * operations are applied to the editor. You can access their `current` property\n * at any time for the up-to-date range value.\n */\n\nexport interface RangeRef {\n  current: Range | null\n  affinity: 'forward' | 'backward' | 'outward' | 'inward' | null\n  unref(): Range | null\n}\n\nexport interface RangeRefInterface {\n  /**\n   * Transform the range ref's current value by an operation.\n   */\n  transform: (ref: RangeRef, op: Operation) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const RangeRef: RangeRefInterface = {\n  transform(ref: RangeRef, op: Operation): void {\n    const { current, affinity } = ref\n\n    if (current == null) {\n      return\n    }\n\n    const path = Range.transform(current, op, { affinity })\n    ref.current = path\n\n    if (path == null) {\n      ref.unref()\n    }\n  },\n}\n","import { Editor, Path, PathRef, PointRef, RangeRef } from '..'\n\nexport const DIRTY_PATHS: WeakMap<Editor, Path[]> = new WeakMap()\nexport const DIRTY_PATH_KEYS: WeakMap<Editor, Set<string>> = new WeakMap()\nexport const FLUSHING: WeakMap<Editor, boolean> = new WeakMap()\nexport const NORMALIZING: WeakMap<Editor, boolean> = new WeakMap()\nexport const PATH_REFS: WeakMap<Editor, Set<PathRef>> = new WeakMap()\nexport const POINT_REFS: WeakMap<Editor, Set<PointRef>> = new WeakMap()\nexport const RANGE_REFS: WeakMap<Editor, Set<RangeRef>> = new WeakMap()\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import {\n  InsertNodeOperation,\n  MergeNodeOperation,\n  MoveNodeOperation,\n  Operation,\n  RemoveNodeOperation,\n  SplitNodeOperation,\n} from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Path` arrays are a list of indexes that describe a node's exact position in\n * a Slate node tree. Although they are usually relative to the root `Editor`\n * object, they can be relative to any `Node` object.\n */\n\nexport type Path = number[]\n\nexport interface PathAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface PathLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface PathTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PathInterface {\n  /**\n   * Get a list of ancestor paths for a given path.\n   *\n   * The paths are sorted from shallowest to deepest ancestor. However, if the\n   * `reverse: true` option is passed, they are reversed.\n   */\n  ancestors: (path: Path, options?: PathAncestorsOptions) => Path[]\n\n  /**\n   * Get the common ancestor path of two paths.\n   */\n  common: (path: Path, another: Path) => Path\n\n  /**\n   * Compare a path to another, returning an integer indicating whether the path\n   * was before, at, or after the other.\n   *\n   * Note: Two paths of unequal length can still receive a `0` result if one is\n   * directly above or below the other. If you want exact matching, use\n   * [[Path.equals]] instead.\n   */\n  compare: (path: Path, another: Path) => -1 | 0 | 1\n\n  /**\n   * Check if a path ends after one of the indexes in another.\n   */\n  endsAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends at one of the indexes in another.\n   */\n  endsAt: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends before one of the indexes in another.\n   */\n  endsBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is exactly equal to another.\n   */\n  equals: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if the path of previous sibling node exists\n   */\n  hasPrevious: (path: Path) => boolean\n\n  /**\n   * Check if a path is after another.\n   */\n  isAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is an ancestor of another.\n   */\n  isAncestor: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is before another.\n   */\n  isBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a child of another.\n   */\n  isChild: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is equal to or an ancestor of another.\n   */\n  isCommon: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a descendant of another.\n   */\n  isDescendant: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is the parent of another.\n   */\n  isParent: (path: Path, another: Path) => boolean\n\n  /**\n   * Check is a value implements the `Path` interface.\n   */\n  isPath: (value: any) => value is Path\n\n  /**\n   * Check if a path is a sibling of another.\n   */\n  isSibling: (path: Path, another: Path) => boolean\n\n  /**\n   * Get a list of paths at every level down to a path. Note: this is the same\n   * as `Path.ancestors`, but including the path itself.\n   *\n   * The paths are sorted from shallowest to deepest. However, if the `reverse:\n   * true` option is passed, they are reversed.\n   */\n  levels: (path: Path, options?: PathLevelsOptions) => Path[]\n\n  /**\n   * Given a path, get the path to the next sibling node.\n   */\n  next: (path: Path) => Path\n\n  /**\n   * Returns whether this operation can affect paths or not. Used as an\n   * optimization when updating dirty paths during normalization\n   *\n   * NOTE: This *must* be kept in sync with the implementation of 'transform'\n   * below\n   */\n  operationCanTransformPath: (\n    operation: Operation\n  ) => operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation\n\n  /**\n   * Given a path, return a new path referring to the parent node above it.\n   */\n  parent: (path: Path) => Path\n\n  /**\n   * Given a path, get the path to the previous sibling node.\n   */\n  previous: (path: Path) => Path\n\n  /**\n   * Get a path relative to an ancestor.\n   */\n  relative: (path: Path, ancestor: Path) => Path\n\n  /**\n   * Transform a path by an operation.\n   */\n  transform: (\n    path: Path,\n    operation: Operation,\n    options?: PathTransformOptions\n  ) => Path | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Path: PathInterface = {\n  ancestors(path: Path, options: PathAncestorsOptions = {}): Path[] {\n    const { reverse = false } = options\n    let paths = Path.levels(path, options)\n\n    if (reverse) {\n      paths = paths.slice(1)\n    } else {\n      paths = paths.slice(0, -1)\n    }\n\n    return paths\n  },\n\n  common(path: Path, another: Path): Path {\n    const common: Path = []\n\n    for (let i = 0; i < path.length && i < another.length; i++) {\n      const av = path[i]\n      const bv = another[i]\n\n      if (av !== bv) {\n        break\n      }\n\n      common.push(av)\n    }\n\n    return common\n  },\n\n  compare(path: Path, another: Path): -1 | 0 | 1 {\n    const min = Math.min(path.length, another.length)\n\n    for (let i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1\n      if (path[i] > another[i]) return 1\n    }\n\n    return 0\n  },\n\n  endsAfter(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av > bv\n  },\n\n  endsAt(path: Path, another: Path): boolean {\n    const i = path.length\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    return Path.equals(as, bs)\n  },\n\n  endsBefore(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av < bv\n  },\n\n  equals(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length && path.every((n, i) => n === another[i])\n    )\n  },\n\n  hasPrevious(path: Path): boolean {\n    return path[path.length - 1] > 0\n  },\n\n  isAfter(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === 1\n  },\n\n  isAncestor(path: Path, another: Path): boolean {\n    return path.length < another.length && Path.compare(path, another) === 0\n  },\n\n  isBefore(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === -1\n  },\n\n  isChild(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length + 1 && Path.compare(path, another) === 0\n    )\n  },\n\n  isCommon(path: Path, another: Path): boolean {\n    return path.length <= another.length && Path.compare(path, another) === 0\n  },\n\n  isDescendant(path: Path, another: Path): boolean {\n    return path.length > another.length && Path.compare(path, another) === 0\n  },\n\n  isParent(path: Path, another: Path): boolean {\n    return (\n      path.length + 1 === another.length && Path.compare(path, another) === 0\n    )\n  },\n\n  isPath(value: any): value is Path {\n    return Array.isArray(value) && value.every(n => typeof n === 'number')\n  },\n\n  isSibling(path: Path, another: Path): boolean {\n    if (path.length !== another.length) {\n      return false\n    }\n\n    const as = path.slice(0, -1)\n    const bs = another.slice(0, -1)\n    const al = path[path.length - 1]\n    const bl = another[another.length - 1]\n    return al !== bl && Path.equals(as, bs)\n  },\n\n  levels(path: Path, options: PathLevelsOptions = {}): Path[] {\n    const { reverse = false } = options\n    const list: Path[] = []\n\n    for (let i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i))\n    }\n\n    if (reverse) {\n      list.reverse()\n    }\n\n    return list\n  },\n\n  next(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the next path of a root path [${path}], because it has no next index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n    return path.slice(0, -1).concat(last + 1)\n  },\n\n  operationCanTransformPath(\n    operation: Operation\n  ): operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation {\n    switch (operation.type) {\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n      case 'move_node':\n        return true\n      default:\n        return false\n    }\n  },\n\n  parent(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(`Cannot get the parent path of the root path [${path}].`)\n    }\n\n    return path.slice(0, -1)\n  },\n\n  previous(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the previous path of a root path [${path}], because it has no previous index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n\n    if (last <= 0) {\n      throw new Error(\n        `Cannot get the previous path of a first child path [${path}] because it would result in a negative index.`\n      )\n    }\n\n    return path.slice(0, -1).concat(last - 1)\n  },\n\n  relative(path: Path, ancestor: Path): Path {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\n        `Cannot get the relative path of [${path}] inside ancestor [${ancestor}], because it is not above or equal to the path.`\n      )\n    }\n\n    return path.slice(ancestor.length)\n  },\n\n  transform(\n    path: Path | null,\n    operation: Operation,\n    options: PathTransformOptions = {}\n  ): Path | null {\n    if (!path) return null\n\n    // PERF: use destructing instead of immer\n    const p = [...path]\n    const { affinity = 'forward' } = options\n\n    // PERF: Exit early if the operation is guaranteed not to have an effect.\n    if (path.length === 0) {\n      return p\n    }\n\n    switch (operation.type) {\n      case 'insert_node': {\n        const { path: op } = operation\n\n        if (\n          Path.equals(op, p) ||\n          Path.endsBefore(op, p) ||\n          Path.isAncestor(op, p)\n        ) {\n          p[op.length - 1] += 1\n        }\n\n        break\n      }\n\n      case 'remove_node': {\n        const { path: op } = operation\n\n        if (Path.equals(op, p) || Path.isAncestor(op, p)) {\n          return null\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n\n      case 'merge_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p) || Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        } else if (Path.isAncestor(op, p)) {\n          p[op.length - 1] -= 1\n          p[op.length] += position\n        }\n\n        break\n      }\n\n      case 'split_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p)) {\n          if (affinity === 'forward') {\n            p[p.length - 1] += 1\n          } else if (affinity === 'backward') {\n            // Nothing, because it still refers to the right path.\n          } else {\n            return null\n          }\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] += 1\n        } else if (Path.isAncestor(op, p) && path[op.length] >= position) {\n          p[op.length - 1] += 1\n          p[op.length] -= position\n        }\n\n        break\n      }\n\n      case 'move_node': {\n        const { path: op, newPath: onp } = operation\n\n        // If the old and new path are the same, it's a no-op.\n        if (Path.equals(op, onp)) {\n          return p\n        }\n\n        if (Path.isAncestor(op, p) || Path.equals(op, p)) {\n          const copy = onp.slice()\n\n          if (Path.endsBefore(op, onp) && op.length < onp.length) {\n            copy[op.length - 1] -= 1\n          }\n\n          return copy.concat(p.slice(op.length))\n        } else if (\n          Path.isSibling(op, onp) &&\n          (Path.isAncestor(onp, p) || Path.equals(onp, p))\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          } else {\n            p[op.length - 1] += 1\n          }\n        } else if (\n          Path.endsBefore(onp, p) ||\n          Path.equals(onp, p) ||\n          Path.isAncestor(onp, p)\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          }\n\n          p[onp.length - 1] += 1\n        } else if (Path.endsBefore(op, p)) {\n          if (Path.equals(onp, p)) {\n            p[onp.length - 1] += 1\n          }\n\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n    }\n\n    return p\n  },\n}\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import {\n  ExtendedType,\n  Location,\n  Operation,\n  Path,\n  Point,\n  PointEntry,\n  isObject,\n} from '..'\nimport { RangeDirection } from '../types/types'\n\n/**\n * `Range` objects are a set of points that refer to a specific span of a Slate\n * document. They can define a span inside a single node or a can span across\n * multiple nodes.\n */\n\nexport interface BaseRange {\n  anchor: Point\n  focus: Point\n}\n\nexport type Range = ExtendedType<'Range', BaseRange>\n\nexport interface RangeEdgesOptions {\n  reverse?: boolean\n}\n\nexport interface RangeTransformOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface RangeInterface {\n  /**\n   * Get the start and end points of a range, in the order in which they appear\n   * in the document.\n   */\n  edges: (range: Range, options?: RangeEdgesOptions) => [Point, Point]\n\n  /**\n   * Get the end point of a range.\n   */\n  end: (range: Range) => Point\n\n  /**\n   * Check if a range is exactly equal to another.\n   */\n  equals: (range: Range, another: Range) => boolean\n\n  /**\n   * Check if a range includes a path, a point or part of another range.\n   */\n  includes: (range: Range, target: Location) => boolean\n\n  /**\n   * Check if a range includes another range.\n   */\n  surrounds: (range: Range, target: Range) => boolean\n\n  /**\n   * Get the intersection of a range with another.\n   */\n  intersection: (range: Range, another: Range) => Range | null\n\n  /**\n   * Check if a range is backward, meaning that its anchor point appears in the\n   * document _after_ its focus point.\n   */\n  isBackward: (range: Range) => boolean\n\n  /**\n   * Check if a range is collapsed, meaning that both its anchor and focus\n   * points refer to the exact same position in the document.\n   */\n  isCollapsed: (range: Range) => boolean\n\n  /**\n   * Check if a range is expanded.\n   *\n   * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\n   */\n  isExpanded: (range: Range) => boolean\n\n  /**\n   * Check if a range is forward.\n   *\n   * This is the opposite of [[Range.isBackward]] and is provided for legibility.\n   */\n  isForward: (range: Range) => boolean\n\n  /**\n   * Check if a value implements the [[Range]] interface.\n   */\n  isRange: (value: any) => value is Range\n\n  /**\n   * Iterate through all of the point entries in a range.\n   */\n  points: (range: Range) => Generator<PointEntry, void, undefined>\n\n  /**\n   * Get the start point of a range.\n   */\n  start: (range: Range) => Point\n\n  /**\n   * Transform a range by an operation.\n   */\n  transform: (\n    range: Range,\n    op: Operation,\n    options?: RangeTransformOptions\n  ) => Range | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Range: RangeInterface = {\n  edges(range: Range, options: RangeEdgesOptions = {}): [Point, Point] {\n    const { reverse = false } = options\n    const { anchor, focus } = range\n    return Range.isBackward(range) === reverse\n      ? [anchor, focus]\n      : [focus, anchor]\n  },\n\n  end(range: Range): Point {\n    const [, end] = Range.edges(range)\n    return end\n  },\n\n  equals(range: Range, another: Range): boolean {\n    return (\n      Point.equals(range.anchor, another.anchor) &&\n      Point.equals(range.focus, another.focus)\n    )\n  },\n\n  surrounds(range: Range, target: Range): boolean {\n    const intersectionRange = Range.intersection(range, target)\n    if (!intersectionRange) {\n      return false\n    }\n    return Range.equals(intersectionRange, target)\n  },\n\n  includes(range: Range, target: Location): boolean {\n    if (Location.isRange(target)) {\n      if (\n        Range.includes(range, target.anchor) ||\n        Range.includes(range, target.focus)\n      ) {\n        return true\n      }\n\n      const [rs, re] = Range.edges(range)\n      const [ts, te] = Range.edges(target)\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te)\n    }\n\n    const [start, end] = Range.edges(range)\n    let isAfterStart = false\n    let isBeforeEnd = false\n\n    if (Location.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0\n      isBeforeEnd = Point.compare(target, end) <= 0\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0\n      isBeforeEnd = Path.compare(target, end.path) <= 0\n    }\n\n    return isAfterStart && isBeforeEnd\n  },\n\n  intersection(range: Range, another: Range): Range | null {\n    const { anchor, focus, ...rest } = range\n    const [s1, e1] = Range.edges(range)\n    const [s2, e2] = Range.edges(another)\n    const start = Point.isBefore(s1, s2) ? s2 : s1\n    const end = Point.isBefore(e1, e2) ? e1 : e2\n\n    if (Point.isBefore(end, start)) {\n      return null\n    } else {\n      return { anchor: start, focus: end, ...rest }\n    }\n  },\n\n  isBackward(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.isAfter(anchor, focus)\n  },\n\n  isCollapsed(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.equals(anchor, focus)\n  },\n\n  isExpanded(range: Range): boolean {\n    return !Range.isCollapsed(range)\n  },\n\n  isForward(range: Range): boolean {\n    return !Range.isBackward(range)\n  },\n\n  isRange(value: any): value is Range {\n    return (\n      isObject(value) &&\n      Point.isPoint(value.anchor) &&\n      Point.isPoint(value.focus)\n    )\n  },\n\n  *points(range: Range): Generator<PointEntry, void, undefined> {\n    yield [range.anchor, 'anchor']\n    yield [range.focus, 'focus']\n  },\n\n  start(range: Range): Point {\n    const [start] = Range.edges(range)\n    return start\n  },\n\n  transform(\n    range: Range | null,\n    op: Operation,\n    options: RangeTransformOptions = {}\n  ): Range | null {\n    if (range === null) {\n      return null\n    }\n\n    const { affinity = 'inward' } = options\n    let affinityAnchor: 'forward' | 'backward' | null\n    let affinityFocus: 'forward' | 'backward' | null\n\n    if (affinity === 'inward') {\n      // If the range is collapsed, make sure to use the same affinity to\n      // avoid the two points passing each other and expanding in the opposite\n      // direction\n      const isCollapsed = Range.isCollapsed(range)\n      if (Range.isForward(range)) {\n        affinityAnchor = 'forward'\n        affinityFocus = isCollapsed ? affinityAnchor : 'backward'\n      } else {\n        affinityAnchor = 'backward'\n        affinityFocus = isCollapsed ? affinityAnchor : 'forward'\n      }\n    } else if (affinity === 'outward') {\n      if (Range.isForward(range)) {\n        affinityAnchor = 'backward'\n        affinityFocus = 'forward'\n      } else {\n        affinityAnchor = 'forward'\n        affinityFocus = 'backward'\n      }\n    } else {\n      affinityAnchor = affinity\n      affinityFocus = affinity\n    }\n    const anchor = Point.transform(range.anchor, op, {\n      affinity: affinityAnchor,\n    })\n    const focus = Point.transform(range.focus, op, { affinity: affinityFocus })\n\n    if (!anchor || !focus) {\n      return null\n    }\n\n    return { anchor, focus }\n  },\n}\n","import {\n  Ancestor,\n  Descendant,\n  Editor,\n  ExtendedType,\n  Node,\n  Path,\n  isObject,\n} from '..'\n\n/**\n * `Element` objects are a type of node in a Slate document that contain other\n * element nodes or text nodes. They can be either \"blocks\" or \"inlines\"\n * depending on the Slate editor's configuration.\n */\n\nexport interface BaseElement {\n  children: Descendant[]\n}\n\nexport type Element = ExtendedType<'Element', BaseElement>\n\nexport interface ElementIsElementOptions {\n  deep?: boolean\n}\n\nexport interface ElementInterface {\n  /**\n   * Check if a value implements the 'Ancestor' interface.\n   */\n  isAncestor: (\n    value: any,\n    options?: ElementIsElementOptions\n  ) => value is Ancestor\n\n  /**\n   * Check if a value implements the `Element` interface.\n   */\n  isElement: (value: any, options?: ElementIsElementOptions) => value is Element\n\n  /**\n   * Check if a value is an array of `Element` objects.\n   */\n  isElementList: (\n    value: any,\n    options?: ElementIsElementOptions\n  ) => value is Element[]\n\n  /**\n   * Check if a set of props is a partial of Element.\n   */\n  isElementProps: (props: any) => props is Partial<Element>\n\n  /**\n   * Check if a value implements the `Element` interface and has elementKey with selected value.\n   * Default it check to `type` key value\n   */\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey?: string\n  ) => value is T\n\n  /**\n   * Check if an element matches set of properties.\n   *\n   * Note: this checks custom properties, and it does not ensure that any\n   * children are equivalent.\n   */\n  matches: (element: Element, props: Partial<Element>) => boolean\n}\n\n/**\n * Shared the function with isElementType utility\n */\nconst isElement = (\n  value: any,\n  { deep = false }: ElementIsElementOptions = {}\n): value is Element => {\n  if (!isObject(value)) return false\n\n  // PERF: No need to use the full Editor.isEditor here\n  const isEditor = typeof value.apply === 'function'\n  if (isEditor) return false\n\n  const isChildrenValid = deep\n    ? Node.isNodeList(value.children)\n    : Array.isArray(value.children)\n\n  return isChildrenValid\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Element: ElementInterface = {\n  isAncestor(\n    value: any,\n    { deep = false }: ElementIsElementOptions = {}\n  ): value is Ancestor {\n    return isObject(value) && Node.isNodeList(value.children, { deep })\n  },\n\n  isElement,\n\n  isElementList(\n    value: any,\n    { deep = false }: ElementIsElementOptions = {}\n  ): value is Element[] {\n    return (\n      Array.isArray(value) &&\n      value.every(val => Element.isElement(val, { deep }))\n    )\n  },\n\n  isElementProps(props: any): props is Partial<Element> {\n    return (props as Partial<Element>).children !== undefined\n  },\n\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey: string = 'type'\n  ): value is T => {\n    return (\n      isElement(value) && value[<keyof Descendant>elementKey] === elementVal\n    )\n  },\n\n  matches(element: Element, props: Partial<Element>): boolean {\n    for (const key in props) {\n      if (key === 'children') {\n        continue\n      }\n\n      if (element[<keyof Descendant>key] !== props[<keyof Descendant>key]) {\n        return false\n      }\n    }\n\n    return true\n  },\n}\n\n/**\n * `ElementEntry` objects refer to an `Element` and the `Path` where it can be\n * found inside a root node.\n */\nexport type ElementEntry = [Element, Path]\n","import { Editor, Path, Range, Scrubber, Text } from '..'\nimport { Element, ElementEntry } from './element'\nimport { modifyChildren, modifyLeaf, removeChildren } from '../utils/modify'\n\n/**\n * The `Node` union type represents all of the different types of nodes that\n * occur in a Slate document tree.\n */\n\nexport type BaseNode = Editor | Element | Text\nexport type Node = Editor | Element | Text\n\nexport interface NodeAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeChildrenOptions {\n  reverse?: boolean\n}\n\nexport interface NodeDescendantsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeElementsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeIsNodeOptions {\n  deep?: boolean\n}\n\nexport interface NodeLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeNodesOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (entry: NodeEntry) => boolean\n}\n\nexport interface NodeTextsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeInterface {\n  /**\n   * Get the node at a specific path, asserting that it's an ancestor node.\n   */\n  ancestor: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Return a generator of all the ancestor nodes above a specific path.\n   *\n   * By default the order is top-down, from highest to lowest ancestor in\n   * the tree, but you can pass the `reverse: true` option to go bottom-up.\n   */\n  ancestors: (\n    root: Node,\n    path: Path,\n    options?: NodeAncestorsOptions\n  ) => Generator<NodeEntry<Ancestor>, void, undefined>\n\n  /**\n   * Get the child of a node at a specific index.\n   */\n  child: (root: Node, index: number) => Descendant\n\n  /**\n   * Iterate over the children of a node at a specific path.\n   */\n  children: (\n    root: Node,\n    path: Path,\n    options?: NodeChildrenOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Get an entry for the common ancesetor node of two paths.\n   */\n  common: (root: Node, path: Path, another: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, asserting that it's a descendant node.\n   */\n  descendant: (root: Node, path: Path) => Descendant\n\n  /**\n   * Return a generator of all the descendant node entries inside a root node.\n   */\n  descendants: (\n    root: Node,\n    options?: NodeDescendantsOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Return a generator of all the element nodes inside a root node. Each iteration\n   * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\n   * root node is an element it will be included in the iteration as well.\n   */\n  elements: (\n    root: Node,\n    options?: NodeElementsOptions\n  ) => Generator<ElementEntry, void, undefined>\n\n  /**\n   * Extract props from a Node.\n   */\n  extractProps: (node: Node) => NodeProps\n\n  /**\n   * Get the first leaf node entry in a root node from a path.\n   */\n  first: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the sliced fragment represented by a range inside a root node.\n   */\n  fragment: <T extends Ancestor = Editor>(\n    root: T,\n    range: Range\n  ) => T['children']\n\n  /**\n   * Get the descendant node referred to by a specific path. If the path is an\n   * empty array, it refers to the root node itself.\n   */\n  get: (root: Node, path: Path) => Node\n\n  /**\n   * Similar to get, but returns undefined if the node does not exist.\n   */\n  getIf: (root: Node, path: Path) => Node | undefined\n\n  /**\n   * Check if a descendant node exists at a specific path.\n   */\n  has: (root: Node, path: Path) => boolean\n\n  /**\n   * Check if a node is an `Editor` or `Element` object.\n   */\n  isAncestor: (node: Node) => node is Ancestor\n\n  /**\n   * Check if a node is an `Editor` object.\n   */\n  isEditor: (node: Node) => node is Editor\n\n  /**\n   * Check if a node is an `Element` object.\n   */\n  isElement: (node: Node) => node is Element\n\n  /**\n   * Check if a value implements the `Node` interface.\n   */\n  isNode: (value: any, options?: NodeIsNodeOptions) => value is Node\n\n  /**\n   * Check if a value is a list of `Node` objects.\n   */\n  isNodeList: (value: any, options?: NodeIsNodeOptions) => value is Node[]\n\n  /**\n   * Check if a node is an `Text` object.\n   */\n  isText: (node: Node) => node is Text\n\n  /**\n   * Get the last leaf node entry in a root node from a path.\n   */\n  last: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, ensuring it's a leaf text node.\n   */\n  leaf: (root: Node, path: Path) => Text\n\n  /**\n   * Return a generator of the in a branch of the tree, from a specific path.\n   *\n   * By default the order is top-down, from highest to lowest node in the tree,\n   * but you can pass the `reverse: true` option to go bottom-up.\n   */\n  levels: (\n    root: Node,\n    path: Path,\n    options?: NodeLevelsOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Check if a node matches a set of props.\n   */\n  matches: (node: Node, props: Partial<Node>) => boolean\n\n  /**\n   * Return a generator of all the node entries of a root node. Each entry is\n   * returned as a `[Node, Path]` tuple, with the path referring to the node's\n   * position inside the root node.\n   */\n  nodes: (\n    root: Node,\n    options?: NodeNodesOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Get the parent of a node at a specific path.\n   */\n  parent: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Get the concatenated text string of a node's content.\n   *\n   * Note that this will not include spaces or line breaks between block nodes.\n   * It is not a user-facing string, but a string for performing offset-related\n   * computations for a node.\n   */\n  string: (node: Node) => string\n\n  /**\n   * Return a generator of all leaf text nodes in a root node.\n   */\n  texts: (\n    root: Node,\n    options?: NodeTextsOptions\n  ) => Generator<NodeEntry<Text>, void, undefined>\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Node: NodeInterface = {\n  ancestor(root: Node, path: Path): Ancestor {\n    const node = Node.get(root, path)\n\n    if (Node.isText(node)) {\n      throw new Error(\n        `Cannot get the ancestor node at path [${path}] because it refers to a text node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *ancestors(\n    root: Node,\n    path: Path,\n    options: NodeAncestorsOptions = {}\n  ): Generator<NodeEntry<Ancestor>, void, undefined> {\n    for (const p of Path.ancestors(path, options)) {\n      const n = Node.ancestor(root, p)\n      const entry: NodeEntry<Ancestor> = [n, p]\n      yield entry\n    }\n  },\n\n  child(root: Node, index: number): Descendant {\n    if (Node.isText(root)) {\n      throw new Error(\n        `Cannot get the child of a text node: ${Scrubber.stringify(root)}`\n      )\n    }\n\n    const c = root.children[index] as Descendant\n\n    if (c == null) {\n      throw new Error(\n        `Cannot get child at index \\`${index}\\` in node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n\n    return c\n  },\n\n  *children(\n    root: Node,\n    path: Path,\n    options: NodeChildrenOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    const { reverse = false } = options\n    const ancestor = Node.ancestor(root, path)\n    const { children } = ancestor\n    let index = reverse ? children.length - 1 : 0\n\n    while (reverse ? index >= 0 : index < children.length) {\n      const child = Node.child(ancestor, index)\n      const childPath = path.concat(index)\n      yield [child, childPath]\n      index = reverse ? index - 1 : index + 1\n    }\n  },\n\n  common(root: Node, path: Path, another: Path): NodeEntry {\n    const p = Path.common(path, another)\n    const n = Node.get(root, p)\n    return [n, p]\n  },\n\n  descendant(root: Node, path: Path): Descendant {\n    const node = Node.get(root, path)\n\n    if (Node.isEditor(node)) {\n      throw new Error(\n        `Cannot get the descendant node at path [${path}] because it refers to the root editor node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *descendants(\n    root: Node,\n    options: NodeDescendantsOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (path.length !== 0) {\n        // NOTE: we have to coerce here because checking the path's length does\n        // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n        yield [node, path] as NodeEntry<Descendant>\n      }\n    }\n  },\n\n  *elements(\n    root: Node,\n    options: NodeElementsOptions = {}\n  ): Generator<ElementEntry, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Node.isElement(node)) {\n        yield [node, path]\n      }\n    }\n  },\n\n  extractProps(node: Node): NodeProps {\n    if (Node.isText(node)) {\n      const { text, ...properties } = node\n\n      return properties\n    } else {\n      const { children, ...properties } = node\n\n      return properties\n    }\n  },\n\n  first(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Node.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        n = n.children[0]\n        p.push(0)\n      }\n    }\n\n    return [n, p]\n  },\n\n  fragment<T extends Ancestor = Editor>(root: T, range: Range): T['children'] {\n    const newRoot = { children: root.children }\n\n    const [start, end] = Range.edges(range)\n    const nodeEntries = Node.nodes(newRoot, {\n      reverse: true,\n      pass: ([, path]) => !Range.includes(range, path),\n    })\n\n    for (const [, path] of nodeEntries) {\n      if (!Range.includes(range, path)) {\n        const index = path[path.length - 1]\n\n        modifyChildren(newRoot, Path.parent(path), children =>\n          removeChildren(children, index, 1)\n        )\n      }\n\n      if (Path.equals(path, end.path)) {\n        modifyLeaf(newRoot, path, node => {\n          const before = node.text.slice(0, end.offset)\n          return { ...node, text: before }\n        })\n      }\n\n      if (Path.equals(path, start.path)) {\n        modifyLeaf(newRoot, path, node => {\n          const before = node.text.slice(start.offset)\n          return { ...node, text: before }\n        })\n      }\n    }\n\n    return newRoot.children\n  },\n\n  get(root: Node, path: Path): Node {\n    const node = Node.getIf(root, path)\n    if (node === undefined) {\n      throw new Error(\n        `Cannot find a descendant at path [${path}] in node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n    return node\n  },\n\n  getIf(root: Node, path: Path): Node | undefined {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Node.isText(node) || !node.children[p]) {\n        return\n      }\n\n      node = node.children[p]\n    }\n\n    return node\n  },\n\n  has(root: Node, path: Path): boolean {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Node.isText(node) || !node.children[p]) {\n        return false\n      }\n\n      node = node.children[p]\n    }\n\n    return true\n  },\n\n  isAncestor(node: Node): node is Ancestor {\n    return !Node.isText(node)\n  },\n\n  isEditor(node: Node): node is Editor {\n    return typeof (node as Editor).apply === 'function'\n  },\n\n  isElement(node: Node): node is Element {\n    return (\n      Array.isArray((node as Element).children) &&\n      typeof (node as Editor).apply !== 'function'\n    )\n  },\n\n  isNode(value: any, { deep = false }: NodeIsNodeOptions = {}): value is Node {\n    return (\n      Text.isText(value) ||\n      Element.isElement(value, { deep }) ||\n      Editor.isEditor(value, { deep })\n    )\n  },\n\n  isNodeList(\n    value: any,\n    { deep = false }: NodeIsNodeOptions = {}\n  ): value is Node[] {\n    return (\n      Array.isArray(value) && value.every(val => Node.isNode(val, { deep }))\n    )\n  },\n\n  isText(node: Node): node is Text {\n    return typeof (node as Text).text === 'string'\n  },\n\n  last(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Node.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        const i = n.children.length - 1\n        n = n.children[i]\n        p.push(i)\n      }\n    }\n\n    return [n, p]\n  },\n\n  leaf(root: Node, path: Path): Text {\n    const node = Node.get(root, path)\n\n    if (!Node.isText(node)) {\n      throw new Error(\n        `Cannot get the leaf node at path [${path}] because it refers to a non-leaf node: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *levels(\n    root: Node,\n    path: Path,\n    options: NodeLevelsOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    for (const p of Path.levels(path, options)) {\n      const n = Node.get(root, p)\n      yield [n, p]\n    }\n  },\n\n  matches(node: Node, props: Partial<Node>): boolean {\n    return (\n      (Node.isElement(node) &&\n        Element.isElementProps(props) &&\n        Element.matches(node, props)) ||\n      (Node.isText(node) &&\n        Text.isTextProps(props) &&\n        Text.matches(node, props))\n    )\n  },\n\n  *nodes(\n    root: Node,\n    options: NodeNodesOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    const { pass, reverse = false } = options\n    const { from = [], to } = options\n    const visited = new Set()\n    let p: Path = []\n    let n = root\n\n    while (true) {\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n        break\n      }\n\n      if (!visited.has(n)) {\n        yield [n, p]\n      }\n\n      // If we're allowed to go downward and we haven't descended yet, do.\n      if (\n        !visited.has(n) &&\n        !Node.isText(n) &&\n        n.children.length !== 0 &&\n        (pass == null || pass([n, p]) === false)\n      ) {\n        visited.add(n)\n        let nextIndex = reverse ? n.children.length - 1 : 0\n\n        if (Path.isAncestor(p, from)) {\n          nextIndex = from[p.length]\n        }\n\n        p = p.concat(nextIndex)\n        n = Node.get(root, p)\n        continue\n      }\n\n      // If we're at the root and we can't go down, we're done.\n      if (p.length === 0) {\n        break\n      }\n\n      // If we're going forward...\n      if (!reverse) {\n        const newPath = Path.next(p)\n\n        if (Node.has(root, newPath)) {\n          p = newPath\n          n = Node.get(root, p)\n          continue\n        }\n      }\n\n      // If we're going backward...\n      if (reverse && p[p.length - 1] !== 0) {\n        const newPath = Path.previous(p)\n        p = newPath\n        n = Node.get(root, p)\n        continue\n      }\n\n      // Otherwise we're going upward...\n      p = Path.parent(p)\n      n = Node.get(root, p)\n      visited.add(n)\n    }\n  },\n\n  parent(root: Node, path: Path): Ancestor {\n    const parentPath = Path.parent(path)\n    const node = Node.get(root, parentPath)\n\n    if (Node.isText(node)) {\n      // this can happen if `path` points somewhere that doesnt exist and it's where a child of a text node would be\n      throw new Error(\n        `Cannot get the parent of path [${path}] because it does not exist in the root.`\n      )\n    }\n\n    return node\n  },\n\n  string(node: Node): string {\n    if (Node.isText(node)) {\n      return node.text\n    } else {\n      return node.children.map(Node.string).join('')\n    }\n  },\n\n  *texts(\n    root: Node,\n    options: NodeTextsOptions = {}\n  ): Generator<NodeEntry<Text>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Node.isText(node)) {\n        yield [node, path]\n      }\n    }\n  },\n}\n\n/**\n * The `Descendant` union type represents nodes that are descendants in the\n * tree. It is returned as a convenience in certain cases to narrow a value\n * further than the more generic `Node` union.\n */\n\nexport type Descendant = Element | Text\n\n/**\n * The `Ancestor` union type represents nodes that are ancestors in the tree.\n * It is returned as a convenience in certain cases to narrow a value further\n * than the more generic `Node` union.\n */\n\nexport type Ancestor = Editor | Element\n\n/**\n * `NodeEntry` objects are returned when iterating over the nodes in a Slate\n * document tree. They consist of the node and its `Path` relative to the root\n * node in the document.\n */\n\nexport type NodeEntry<T extends Node = Node> = [T, Path]\n\n/**\n * Convenience type for returning the props of a node.\n */\nexport type NodeProps =\n  | Omit<Editor, 'children'>\n  | Omit<Element, 'children'>\n  | Omit<Text, 'text'>\n","import { ExtendedType, Node, Path, Range, isObject } from '..'\n\nexport type BaseInsertNodeOperation = {\n  type: 'insert_node'\n  path: Path\n  node: Node\n}\n\nexport type InsertNodeOperation = ExtendedType<\n  'InsertNodeOperation',\n  BaseInsertNodeOperation\n>\n\nexport type BaseInsertTextOperation = {\n  type: 'insert_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type InsertTextOperation = ExtendedType<\n  'InsertTextOperation',\n  BaseInsertTextOperation\n>\n\nexport type BaseMergeNodeOperation = {\n  type: 'merge_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type MergeNodeOperation = ExtendedType<\n  'MergeNodeOperation',\n  BaseMergeNodeOperation\n>\n\nexport type BaseMoveNodeOperation = {\n  type: 'move_node'\n  path: Path\n  newPath: Path\n}\n\nexport type MoveNodeOperation = ExtendedType<\n  'MoveNodeOperation',\n  BaseMoveNodeOperation\n>\n\nexport type BaseRemoveNodeOperation = {\n  type: 'remove_node'\n  path: Path\n  node: Node\n}\n\nexport type RemoveNodeOperation = ExtendedType<\n  'RemoveNodeOperation',\n  BaseRemoveNodeOperation\n>\n\nexport type BaseRemoveTextOperation = {\n  type: 'remove_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type RemoveTextOperation = ExtendedType<\n  'RemoveTextOperation',\n  BaseRemoveTextOperation\n>\n\nexport type BaseSetNodeOperation = {\n  type: 'set_node'\n  path: Path\n  properties: Partial<Node>\n  newProperties: Partial<Node>\n}\n\nexport type SetNodeOperation = ExtendedType<\n  'SetNodeOperation',\n  BaseSetNodeOperation\n>\n\nexport type BaseSetSelectionOperation =\n  | {\n      type: 'set_selection'\n      properties: null\n      newProperties: Range\n    }\n  | {\n      type: 'set_selection'\n      properties: Partial<Range>\n      newProperties: Partial<Range>\n    }\n  | {\n      type: 'set_selection'\n      properties: Range\n      newProperties: null\n    }\n\nexport type SetSelectionOperation = ExtendedType<\n  'SetSelectionOperation',\n  BaseSetSelectionOperation\n>\n\nexport type BaseSplitNodeOperation = {\n  type: 'split_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type SplitNodeOperation = ExtendedType<\n  'SplitNodeOperation',\n  BaseSplitNodeOperation\n>\n\nexport type NodeOperation =\n  | InsertNodeOperation\n  | MergeNodeOperation\n  | MoveNodeOperation\n  | RemoveNodeOperation\n  | SetNodeOperation\n  | SplitNodeOperation\n\nexport type SelectionOperation = SetSelectionOperation\n\nexport type TextOperation = InsertTextOperation | RemoveTextOperation\n\n/**\n * `Operation` objects define the low-level instructions that Slate editors use\n * to apply changes to their internal state. Representing all changes as\n * operations is what allows Slate editors to easily implement history,\n * collaboration, and other features.\n */\n\nexport type BaseOperation = NodeOperation | SelectionOperation | TextOperation\nexport type Operation = ExtendedType<'Operation', BaseOperation>\n\nexport interface OperationInterface {\n  /**\n   * Check if a value is a `NodeOperation` object.\n   */\n  isNodeOperation: (value: any) => value is NodeOperation\n\n  /**\n   * Check if a value is an `Operation` object.\n   */\n  isOperation: (value: any) => value is Operation\n\n  /**\n   * Check if a value is a list of `Operation` objects.\n   */\n  isOperationList: (value: any) => value is Operation[]\n\n  /**\n   * Check if a value is a `SelectionOperation` object.\n   */\n  isSelectionOperation: (value: any) => value is SelectionOperation\n\n  /**\n   * Check if a value is a `TextOperation` object.\n   */\n  isTextOperation: (value: any) => value is TextOperation\n\n  /**\n   * Invert an operation, returning a new operation that will exactly undo the\n   * original when applied.\n   */\n  inverse: (op: Operation) => Operation\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Operation: OperationInterface = {\n  isNodeOperation(value: any): value is NodeOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_node')\n  },\n\n  isOperation(value: any): value is Operation {\n    if (!isObject(value)) {\n      return false\n    }\n\n    switch (value.type) {\n      case 'insert_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'insert_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'merge_node':\n        return (\n          typeof value.position === 'number' &&\n          Path.isPath(value.path) &&\n          isObject(value.properties)\n        )\n      case 'move_node':\n        return Path.isPath(value.path) && Path.isPath(value.newPath)\n      case 'remove_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'remove_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'set_node':\n        return (\n          Path.isPath(value.path) &&\n          isObject(value.properties) &&\n          isObject(value.newProperties)\n        )\n      case 'set_selection':\n        return (\n          (value.properties === null && Range.isRange(value.newProperties)) ||\n          (value.newProperties === null && Range.isRange(value.properties)) ||\n          (isObject(value.properties) && isObject(value.newProperties))\n        )\n      case 'split_node':\n        return (\n          Path.isPath(value.path) &&\n          typeof value.position === 'number' &&\n          isObject(value.properties)\n        )\n      default:\n        return false\n    }\n  },\n\n  isOperationList(value: any): value is Operation[] {\n    return (\n      Array.isArray(value) && value.every(val => Operation.isOperation(val))\n    )\n  },\n\n  isSelectionOperation(value: any): value is SelectionOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_selection')\n  },\n\n  isTextOperation(value: any): value is TextOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_text')\n  },\n\n  inverse(op: Operation): Operation {\n    switch (op.type) {\n      case 'insert_node': {\n        return { ...op, type: 'remove_node' }\n      }\n\n      case 'insert_text': {\n        return { ...op, type: 'remove_text' }\n      }\n\n      case 'merge_node': {\n        return { ...op, type: 'split_node', path: Path.previous(op.path) }\n      }\n\n      case 'move_node': {\n        const { newPath, path } = op\n\n        // PERF: in this case the move operation is a no-op anyways.\n        if (Path.equals(newPath, path)) {\n          return op\n        }\n\n        // If the move happens completely within a single parent the path and\n        // newPath are stable with respect to each other.\n        if (Path.isSibling(path, newPath)) {\n          return { ...op, path: newPath, newPath: path }\n        }\n\n        // If the move does not happen within a single parent it is possible\n        // for the move to impact the true path to the location where the node\n        // was removed from and where it was inserted. We have to adjust for this\n        // and find the original path. We can accomplish this (only in non-sibling)\n        // moves by looking at the impact of the move operation on the node\n        // after the original move path.\n        const inversePath = Path.transform(path, op)!\n        const inverseNewPath = Path.transform(Path.next(path), op)!\n        return { ...op, path: inversePath, newPath: inverseNewPath }\n      }\n\n      case 'remove_node': {\n        return { ...op, type: 'insert_node' }\n      }\n\n      case 'remove_text': {\n        return { ...op, type: 'insert_text' }\n      }\n\n      case 'set_node': {\n        const { properties, newProperties } = op\n        return { ...op, properties: newProperties, newProperties: properties }\n      }\n\n      case 'set_selection': {\n        const { properties, newProperties } = op\n\n        if (properties == null) {\n          return {\n            ...op,\n            properties: newProperties as Range,\n            newProperties: null,\n          }\n        } else if (newProperties == null) {\n          return {\n            ...op,\n            properties: null,\n            newProperties: properties as Range,\n          }\n        } else {\n          return { ...op, properties: newProperties, newProperties: properties }\n        }\n      }\n\n      case 'split_node': {\n        return { ...op, type: 'merge_node', path: Path.next(op.path) }\n      }\n    }\n  },\n}\n","export const isObject = (value: any) =>\n  typeof value === 'object' && value !== null\n","import { isObject } from './is-object'\n\n/*\n  Custom deep equal comparison for Slate nodes.\n\n  We don't need general purpose deep equality;\n  Slate only supports plain values, Arrays, and nested objects.\n  Complex values nested inside Arrays are not supported.\n\n  Slate objects are designed to be serialised, so\n  missing keys are deliberately normalised to undefined.\n */\nexport const isDeepEqual = (\n  node: Record<string, any>,\n  another: Record<string, any>\n): boolean => {\n  for (const key in node) {\n    const a = node[key]\n    const b = another[key]\n    if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length !== b.length) return false\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false\n      }\n    } else if (isObject(a) && isObject(b)) {\n      if (!isDeepEqual(a, b)) return false\n    } else if (a !== b) {\n      return false\n    }\n  }\n\n  /*\n    Deep object equality is only necessary in one direction; in the reverse direction\n    we are only looking for keys that are missing.\n    As above, undefined keys are normalised to missing.\n  */\n\n  for (const key in another) {\n    if (node[key] === undefined && another[key] !== undefined) {\n      return false\n    }\n  }\n\n  return true\n}\n","import { Editor, Location } from '../interfaces'\n\n/**\n * Get the default location to insert content into the editor.\n * By default, use the selection as the target location. But if there is\n * no selection, insert at the end of the document since that is such a\n * common use case when inserting from a non-selected state.\n */\nexport const getDefaultInsertLocation = (editor: Editor): Location => {\n  if (editor.selection) {\n    return editor.selection\n  } else if (editor.children.length > 0) {\n    return Editor.end(editor, [])\n  } else {\n    return [0]\n  }\n}\n","import { Editor } from '../interfaces/editor'\nimport { Path } from '../interfaces/path'\nimport { Node } from '../interfaces/node'\n\nexport const matchPath = (\n  editor: Editor,\n  path: Path\n): ((node: Node) => boolean) => {\n  const [node] = Editor.node(editor, path)\n  return n => n === node\n}\n","// Character (grapheme cluster) boundaries are determined according to\n// the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n//\n// References:\n//\n// [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n// [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n// [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n// [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n/**\n * Get the distance to the end of the first character in a string of text.\n */\n\nexport const getCharacterDistance = (str: string, isRTL = false): number => {\n  const isLTR = !isRTL\n  const codepoints = isRTL ? codepointsIteratorRTL(str) : str\n\n  let left: CodepointType = CodepointType.None\n  let right: CodepointType = CodepointType.None\n  let distance = 0\n  // Evaluation of these conditions are deferred.\n  let gb11: boolean | null = null // Is GB11 applicable?\n  let gb12Or13: boolean | null = null // Is GB12 or GB13 applicable?\n\n  for (const char of codepoints) {\n    const code = char.codePointAt(0)\n    if (!code) break\n\n    const type = getCodepointType(char, code)\n    ;[left, right] = isLTR ? [right, type] : [type, left]\n\n    if (\n      intersects(left, CodepointType.ZWJ) &&\n      intersects(right, CodepointType.ExtPict)\n    ) {\n      if (isLTR) {\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance))\n      } else {\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance))\n      }\n      if (!gb11) break\n    }\n\n    if (\n      intersects(left, CodepointType.RI) &&\n      intersects(right, CodepointType.RI)\n    ) {\n      if (gb12Or13 !== null) {\n        gb12Or13 = !gb12Or13\n      } else {\n        if (isLTR) {\n          gb12Or13 = true\n        } else {\n          gb12Or13 = endsWithOddNumberOfRIs(\n            str.substring(0, str.length - distance)\n          )\n        }\n      }\n      if (!gb12Or13) break\n    }\n\n    if (\n      left !== CodepointType.None &&\n      right !== CodepointType.None &&\n      isBoundaryPair(left, right)\n    ) {\n      break\n    }\n\n    distance += char.length\n  }\n\n  return distance || 1\n}\n\nconst SPACE = /\\s/\nconst PUNCTUATION =\n  /[\\u002B\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\nconst CHAMELEON = /['\\u2018\\u2019]/\n\n/**\n * Get the distance to the end of the first word in a string of text.\n */\n\nexport const getWordDistance = (text: string, isRTL = false): number => {\n  let dist = 0\n  let started = false\n\n  while (text.length > 0) {\n    const charDist = getCharacterDistance(text, isRTL)\n    const [char, remaining] = splitByCharacterDistance(text, charDist, isRTL)\n\n    if (isWordCharacter(char, remaining, isRTL)) {\n      started = true\n      dist += charDist\n    } else if (!started) {\n      dist += charDist\n    } else {\n      break\n    }\n\n    text = remaining\n  }\n\n  return dist\n}\n\n/**\n * Split a string in two parts at a given distance starting from the end when\n * `isRTL` is set to `true`.\n */\n\nexport const splitByCharacterDistance = (\n  str: string,\n  dist: number,\n  isRTL?: boolean\n): [string, string] => {\n  if (isRTL) {\n    const at = str.length - dist\n    return [str.slice(at, str.length), str.slice(0, at)]\n  }\n\n  return [str.slice(0, dist), str.slice(dist)]\n}\n\n/**\n * Check if a character is a word character. The `remaining` argument is used\n * because sometimes you must read subsequent characters to truly determine it.\n */\n\nconst isWordCharacter = (\n  char: string,\n  remaining: string,\n  isRTL = false\n): boolean => {\n  if (SPACE.test(char)) {\n    return false\n  }\n\n  // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n  if (CHAMELEON.test(char)) {\n    const charDist = getCharacterDistance(remaining, isRTL)\n    const [nextChar, nextRemaining] = splitByCharacterDistance(\n      remaining,\n      charDist,\n      isRTL\n    )\n\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n      return true\n    }\n  }\n\n  if (PUNCTUATION.test(char)) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Iterate on codepoints from right to left.\n */\n\nexport const codepointsIteratorRTL = function* (str: string) {\n  const end = str.length - 1\n\n  for (let i = 0; i < str.length; i++) {\n    const char1 = str.charAt(end - i)\n\n    if (isLowSurrogate(char1.charCodeAt(0))) {\n      const char2 = str.charAt(end - i - 1)\n      if (isHighSurrogate(char2.charCodeAt(0))) {\n        yield char2 + char1\n\n        i++\n        continue\n      }\n    }\n\n    yield char1\n  }\n}\n\n/**\n * Is `charCode` a high surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isHighSurrogate = (charCode: number) => {\n  return charCode >= 0xd800 && charCode <= 0xdbff\n}\n\n/**\n * Is `charCode` a low surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isLowSurrogate = (charCode: number) => {\n  return charCode >= 0xdc00 && charCode <= 0xdfff\n}\n\nenum CodepointType {\n  None = 0,\n  Extend = 1 << 0,\n  ZWJ = 1 << 1,\n  RI = 1 << 2,\n  Prepend = 1 << 3,\n  SpacingMark = 1 << 4,\n  L = 1 << 5,\n  V = 1 << 6,\n  T = 1 << 7,\n  LV = 1 << 8,\n  LVT = 1 << 9,\n  ExtPict = 1 << 10,\n  Any = 1 << 11,\n}\n\nconst reExtend = /^[\\p{Gr_Ext}\\p{EMod}]$/u\nconst rePrepend =\n  /^[\\u0600-\\u0605\\u06DD\\u070F\\u0890-\\u0891\\u08E2\\u0D4E\\u{110BD}\\u{110CD}\\u{111C2}-\\u{111C3}\\u{1193F}\\u{11941}\\u{11A3A}\\u{11A84}-\\u{11A89}\\u{11D46}]$/u\nconst reSpacingMark =\n  /^[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BF-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC1\\u0CC3-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0D02-\\u0D03\\u0D3F-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82-\\u0D83\\u0DD0-\\u0DD1\\u0DD8-\\u0DDE\\u0DF2-\\u0DF3\\u0E33\\u0EB3\\u0F3E-\\u0F3F\\u0F7F\\u1031\\u103B-\\u103C\\u1056-\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF7\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BE-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC\\u{11000}\\u{11002}\\u{11082}\\u{110B0}-\\u{110B2}\\u{110B7}-\\u{110B8}\\u{1112C}\\u{11145}-\\u{11146}\\u{11182}\\u{111B3}-\\u{111B5}\\u{111BF}-\\u{111C0}\\u{111CE}\\u{1122C}-\\u{1122E}\\u{11232}-\\u{11233}\\u{11235}\\u{112E0}-\\u{112E2}\\u{11302}-\\u{11303}\\u{1133F}\\u{11341}-\\u{11344}\\u{11347}-\\u{11348}\\u{1134B}-\\u{1134D}\\u{11362}-\\u{11363}\\u{11435}-\\u{11437}\\u{11440}-\\u{11441}\\u{11445}\\u{114B1}-\\u{114B2}\\u{114B9}\\u{114BB}-\\u{114BC}\\u{114BE}\\u{114C1}\\u{115B0}-\\u{115B1}\\u{115B8}-\\u{115BB}\\u{115BE}\\u{11630}-\\u{11632}\\u{1163B}-\\u{1163C}\\u{1163E}\\u{116AC}\\u{116AE}-\\u{116AF}\\u{116B6}\\u{11726}\\u{1182C}-\\u{1182E}\\u{11838}\\u{11931}-\\u{11935}\\u{11937}-\\u{11938}\\u{1193D}\\u{11940}\\u{11942}\\u{119D1}-\\u{119D3}\\u{119DC}-\\u{119DF}\\u{119E4}\\u{11A39}\\u{11A57}-\\u{11A58}\\u{11A97}\\u{11C2F}\\u{11C3E}\\u{11CA9}\\u{11CB1}\\u{11CB4}\\u{11D8A}-\\u{11D8E}\\u{11D93}-\\u{11D94}\\u{11D96}\\u{11EF5}-\\u{11EF6}\\u{16F51}-\\u{16F87}\\u{16FF0}-\\u{16FF1}\\u{1D166}\\u{1D16D}]$/u\nconst reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/u\nconst reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/u\nconst reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/u\nconst reLV =\n  /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/u\nconst reLVT =\n  /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/u\nconst reExtPict = /^\\p{ExtPict}$/u\n\nconst getCodepointType = (char: string, code: number): CodepointType => {\n  let type = CodepointType.Any\n  if (char.search(reExtend) !== -1) {\n    type |= CodepointType.Extend\n  }\n  if (code === 0x200d) {\n    type |= CodepointType.ZWJ\n  }\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n    type |= CodepointType.RI\n  }\n  if (char.search(rePrepend) !== -1) {\n    type |= CodepointType.Prepend\n  }\n  if (char.search(reSpacingMark) !== -1) {\n    type |= CodepointType.SpacingMark\n  }\n  if (char.search(reL) !== -1) {\n    type |= CodepointType.L\n  }\n  if (char.search(reV) !== -1) {\n    type |= CodepointType.V\n  }\n  if (char.search(reT) !== -1) {\n    type |= CodepointType.T\n  }\n  if (char.search(reLV) !== -1) {\n    type |= CodepointType.LV\n  }\n  if (char.search(reLVT) !== -1) {\n    type |= CodepointType.LVT\n  }\n  if (char.search(reExtPict) !== -1) {\n    type |= CodepointType.ExtPict\n  }\n\n  return type\n}\n\nfunction intersects(x: CodepointType, y: CodepointType) {\n  return (x & y) !== 0\n}\n\nconst NonBoundaryPairs: [CodepointType, CodepointType][] = [\n  // GB6\n  [\n    CodepointType.L,\n    CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT,\n  ],\n  // GB7\n  [CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T],\n  // GB8\n  [CodepointType.LVT | CodepointType.T, CodepointType.T],\n  // GB9\n  [CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ],\n  // GB9a\n  [CodepointType.Any, CodepointType.SpacingMark],\n  // GB9b\n  [CodepointType.Prepend, CodepointType.Any],\n  // GB11\n  [CodepointType.ZWJ, CodepointType.ExtPict],\n  // GB12 and GB13\n  [CodepointType.RI, CodepointType.RI],\n]\n\nfunction isBoundaryPair(left: CodepointType, right: CodepointType) {\n  return (\n    NonBoundaryPairs.findIndex(\n      r => intersects(left, r[0]) && intersects(right, r[1])\n    ) === -1\n  )\n}\n\nconst endingEmojiZWJ = /\\p{ExtPict}[\\p{Gr_Ext}\\p{EMod}]*\\u200D$/u\nconst endsWithEmojiZWJ = (str: string): boolean => {\n  return str.search(endingEmojiZWJ) !== -1\n}\n\nconst endingRIs = /\\p{RI}+$/gu\nconst endsWithOddNumberOfRIs = (str: string): boolean => {\n  const match = str.match(endingRIs)\n  if (match === null) {\n    return false\n  } else {\n    // A RI is represented by a surrogate pair.\n    const numRIs = match[0].length / 2\n    return numRIs % 2 === 1\n  }\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Range } from '../interfaces/range'\nimport { Node } from '../interfaces/node'\nimport { Operation } from '../interfaces/operation'\nimport { isObject } from '../utils'\n\nexport const isEditor: EditorInterface['isEditor'] = (\n  value: any,\n  { deep = false } = {}\n): value is Editor => {\n  if (!isObject(value)) {\n    return false\n  }\n\n  const isEditor =\n    typeof value.above === 'function' &&\n    typeof value.addMark === 'function' &&\n    typeof value.after === 'function' &&\n    typeof value.apply === 'function' &&\n    typeof value.before === 'function' &&\n    typeof value.collapse === 'function' &&\n    typeof value.delete === 'function' &&\n    typeof value.deleteBackward === 'function' &&\n    typeof value.deleteForward === 'function' &&\n    typeof value.deleteFragment === 'function' &&\n    typeof value.deselect === 'function' &&\n    typeof value.edges === 'function' &&\n    typeof value.elementReadOnly === 'function' &&\n    typeof value.end === 'function' &&\n    typeof value.first === 'function' &&\n    typeof value.fragment === 'function' &&\n    typeof value.getDirtyPaths === 'function' &&\n    typeof value.getFragment === 'function' &&\n    typeof value.getMarks === 'function' &&\n    typeof value.hasBlocks === 'function' &&\n    typeof value.hasInlines === 'function' &&\n    typeof value.hasPath === 'function' &&\n    typeof value.hasTexts === 'function' &&\n    typeof value.insertBreak === 'function' &&\n    typeof value.insertFragment === 'function' &&\n    typeof value.insertNode === 'function' &&\n    typeof value.insertNodes === 'function' &&\n    typeof value.insertSoftBreak === 'function' &&\n    typeof value.insertText === 'function' &&\n    typeof value.isBlock === 'function' &&\n    typeof value.isEdge === 'function' &&\n    typeof value.isElementReadOnly === 'function' &&\n    typeof value.isEmpty === 'function' &&\n    typeof value.isEnd === 'function' &&\n    typeof value.isInline === 'function' &&\n    typeof value.isNormalizing === 'function' &&\n    typeof value.isSelectable === 'function' &&\n    typeof value.isStart === 'function' &&\n    typeof value.isVoid === 'function' &&\n    typeof value.last === 'function' &&\n    typeof value.leaf === 'function' &&\n    typeof value.levels === 'function' &&\n    typeof value.liftNodes === 'function' &&\n    typeof value.markableVoid === 'function' &&\n    typeof value.mergeNodes === 'function' &&\n    typeof value.move === 'function' &&\n    typeof value.moveNodes === 'function' &&\n    typeof value.next === 'function' &&\n    typeof value.node === 'function' &&\n    typeof value.nodes === 'function' &&\n    typeof value.normalize === 'function' &&\n    typeof value.normalizeNode === 'function' &&\n    typeof value.onChange === 'function' &&\n    typeof value.parent === 'function' &&\n    typeof value.path === 'function' &&\n    typeof value.pathRef === 'function' &&\n    typeof value.pathRefs === 'function' &&\n    typeof value.point === 'function' &&\n    typeof value.pointRef === 'function' &&\n    typeof value.pointRefs === 'function' &&\n    typeof value.positions === 'function' &&\n    typeof value.previous === 'function' &&\n    typeof value.range === 'function' &&\n    typeof value.rangeRef === 'function' &&\n    typeof value.rangeRefs === 'function' &&\n    typeof value.removeMark === 'function' &&\n    typeof value.removeNodes === 'function' &&\n    typeof value.select === 'function' &&\n    typeof value.setNodes === 'function' &&\n    typeof value.setNormalizing === 'function' &&\n    typeof value.setPoint === 'function' &&\n    typeof value.setSelection === 'function' &&\n    typeof value.shouldMergeNodesRemovePrevNode === 'function' &&\n    typeof value.shouldNormalize === 'function' &&\n    typeof value.splitNodes === 'function' &&\n    typeof value.start === 'function' &&\n    typeof value.string === 'function' &&\n    typeof value.unhangRange === 'function' &&\n    typeof value.unsetNodes === 'function' &&\n    typeof value.unwrapNodes === 'function' &&\n    typeof value.void === 'function' &&\n    typeof value.withoutNormalizing === 'function' &&\n    typeof value.wrapNodes === 'function' &&\n    (value.marks === null || isObject(value.marks)) &&\n    (value.selection === null || Range.isRange(value.selection)) &&\n    (deep\n      ? Node.isNodeList(value.children) &&\n        Operation.isOperationList(value.operations)\n      : Array.isArray(value.children) && Array.isArray(value.operations))\n\n  return isEditor\n}\n","import {\n  Ancestor,\n  Descendant,\n  Element,\n  ExtendedType,\n  Location,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  PathRef,\n  Point,\n  PointRef,\n  Range,\n  RangeRef,\n  Span,\n  Text,\n  Transforms,\n} from '..'\nimport {\n  LeafEdge,\n  MaximizeMode,\n  RangeDirection,\n  SelectionMode,\n  TextDirection,\n  TextUnit,\n  TextUnitAdjustment,\n} from '../types/types'\nimport { OmitFirstArg } from '../utils/types'\nimport { isEditor } from '../editor/is-editor'\nimport {\n  TextInsertFragmentOptions,\n  TextInsertTextOptions,\n} from './transforms/text'\nimport { NodeInsertNodesOptions } from './transforms/node'\n\n/**\n * The `Editor` interface stores all the state of a Slate editor. It is extended\n * by plugins that wish to add their own helpers and implement new behaviors.\n */\nexport interface BaseEditor {\n  // Core state.\n\n  children: Descendant[]\n  selection: Selection\n  operations: Operation[]\n  marks: EditorMarks | null\n\n  // Overrideable core methods.\n\n  apply: (operation: Operation) => void\n  getDirtyPaths: (operation: Operation) => Path[]\n  getFragment: () => Descendant[]\n  isElementReadOnly: (element: Element) => boolean\n  isSelectable: (element: Element) => boolean\n  markableVoid: (element: Element) => boolean\n  normalizeNode: (\n    entry: NodeEntry,\n    options?: {\n      operation?: Operation\n      fallbackElement?: () => Element\n    }\n  ) => void\n  onChange: (options?: { operation?: Operation }) => void\n  shouldNormalize: ({\n    iteration,\n    dirtyPaths,\n    operation,\n  }: {\n    iteration: number\n    initialDirtyPathsLength: number\n    dirtyPaths: Path[]\n    operation?: Operation\n  }) => boolean\n\n  // Overrideable core transforms.\n\n  addMark: OmitFirstArg<typeof Editor.addMark>\n  collapse: OmitFirstArg<typeof Transforms.collapse>\n  delete: OmitFirstArg<typeof Transforms.delete>\n  deleteBackward: (unit: TextUnit) => void\n  deleteForward: (unit: TextUnit) => void\n  deleteFragment: OmitFirstArg<typeof Editor.deleteFragment>\n  deselect: OmitFirstArg<typeof Transforms.deselect>\n  insertBreak: OmitFirstArg<typeof Editor.insertBreak>\n  insertFragment: OmitFirstArg<typeof Transforms.insertFragment>\n  insertNode: OmitFirstArg<typeof Editor.insertNode>\n  insertNodes: OmitFirstArg<typeof Transforms.insertNodes>\n  insertSoftBreak: OmitFirstArg<typeof Editor.insertSoftBreak>\n  insertText: OmitFirstArg<typeof Transforms.insertText>\n  liftNodes: OmitFirstArg<typeof Transforms.liftNodes>\n  mergeNodes: OmitFirstArg<typeof Transforms.mergeNodes>\n  move: OmitFirstArg<typeof Transforms.move>\n  moveNodes: OmitFirstArg<typeof Transforms.moveNodes>\n  normalize: OmitFirstArg<typeof Editor.normalize>\n  removeMark: OmitFirstArg<typeof Editor.removeMark>\n  removeNodes: OmitFirstArg<typeof Transforms.removeNodes>\n  select: OmitFirstArg<typeof Transforms.select>\n  setNodes: <T extends Node>(\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n  setNormalizing: OmitFirstArg<typeof Editor.setNormalizing>\n  setPoint: OmitFirstArg<typeof Transforms.setPoint>\n  setSelection: OmitFirstArg<typeof Transforms.setSelection>\n  splitNodes: OmitFirstArg<typeof Transforms.splitNodes>\n  unsetNodes: OmitFirstArg<typeof Transforms.unsetNodes>\n  unwrapNodes: OmitFirstArg<typeof Transforms.unwrapNodes>\n  withoutNormalizing: OmitFirstArg<typeof Editor.withoutNormalizing>\n  wrapNodes: OmitFirstArg<typeof Transforms.wrapNodes>\n\n  // Overrideable core queries.\n\n  above: <T extends Ancestor>(\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n  after: OmitFirstArg<typeof Editor.after>\n  before: OmitFirstArg<typeof Editor.before>\n  edges: OmitFirstArg<typeof Editor.edges>\n  elementReadOnly: OmitFirstArg<typeof Editor.elementReadOnly>\n  end: OmitFirstArg<typeof Editor.end>\n  first: OmitFirstArg<typeof Editor.first>\n  fragment: OmitFirstArg<typeof Editor.fragment>\n  getMarks: OmitFirstArg<typeof Editor.marks>\n  hasBlocks: OmitFirstArg<typeof Editor.hasBlocks>\n  hasInlines: OmitFirstArg<typeof Editor.hasInlines>\n  hasPath: OmitFirstArg<typeof Editor.hasPath>\n  hasTexts: OmitFirstArg<typeof Editor.hasTexts>\n  isBlock: OmitFirstArg<typeof Editor.isBlock>\n  isEdge: OmitFirstArg<typeof Editor.isEdge>\n  isEmpty: OmitFirstArg<typeof Editor.isEmpty>\n  isEnd: OmitFirstArg<typeof Editor.isEnd>\n  isInline: OmitFirstArg<typeof Editor.isInline>\n  isNormalizing: OmitFirstArg<typeof Editor.isNormalizing>\n  isStart: OmitFirstArg<typeof Editor.isStart>\n  isVoid: OmitFirstArg<typeof Editor.isVoid>\n  last: OmitFirstArg<typeof Editor.last>\n  leaf: OmitFirstArg<typeof Editor.leaf>\n  levels: <T extends Node>(\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  next: <T extends Descendant>(\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n  node: OmitFirstArg<typeof Editor.node>\n  nodes: <T extends Node>(\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  parent: OmitFirstArg<typeof Editor.parent>\n  path: OmitFirstArg<typeof Editor.path>\n  pathRef: OmitFirstArg<typeof Editor.pathRef>\n  pathRefs: OmitFirstArg<typeof Editor.pathRefs>\n  point: OmitFirstArg<typeof Editor.point>\n  pointRef: OmitFirstArg<typeof Editor.pointRef>\n  pointRefs: OmitFirstArg<typeof Editor.pointRefs>\n  positions: OmitFirstArg<typeof Editor.positions>\n  previous: <T extends Node>(\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n  range: OmitFirstArg<typeof Editor.range>\n  rangeRef: OmitFirstArg<typeof Editor.rangeRef>\n  rangeRefs: OmitFirstArg<typeof Editor.rangeRefs>\n  start: OmitFirstArg<typeof Editor.start>\n  string: OmitFirstArg<typeof Editor.string>\n  unhangRange: OmitFirstArg<typeof Editor.unhangRange>\n  void: OmitFirstArg<typeof Editor.void>\n  shouldMergeNodesRemovePrevNode: OmitFirstArg<\n    typeof Editor.shouldMergeNodesRemovePrevNode\n  >\n}\n\nexport type Editor = ExtendedType<'Editor', BaseEditor>\n\nexport type BaseSelection = Range | null\n\nexport type Selection = ExtendedType<'Selection', BaseSelection>\n\nexport type EditorMarks = Omit<Text, 'text'>\n\nexport interface EditorAboveOptions<T extends Ancestor> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorAfterOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorBeforeOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorDirectedDeletionOptions {\n  unit?: TextUnit\n}\n\nexport interface EditorElementReadOnlyOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorFragmentDeletionOptions {\n  direction?: TextDirection\n}\n\nexport interface EditorIsEditorOptions {\n  deep?: boolean\n}\n\nexport interface EditorLeafOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorLevelsOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  reverse?: boolean\n  voids?: boolean\n}\n\nexport interface EditorNextOptions<T extends Descendant> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorNodeOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorNodesOptions<T extends Node> {\n  at?: Location | Span\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  universal?: boolean\n  reverse?: boolean\n  voids?: boolean\n  pass?: (entry: NodeEntry) => boolean\n}\n\nexport interface EditorNormalizeOptions {\n  force?: boolean\n  operation?: Operation\n}\n\nexport interface EditorParentOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPointOptions {\n  edge?: LeafEdge\n}\n\nexport interface EditorPointRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPositionsOptions {\n  at?: Location\n  unit?: TextUnitAdjustment\n  reverse?: boolean\n  voids?: boolean\n}\n\nexport interface EditorPreviousOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorRangeRefOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface EditorStringOptions {\n  voids?: boolean\n}\n\nexport interface EditorUnhangRangeOptions {\n  voids?: boolean\n}\n\nexport interface EditorVoidOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorInterface {\n  /**\n   * Get the ancestor above a location in the document.\n   */\n  above: <T extends Ancestor>(\n    editor: Editor,\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Add a custom property to the leaf text nodes in the current selection.\n   *\n   * If the selection is currently collapsed, the marks will be added to the\n   * `editor.marks` property instead, and applied when text is inserted next.\n   */\n  addMark: (editor: Editor, key: string, value: any) => void\n\n  /**\n   * Get the point after a location.\n   */\n  after: (\n    editor: Editor,\n    at: Location,\n    options?: EditorAfterOptions\n  ) => Point | undefined\n\n  /**\n   * Get the point before a location.\n   */\n  before: (\n    editor: Editor,\n    at: Location,\n    options?: EditorBeforeOptions\n  ) => Point | undefined\n\n  /**\n   * Delete content in the editor backward from the current selection.\n   */\n  deleteBackward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete content in the editor forward from the current selection.\n   */\n  deleteForward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete the content in the current selection.\n   */\n  deleteFragment: (\n    editor: Editor,\n    options?: EditorFragmentDeletionOptions\n  ) => void\n\n  /**\n   * Get the start and end points of a location.\n   */\n  edges: (editor: Editor, at: Location) => [Point, Point]\n\n  /**\n   * Match a read-only element in the current branch of the editor.\n   */\n  elementReadOnly: (\n    editor: Editor,\n    options?: EditorElementReadOnlyOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Get the end point of a location.\n   */\n  end: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the first node at a location.\n   */\n  first: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the fragment at a location.\n   */\n  fragment: (editor: Editor, at: Location) => Descendant[]\n\n  /**\n   * Check if a node has block children.\n   */\n  hasBlocks: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a node has inline and text children.\n   */\n  hasInlines: (editor: Editor, element: Element) => boolean\n\n  hasPath: (editor: Editor, path: Path) => boolean\n\n  /**\n   * Check if a node has text children.\n   */\n  hasTexts: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Insert a block break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertBreak: (editor: Editor) => void\n\n  /**\n   * Inserts a fragment\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Atomically inserts `nodes`\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNode: <T extends Node>(\n    editor: Editor,\n    node: Node,\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Insert a soft break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertSoftBreak: (editor: Editor) => void\n\n  /**\n   * Insert a string of text\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n\n  /**\n   * Check if a value is a block `Element` object.\n   */\n  isBlock: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if a point is an edge of a location.\n   */\n  isEdge: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an `Editor` object.\n   */\n  isEditor: (value: any, options?: EditorIsEditorOptions) => value is Editor\n\n  /**\n   * Check if a value is a read-only `Element` object.\n   */\n  isElementReadOnly: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if an element is empty, accounting for void nodes.\n   */\n  isEmpty: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the end point of a location.\n   */\n  isEnd: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an inline `Element` object.\n   */\n  isInline: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if the editor is currently normalizing after each operation.\n   */\n  isNormalizing: (editor: Editor) => boolean\n\n  /**\n   * Check if a value is a selectable `Element` object.\n   */\n  isSelectable: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the start point of a location.\n   */\n  isStart: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is a void `Element` object.\n   */\n  isVoid: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Get the last node at a location.\n   */\n  last: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the leaf text node at a location.\n   */\n  leaf: (\n    editor: Editor,\n    at: Location,\n    options?: EditorLeafOptions\n  ) => NodeEntry<Text>\n\n  /**\n   * Iterate through all of the levels at a location.\n   */\n  levels: <T extends Node>(\n    editor: Editor,\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Get the marks that would be added to text at the current selection.\n   */\n  marks: (editor: Editor) => Omit<Text, 'text'> | null\n\n  /**\n   * Get the matching node in the branch of the document after a location.\n   */\n  next: <T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get the node at a location.\n   */\n  node: (editor: Editor, at: Location, options?: EditorNodeOptions) => NodeEntry\n\n  /**\n   * Iterate through all of the nodes in the Editor.\n   */\n  nodes: <T extends Node>(\n    editor: Editor,\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Normalize any dirty objects in the editor.\n   */\n  normalize: (editor: Editor, options?: EditorNormalizeOptions) => void\n\n  /**\n   * Get the parent node of a location.\n   */\n  parent: (\n    editor: Editor,\n    at: Location,\n    options?: EditorParentOptions\n  ) => NodeEntry<Ancestor>\n\n  /**\n   * Get the path of a location.\n   */\n  path: (editor: Editor, at: Location, options?: EditorPathOptions) => Path\n\n  /**\n   * Create a mutable ref for a `Path` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pathRef: (\n    editor: Editor,\n    path: Path,\n    options?: EditorPathRefOptions\n  ) => PathRef\n\n  /**\n   * Get the set of currently tracked path refs of the editor.\n   */\n  pathRefs: (editor: Editor) => Set<PathRef>\n\n  /**\n   * Get the start or end point of a location.\n   */\n  point: (editor: Editor, at: Location, options?: EditorPointOptions) => Point\n\n  /**\n   * Create a mutable ref for a `Point` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pointRef: (\n    editor: Editor,\n    point: Point,\n    options?: EditorPointRefOptions\n  ) => PointRef\n\n  /**\n   * Get the set of currently tracked point refs of the editor.\n   */\n  pointRefs: (editor: Editor) => Set<PointRef>\n\n  /**\n   * Return all the positions in `at` range where a `Point` can be placed.\n   *\n   * By default, moves forward by individual offsets at a time, but\n   * the `unit` option can be used to to move by character, word, line, or block.\n   *\n   * The `reverse` option can be used to change iteration direction.\n   *\n   * Note: By default void nodes are treated as a single point and iteration\n   * will not happen inside their content unless you pass in true for the\n   * `voids` option, then iteration will occur.\n   */\n  positions: (\n    editor: Editor,\n    options?: EditorPositionsOptions\n  ) => Generator<Point, void, undefined>\n\n  /**\n   * Get the matching node in the branch of the document before a location.\n   */\n  previous: <T extends Node>(\n    editor: Editor,\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get a range of a location.\n   */\n  range: (editor: Editor, at: Location, to?: Location) => Range\n\n  /**\n   * Create a mutable ref for a `Range` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  rangeRef: (\n    editor: Editor,\n    range: Range,\n    options?: EditorRangeRefOptions\n  ) => RangeRef\n\n  /**\n   * Get the set of currently tracked range refs of the editor.\n   */\n  rangeRefs: (editor: Editor) => Set<RangeRef>\n\n  /**\n   * Remove a custom property from all of the leaf text nodes in the current\n   * selection.\n   *\n   * If the selection is currently collapsed, the removal will be stored on\n   * `editor.marks` and applied to the text inserted next.\n   */\n  removeMark: (editor: Editor, key: string) => void\n\n  /**\n   * Manually set if the editor should currently be normalizing.\n   *\n   * Note: Using this incorrectly can leave the editor in an invalid state.\n   *\n   */\n  setNormalizing: (editor: Editor, isNormalizing: boolean) => void\n\n  /**\n   * Get the start point of a location.\n   */\n  start: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the text string content of a location.\n   *\n   * Note: by default the text of void nodes is considered to be an empty\n   * string, regardless of content, unless you pass in true for the voids option\n   */\n  string: (\n    editor: Editor,\n    at: Location,\n    options?: EditorStringOptions\n  ) => string\n\n  /**\n   * Convert a range into a non-hanging one.\n   */\n  unhangRange: (\n    editor: Editor,\n    range: Range,\n    options?: EditorUnhangRangeOptions\n  ) => Range\n\n  /**\n   * Match a void node in the current branch of the editor.\n   */\n  void: (\n    editor: Editor,\n    options?: EditorVoidOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Call a function, deferring normalization until after it completes.\n   */\n  withoutNormalizing: (editor: Editor, fn: () => void) => void\n\n  /**\n   *  Call a function, Determine whether or not remove the previous node when merge.\n   */\n  shouldMergeNodesRemovePrevNode: (\n    editor: Editor,\n    prevNodeEntry: NodeEntry,\n    curNodeEntry: NodeEntry\n  ) => boolean\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Editor: EditorInterface = {\n  above(editor, options) {\n    return editor.above(options)\n  },\n\n  addMark(editor, key, value) {\n    editor.addMark(key, value)\n  },\n\n  after(editor, at, options) {\n    return editor.after(at, options)\n  },\n\n  before(editor, at, options) {\n    return editor.before(at, options)\n  },\n\n  deleteBackward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteBackward(unit)\n  },\n\n  deleteForward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteForward(unit)\n  },\n\n  deleteFragment(editor, options) {\n    editor.deleteFragment(options)\n  },\n\n  edges(editor, at) {\n    return editor.edges(at)\n  },\n\n  elementReadOnly(editor: Editor, options: EditorElementReadOnlyOptions = {}) {\n    return editor.elementReadOnly(options)\n  },\n\n  end(editor, at) {\n    return editor.end(at)\n  },\n\n  first(editor, at) {\n    return editor.first(at)\n  },\n\n  fragment(editor, at) {\n    return editor.fragment(at)\n  },\n\n  hasBlocks(editor, element) {\n    return editor.hasBlocks(element)\n  },\n\n  hasInlines(editor, element) {\n    return editor.hasInlines(element)\n  },\n\n  hasPath(editor, path) {\n    return editor.hasPath(path)\n  },\n\n  hasTexts(editor, element) {\n    return editor.hasTexts(element)\n  },\n\n  insertBreak(editor) {\n    editor.insertBreak()\n  },\n\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n\n  insertNode(editor, node) {\n    editor.insertNode(node)\n  },\n\n  insertSoftBreak(editor) {\n    editor.insertSoftBreak()\n  },\n\n  insertText(editor, text) {\n    editor.insertText(text)\n  },\n\n  isBlock(editor, value) {\n    return editor.isBlock(value)\n  },\n\n  isEdge(editor, point, at) {\n    return editor.isEdge(point, at)\n  },\n\n  isEditor,\n\n  isElementReadOnly(editor, element) {\n    return editor.isElementReadOnly(element)\n  },\n\n  isEmpty(editor, element) {\n    return editor.isEmpty(element)\n  },\n\n  isEnd(editor, point, at) {\n    return editor.isEnd(point, at)\n  },\n\n  isInline(editor, value) {\n    return editor.isInline(value)\n  },\n\n  isNormalizing(editor) {\n    return editor.isNormalizing()\n  },\n\n  isSelectable(editor: Editor, value: Element) {\n    return editor.isSelectable(value)\n  },\n\n  isStart(editor, point, at) {\n    return editor.isStart(point, at)\n  },\n\n  isVoid(editor, value) {\n    return editor.isVoid(value)\n  },\n\n  last(editor, at) {\n    return editor.last(at)\n  },\n\n  leaf(editor, at, options) {\n    return editor.leaf(at, options)\n  },\n\n  levels(editor, options) {\n    return editor.levels(options)\n  },\n\n  marks(editor) {\n    return editor.getMarks()\n  },\n\n  next<T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ): NodeEntry<T> | undefined {\n    return editor.next(options)\n  },\n\n  node(editor, at, options) {\n    return editor.node(at, options)\n  },\n\n  nodes(editor, options) {\n    return editor.nodes(options)\n  },\n\n  normalize(editor, options) {\n    editor.normalize(options)\n  },\n\n  parent(editor, at, options) {\n    return editor.parent(at, options)\n  },\n\n  path(editor, at, options) {\n    return editor.path(at, options)\n  },\n\n  pathRef(editor, path, options) {\n    return editor.pathRef(path, options)\n  },\n\n  pathRefs(editor) {\n    return editor.pathRefs()\n  },\n\n  point(editor, at, options) {\n    return editor.point(at, options)\n  },\n\n  pointRef(editor, point, options) {\n    return editor.pointRef(point, options)\n  },\n\n  pointRefs(editor) {\n    return editor.pointRefs()\n  },\n\n  positions(editor, options) {\n    return editor.positions(options)\n  },\n\n  previous(editor, options) {\n    return editor.previous(options)\n  },\n\n  range(editor, at, to) {\n    return editor.range(at, to)\n  },\n\n  rangeRef(editor, range, options) {\n    return editor.rangeRef(range, options)\n  },\n\n  rangeRefs(editor) {\n    return editor.rangeRefs()\n  },\n\n  removeMark(editor, key) {\n    editor.removeMark(key)\n  },\n\n  setNormalizing(editor, isNormalizing) {\n    editor.setNormalizing(isNormalizing)\n  },\n\n  start(editor, at) {\n    return editor.start(at)\n  },\n\n  string(editor, at, options) {\n    return editor.string(at, options)\n  },\n\n  unhangRange(editor, range, options) {\n    return editor.unhangRange(range, options)\n  },\n\n  void(editor, options) {\n    return editor.void(options)\n  },\n\n  withoutNormalizing(editor, fn: () => void) {\n    editor.withoutNormalizing(fn)\n  },\n  shouldMergeNodesRemovePrevNode: (editor, prevNode, curNode) => {\n    return editor.shouldMergeNodesRemovePrevNode(prevNode, curNode)\n  },\n}\n\n/**\n * A helper type for narrowing matched nodes with a predicate.\n */\n\nexport type NodeMatch<T extends Node> =\n  | ((node: Node, path: Path) => node is T)\n  | ((node: Node, path: Path) => boolean)\n\nexport type PropsCompare = (prop: Partial<Node>, node: Partial<Node>) => boolean\nexport type PropsMerge = (prop: Partial<Node>, node: Partial<Node>) => object\n","import { Path, Point, Range } from '..'\n\n/**\n * The `Location` interface is a union of the ways to refer to a specific\n * location in a Slate document: paths, points or ranges.\n *\n * Methods will often accept a `Location` instead of requiring only a `Path`,\n * `Point` or `Range`. This eliminates the need for developers to manage\n * converting between the different interfaces in their own code base.\n */\n\nexport type Location = Path | Point | Range\n\nexport interface LocationInterface {\n  /**\n   * Check if a value implements the `Location` interface.\n   */\n  isLocation: (value: any) => value is Location\n\n  /**\n   * Check if a location is a `Path`.\n   */\n  isPath: (at: Location) => at is Path\n\n  /**\n   * Check if a location is a `Point`.\n   */\n  isPoint: (at: Location) => at is Point\n\n  /**\n   * Check if a location is a `Range`.\n   */\n  isRange: (at: Location) => at is Range\n\n  /**\n   * Differentiate between a normal `Location` and a `Span`.\n   */\n  isSpan: (at: Location | Span) => at is Span\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Location: LocationInterface = {\n  isLocation(value: any): value is Location {\n    return Path.isPath(value) || Point.isPoint(value) || Range.isRange(value)\n  },\n\n  isPath(at: Location): at is Path {\n    return Array.isArray(at)\n  },\n\n  isPoint(at: Location): at is Point {\n    return 'offset' in at\n  },\n\n  isRange(at: Location): at is Range {\n    return 'anchor' in at\n  },\n\n  isSpan(at: Location | Span): at is Span {\n    return Array.isArray(at) && Array.isArray(at[0])\n  },\n}\n\n/**\n * The `Span` interface is a low-level way to refer to locations in nodes\n * without using `Point` which requires leaf text nodes to be present.\n */\n\nexport type Span = [Path, Path]\n\nexport interface SpanInterface {\n  /**\n   * Check if a value implements the `Span` interface.\n   */\n  isSpan: (value: any) => value is Span\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Span: SpanInterface = {\n  isSpan(value: any): value is Span {\n    return (\n      Array.isArray(value) && value.length === 2 && value.every(Path.isPath)\n    )\n  },\n}\n","import { ExtendedType, Operation, Path, isObject } from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Point` objects refer to a specific location in a text node in a Slate\n * document. Its path refers to the location of the node in the tree, and its\n * offset refers to the distance into the node's string of text. Points can\n * only refer to `Text` nodes.\n */\n\nexport interface BasePoint {\n  path: Path\n  offset: number\n}\n\nexport type Point = ExtendedType<'Point', BasePoint>\n\nexport interface PointTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PointInterface {\n  /**\n   * Compare a point to another, returning an integer indicating whether the\n   * point was before, at, or after the other.\n   */\n  compare: (point: Point, another: Point) => -1 | 0 | 1\n\n  /**\n   * Check if a point is after another.\n   */\n  isAfter: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is before another.\n   */\n  isBefore: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is exactly equal to another.\n   */\n  equals: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a value implements the `Point` interface.\n   */\n  isPoint: (value: any) => value is Point\n\n  /**\n   * Transform a point by an operation.\n   */\n  transform: (\n    point: Point,\n    op: Operation,\n    options?: PointTransformOptions\n  ) => Point | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Point: PointInterface = {\n  compare(point: Point, another: Point): -1 | 0 | 1 {\n    const result = Path.compare(point.path, another.path)\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1\n      if (point.offset > another.offset) return 1\n      return 0\n    }\n\n    return result\n  },\n\n  isAfter(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === 1\n  },\n\n  isBefore(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === -1\n  },\n\n  equals(point: Point, another: Point): boolean {\n    // PERF: ensure the offsets are equal first since they are cheaper to check.\n    return (\n      point.offset === another.offset && Path.equals(point.path, another.path)\n    )\n  },\n\n  isPoint(value: any): value is Point {\n    return (\n      isObject(value) &&\n      typeof value.offset === 'number' &&\n      Path.isPath(value.path)\n    )\n  },\n\n  transform(\n    point: Point | null,\n    op: Operation,\n    options: PointTransformOptions = {}\n  ): Point | null {\n    if (point === null) {\n      return null\n    }\n\n    const { affinity = 'forward' } = options\n    let { path, offset } = point\n\n    switch (op.type) {\n      case 'insert_node':\n      case 'move_node': {\n        path = Path.transform(path, op, options)!\n        break\n      }\n\n      case 'insert_text': {\n        if (\n          Path.equals(op.path, path) &&\n          (op.offset < offset ||\n            (op.offset === offset && affinity === 'forward'))\n        ) {\n          offset += op.text.length\n        }\n\n        break\n      }\n\n      case 'merge_node': {\n        if (Path.equals(op.path, path)) {\n          offset += op.position\n        }\n\n        path = Path.transform(path, op, options)!\n        break\n      }\n\n      case 'remove_text': {\n        if (Path.equals(op.path, path) && op.offset <= offset) {\n          offset -= Math.min(offset - op.offset, op.text.length)\n        }\n\n        break\n      }\n\n      case 'remove_node': {\n        if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n          return null\n        }\n\n        path = Path.transform(path, op, options)!\n        break\n      }\n\n      case 'split_node': {\n        if (Path.equals(op.path, path)) {\n          if (op.position === offset && affinity == null) {\n            return null\n          } else if (\n            op.position < offset ||\n            (op.position === offset && affinity === 'forward')\n          ) {\n            offset -= op.position\n\n            path = Path.transform(path, op, {\n              ...options,\n              affinity: 'forward',\n            })!\n          }\n        } else {\n          path = Path.transform(path, op, options)!\n        }\n\n        break\n      }\n\n      default:\n        return point\n    }\n\n    return { path, offset }\n  },\n}\n\n/**\n * `PointEntry` objects are returned when iterating over `Point` objects that\n * belong to a range.\n */\n\nexport type PointEntry = [Point, 'anchor' | 'focus']\n","export type Scrubber = (key: string, value: unknown) => unknown\n\nexport interface ScrubberInterface {\n  setScrubber(scrubber: Scrubber | undefined): void\n  stringify(value: any): string\n}\n\nlet _scrubber: Scrubber | undefined = undefined\n\n/**\n * This interface implements a stringify() function, which is used by Slate\n * internally when generating exceptions containing end user data. Developers\n * using Slate may call Scrubber.setScrubber() to alter the behavior of this\n * stringify() function.\n *\n * For example, to prevent the cleartext logging of 'text' fields within Nodes:\n *\n *    import { Scrubber } from 'slate';\n *    Scrubber.setScrubber((key, val) => {\n *      if (key === 'text') return '...scrubbed...'\n *      return val\n *    });\n *\n */\n// eslint-disable-next-line no-redeclare\nexport const Scrubber: ScrubberInterface = {\n  setScrubber(scrubber: Scrubber | undefined): void {\n    _scrubber = scrubber\n  },\n\n  stringify(value: any): string {\n    return JSON.stringify(value, _scrubber)\n  },\n}\n","import { Range, isObject, Node } from '..'\nimport { ExtendedType } from '../types/custom-types'\nimport { isDeepEqual } from '../utils/deep-equal'\n\n/**\n * `Text` objects represent the nodes that contain the actual text content of a\n * Slate document along with any formatting properties. They are always leaf\n * nodes in the document tree as they cannot contain any children.\n */\n\nexport interface BaseText {\n  text: string\n}\n\nexport type Text = ExtendedType<'Text', BaseText>\n\nexport interface LeafPosition {\n  start: number\n  end: number\n  isFirst?: true\n  isLast?: true\n}\n\nexport interface TextEqualsOptions {\n  loose?: boolean\n}\n\nexport type DecoratedRange = Range & {\n  /**\n   * Customize how another decoration is merged into a text node. If not specified, `Object.assign` would be used.\n   * It is useful for overlapping decorations with the same key but different values.\n   */\n  merge?: (leaf: Text, decoration: object) => void\n}\n\nexport interface TextInterface {\n  /**\n   * Check if two text nodes are equal.\n   *\n   * When loose is set, the text is not compared. This is\n   * used to check whether sibling text nodes can be merged.\n   */\n  equals: (text: Text, another: Text, options?: TextEqualsOptions) => boolean\n\n  /**\n   * Check if a value implements the `Text` interface.\n   */\n  isText: (value: any) => value is Text\n\n  /**\n   * Check if a value is a list of `Text` objects.\n   */\n  isTextList: (value: any) => value is Text[]\n\n  /**\n   * Check if some props are a partial of Text.\n   */\n  isTextProps: (props: any) => props is Partial<Text>\n\n  /**\n   * Check if an text matches set of properties.\n   *\n   * Note: this is for matching custom properties, and it does not ensure that\n   * the `text` property are two nodes equal.\n   */\n  matches: (text: Text, props: Partial<Text>) => boolean\n\n  /**\n   * Get the leaves for a text node given decorations.\n   */\n  decorations: (\n    node: Text,\n    decorations: DecoratedRange[]\n  ) => { leaf: Text; position?: LeafPosition }[]\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Text: TextInterface = {\n  equals(text: Text, another: Text, options: TextEqualsOptions = {}): boolean {\n    const { loose = false } = options\n\n    function omitText(obj: Record<any, any>) {\n      const { text, ...rest } = obj\n\n      return rest\n    }\n\n    return isDeepEqual(\n      loose ? omitText(text) : text,\n      loose ? omitText(another) : another\n    )\n  },\n\n  isText(value: any): value is Text {\n    return isObject(value) && typeof value.text === 'string'\n  },\n\n  isTextList(value: any): value is Text[] {\n    return Array.isArray(value) && value.every(val => Text.isText(val))\n  },\n\n  isTextProps(props: any): props is Partial<Text> {\n    return (props as Partial<Text>).text !== undefined\n  },\n\n  matches(text: Text, props: Partial<Text>): boolean {\n    for (const key in props) {\n      if (key === 'text') {\n        continue\n      }\n\n      if (\n        !text.hasOwnProperty(key) ||\n        text[<keyof Text>key] !== props[<keyof Text>key]\n      ) {\n        return false\n      }\n    }\n\n    return true\n  },\n\n  decorations(\n    node: Text,\n    decorations: DecoratedRange[]\n  ): { leaf: Text; position?: LeafPosition }[] {\n    let leaves: { leaf: Text; position?: LeafPosition }[] = [\n      { leaf: { ...node } },\n    ]\n\n    for (const dec of decorations) {\n      const { anchor, focus, merge: mergeDecoration, ...rest } = dec\n      const [start, end] = Range.edges(dec)\n      const next = []\n      let leafEnd = 0\n      const decorationStart = start.offset\n      const decorationEnd = end.offset\n      const merge = mergeDecoration ?? Object.assign\n\n      for (const { leaf } of leaves) {\n        const { length } = leaf.text\n        const leafStart = leafEnd\n        leafEnd += length\n\n        // If the range encompasses the entire leaf, add the range.\n        if (decorationStart <= leafStart && leafEnd <= decorationEnd) {\n          merge(leaf, rest)\n          next.push({ leaf })\n          continue\n        }\n\n        // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n        if (\n          (decorationStart !== decorationEnd &&\n            (decorationStart === leafEnd || decorationEnd === leafStart)) ||\n          decorationStart > leafEnd ||\n          decorationEnd < leafStart ||\n          (decorationEnd === leafStart && leafStart !== 0)\n        ) {\n          next.push({ leaf })\n          continue\n        }\n\n        // Otherwise we need to split the leaf, at the start, end, or both,\n        // and add the range to the middle intersecting section. Do the end\n        // split first since we don't need to update the offset that way.\n        let middle = leaf\n        let before\n        let after\n\n        if (decorationEnd < leafEnd) {\n          const off = decorationEnd - leafStart\n          after = { leaf: { ...middle, text: middle.text.slice(off) } }\n          middle = { ...middle, text: middle.text.slice(0, off) }\n        }\n\n        if (decorationStart > leafStart) {\n          const off = decorationStart - leafStart\n          before = { leaf: { ...middle, text: middle.text.slice(0, off) } }\n          middle = { ...middle, text: middle.text.slice(off) }\n        }\n\n        merge(middle, rest)\n\n        if (before) {\n          next.push(before)\n        }\n\n        next.push({ leaf: middle })\n\n        if (after) {\n          next.push(after)\n        }\n      }\n\n      leaves = next\n    }\n\n    if (leaves.length > 1) {\n      let currentOffset = 0\n      for (const [index, item] of leaves.entries()) {\n        const start = currentOffset\n        const end = start + item.leaf.text.length\n        const position: LeafPosition = { start, end }\n\n        if (index === 0) position.isFirst = true\n        if (index === leaves.length - 1) position.isLast = true\n\n        item.position = position\n        currentOffset = end\n      }\n    }\n\n    return leaves\n  },\n}\n","import {\n  Ancestor,\n  Descendant,\n  Element,\n  Node,\n  Path,\n  Scrubber,\n  Text,\n} from '../interfaces'\n\nexport const insertChildren = <T>(\n  xs: T[],\n  index: number,\n  ...newValues: T[]\n) => [...xs.slice(0, index), ...newValues, ...xs.slice(index)]\n\nexport const replaceChildren = <T>(\n  xs: T[],\n  index: number,\n  removeCount: number,\n  ...newValues: T[]\n) => [...xs.slice(0, index), ...newValues, ...xs.slice(index + removeCount)]\n\nexport const removeChildren = replaceChildren\n\n/**\n * Replace a descendant with a new node, replacing all ancestors\n */\nexport const modifyDescendant = <N extends Descendant>(\n  root: Ancestor,\n  path: Path,\n  f: (node: N) => N\n) => {\n  if (path.length === 0) {\n    throw new Error('Cannot modify the editor')\n  }\n\n  const node = Node.get(root, path) as N\n  const slicedPath = path.slice()\n  let modifiedNode: Node = f(node)\n\n  while (slicedPath.length > 1) {\n    const index = slicedPath.pop()!\n    const ancestorNode = Node.get(root, slicedPath) as Ancestor\n\n    modifiedNode = {\n      ...ancestorNode,\n      children: replaceChildren(ancestorNode.children, index, 1, modifiedNode),\n    }\n  }\n\n  const index = slicedPath.pop()!\n  root.children = replaceChildren(root.children, index, 1, modifiedNode)\n}\n\n/**\n * Replace the children of a node, replacing all ancestors\n */\nexport const modifyChildren = (\n  root: Ancestor,\n  path: Path,\n  f: (children: Descendant[]) => Descendant[]\n) => {\n  if (path.length === 0) {\n    root.children = f(root.children)\n  } else {\n    modifyDescendant<Element>(root, path, node => {\n      if (Node.isText(node)) {\n        throw new Error(\n          `Cannot get the element at path [${path}] because it refers to a leaf node: ${Scrubber.stringify(\n            node\n          )}`\n        )\n      }\n\n      return { ...node, children: f(node.children) }\n    })\n  }\n}\n\n/**\n * Replace a leaf, replacing all ancestors\n */\nexport const modifyLeaf = (\n  root: Ancestor,\n  path: Path,\n  f: (leaf: Text) => Text\n) =>\n  modifyDescendant(root, path, node => {\n    if (!Node.isText(node)) {\n      throw new Error(\n        `Cannot get the leaf node at path [${path}] because it refers to a non-leaf node: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return f(node)\n  })\n","import {\n  Descendant,\n  Editor,\n  Element,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  Point,\n  Range,\n  Scrubber,\n  Selection,\n  Text,\n} from '../../index'\nimport {\n  insertChildren,\n  modifyChildren,\n  modifyDescendant,\n  modifyLeaf,\n  removeChildren,\n  replaceChildren,\n} from '../../utils/modify'\n\nexport interface GeneralTransforms {\n  /**\n   * Transform the editor by an operation.\n   */\n  transform: (editor: Editor, op: Operation) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const GeneralTransforms: GeneralTransforms = {\n  transform(editor: Editor, op: Operation): void {\n    let transformSelection = false\n\n    switch (op.type) {\n      case 'insert_node': {\n        const { path, node } = op\n\n        modifyChildren(editor, Path.parent(path), children => {\n          const index = path[path.length - 1]\n\n          if (index > children.length) {\n            throw new Error(\n              `Cannot apply an \"insert_node\" operation at path [${path}] because the destination is past the end of the node.`\n            )\n          }\n\n          return insertChildren(children, index, node)\n        })\n\n        transformSelection = true\n        break\n      }\n\n      case 'insert_text': {\n        const { path, offset, text } = op\n        if (text.length === 0) break\n\n        modifyLeaf(editor, path, node => {\n          const before = node.text.slice(0, offset)\n          const after = node.text.slice(offset)\n\n          return {\n            ...node,\n            text: before + text + after,\n          }\n        })\n\n        transformSelection = true\n        break\n      }\n\n      case 'merge_node': {\n        const { path } = op\n        const index = path[path.length - 1]\n        const prevPath = Path.previous(path)\n        const prevIndex = prevPath[prevPath.length - 1]\n\n        modifyChildren(editor, Path.parent(path), children => {\n          const node = children[index]\n          const prev = children[prevIndex]\n          let newNode: Descendant\n\n          if (Node.isText(node) && Node.isText(prev)) {\n            newNode = { ...prev, text: prev.text + node.text }\n          } else if (Node.isElement(node) && Node.isElement(prev)) {\n            newNode = { ...prev, children: prev.children.concat(node.children) }\n          } else {\n            throw new Error(\n              `Cannot apply a \"merge_node\" operation at path [${path}] to nodes of different interfaces: ${Scrubber.stringify(\n                node\n              )} ${Scrubber.stringify(prev)}`\n            )\n          }\n\n          return replaceChildren(children, prevIndex, 2, newNode)\n        })\n\n        transformSelection = true\n        break\n      }\n\n      case 'move_node': {\n        const { path, newPath } = op\n        const index = path[path.length - 1]\n\n        if (Path.isAncestor(path, newPath)) {\n          throw new Error(\n            `Cannot move a path [${path}] to new path [${newPath}] because the destination is inside itself.`\n          )\n        }\n\n        const node = Node.get(editor, path)\n\n        modifyChildren(editor, Path.parent(path), children =>\n          removeChildren(children, index, 1)\n        )\n\n        // This is tricky, but since the `path` and `newPath` both refer to\n        // the same snapshot in time, there's a mismatch. After either\n        // removing the original position, the second step's path can be out\n        // of date. So instead of using the `op.newPath` directly, we\n        // transform `op.path` to ascertain what the `newPath` would be after\n        // the operation was applied.\n        const truePath = Path.transform(path, op)!\n        const newIndex = truePath[truePath.length - 1]\n\n        modifyChildren(editor, Path.parent(truePath), children =>\n          insertChildren(children, newIndex, node)\n        )\n\n        transformSelection = true\n        break\n      }\n\n      case 'remove_node': {\n        const { path } = op\n        const index = path[path.length - 1]\n\n        modifyChildren(editor, Path.parent(path), children =>\n          removeChildren(children, index, 1)\n        )\n\n        // Transform all the points in the value, but if the point was in the\n        // node that was removed we need to update the range or remove it.\n        if (editor.selection) {\n          let selection: Selection = { ...editor.selection }\n\n          for (const [point, key] of Range.points(selection)) {\n            const result = Point.transform(point, op)\n\n            if (selection != null && result != null) {\n              selection[key] = result\n            } else {\n              let prev: NodeEntry<Text> | undefined\n              let next: NodeEntry<Text> | undefined\n\n              for (const [n, p] of Node.texts(editor)) {\n                if (Path.compare(p, path) === -1) {\n                  prev = [n, p]\n                } else {\n                  next = [n, p]\n                  break\n                }\n              }\n\n              let preferNext = false\n              if (prev && next) {\n                if (Path.isSibling(prev[1], path)) {\n                  preferNext = false\n                } else if (Path.equals(next[1], path)) {\n                  preferNext = true\n                } else {\n                  preferNext =\n                    Path.common(prev[1], path).length <\n                    Path.common(next[1], path).length\n                }\n              }\n\n              if (prev && !preferNext) {\n                selection![key] = { path: prev[1], offset: prev[0].text.length }\n              } else if (next) {\n                selection![key] = { path: next[1], offset: 0 }\n              } else {\n                selection = null\n              }\n            }\n          }\n\n          if (!selection || !Range.equals(selection, editor.selection)) {\n            editor.selection = selection\n          }\n        }\n\n        break\n      }\n\n      case 'remove_text': {\n        const { path, offset, text } = op\n        if (text.length === 0) break\n\n        modifyLeaf(editor, path, node => {\n          const before = node.text.slice(0, offset)\n          const after = node.text.slice(offset + text.length)\n\n          return {\n            ...node,\n            text: before + after,\n          }\n        })\n\n        transformSelection = true\n        break\n      }\n\n      case 'set_node': {\n        const { path, properties, newProperties } = op\n\n        if (path.length === 0) {\n          throw new Error(`Cannot set properties on the root node!`)\n        }\n\n        modifyDescendant(editor, path, node => {\n          const newNode = { ...node }\n\n          for (const key in newProperties) {\n            if (key === 'children' || key === 'text') {\n              throw new Error(`Cannot set the \"${key}\" property of nodes!`)\n            }\n\n            const value = newProperties[<keyof Node>key]\n\n            if (value == null) {\n              delete newNode[<keyof Node>key]\n            } else {\n              newNode[<keyof Node>key] = value\n            }\n          }\n\n          // properties that were previously defined, but are now missing, must be deleted\n          for (const key in properties) {\n            if (!newProperties.hasOwnProperty(key)) {\n              delete newNode[<keyof Node>key]\n            }\n          }\n\n          return newNode\n        })\n\n        break\n      }\n\n      case 'set_selection': {\n        const { newProperties } = op\n\n        if (newProperties == null) {\n          editor.selection = null\n          break\n        }\n\n        if (editor.selection == null) {\n          if (!(newProperties.anchor && newProperties.focus)) {\n            throw new Error(\n              `Cannot apply an incomplete \"set_selection\" operation properties ${Scrubber.stringify(\n                newProperties\n              )} when there is no current selection.`\n            )\n          }\n\n          editor.selection = { ...(newProperties as Range) }\n          break\n        }\n\n        const selection = { ...editor.selection }\n\n        for (const key in newProperties) {\n          const value = newProperties[<keyof Range>key]\n\n          if (value == null) {\n            if (key === 'anchor' || key === 'focus') {\n              throw new Error(`Cannot remove the \"${key}\" selection property`)\n            }\n\n            delete selection[<keyof Range>key]\n          } else {\n            selection[<keyof Range>key] = value\n          }\n        }\n\n        editor.selection = selection\n\n        break\n      }\n\n      case 'split_node': {\n        const { path, position, properties } = op\n        const index = path[path.length - 1]\n\n        if (path.length === 0) {\n          throw new Error(\n            `Cannot apply a \"split_node\" operation at path [${path}] because the root node cannot be split.`\n          )\n        }\n\n        modifyChildren(editor, Path.parent(path), children => {\n          const node = children[index]\n          let newNode: Descendant\n          let nextNode: Descendant\n\n          if (Node.isText(node)) {\n            const before = node.text.slice(0, position)\n            const after = node.text.slice(position)\n            newNode = {\n              ...node,\n              text: before,\n            }\n            nextNode = {\n              ...(properties as Partial<Text>),\n              text: after,\n            }\n          } else {\n            const before = node.children.slice(0, position)\n            const after = node.children.slice(position)\n            newNode = {\n              ...node,\n              children: before,\n            }\n            nextNode = {\n              ...(properties as Partial<Element>),\n              children: after,\n            }\n          }\n\n          return replaceChildren(children, index, 1, newNode, nextNode)\n        })\n\n        transformSelection = true\n        break\n      }\n    }\n\n    if (transformSelection && editor.selection) {\n      const selection = { ...editor.selection }\n\n      for (const [point, key] of Range.points(selection)) {\n        selection[key] = Point.transform(point, op)!\n      }\n\n      if (!Range.equals(selection, editor.selection)) {\n        editor.selection = selection\n      }\n    }\n  },\n}\n","import { Editor, Element, Location, Node, Path } from '../../index'\nimport { NodeMatch, PropsCompare, PropsMerge } from '../editor'\nimport { MaximizeMode, RangeMode } from '../../types/types'\n\nexport interface NodeInsertNodesOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: RangeMode\n  hanging?: boolean\n  select?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface NodeTransforms {\n  /**\n   * Insert nodes in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNodes: <T extends Node>(\n    editor: Editor,\n    nodes: Node | Node[],\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Lift nodes at a specific location upwards in the document tree, splitting\n   * their parent in two if necessary.\n   */\n  liftNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Merge a node at a location with the previous node of the same depth,\n   * removing any empty containing nodes after the merge if necessary.\n   */\n  mergeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Move the nodes at a location to a new location.\n   */\n  moveNodes: <T extends Node>(\n    editor: Editor,\n    options: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      to: Path\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Remove the nodes at a specific location in the document.\n   */\n  removeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Set new properties on the nodes at a location.\n   */\n  setNodes: <T extends Node>(\n    editor: Editor,\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n\n  /**\n   * Split the nodes at a specific location.\n   */\n  splitNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      always?: boolean\n      height?: number\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unset properties on the nodes at a location.\n   */\n  unsetNodes: <T extends Node>(\n    editor: Editor,\n    props: string | string[],\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unwrap the nodes at a location from a parent node, splitting the parent if\n   * necessary to ensure that only the content in the range is unwrapped.\n   */\n  unwrapNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Wrap the nodes at a location in a new container node, splitting the edges\n   * of the range first to ensure that only the content in the range is wrapped.\n   */\n  wrapNodes: <T extends Node>(\n    editor: Editor,\n    element: Element,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const NodeTransforms: NodeTransforms = {\n  insertNodes(editor, nodes, options) {\n    editor.insertNodes(nodes, options)\n  },\n  liftNodes(editor, options) {\n    editor.liftNodes(options)\n  },\n  mergeNodes(editor, options) {\n    editor.mergeNodes(options)\n  },\n  moveNodes(editor, options) {\n    editor.moveNodes(options)\n  },\n  removeNodes(editor, options) {\n    editor.removeNodes(options)\n  },\n  setNodes(editor, props, options) {\n    editor.setNodes(props, options)\n  },\n  splitNodes(editor, options) {\n    editor.splitNodes(options)\n  },\n  unsetNodes(editor, props, options) {\n    editor.unsetNodes(props, options)\n  },\n  unwrapNodes(editor, options) {\n    editor.unwrapNodes(options)\n  },\n  wrapNodes(editor, element, options) {\n    editor.wrapNodes(element, options)\n  },\n}\n","import { Editor, Location, Point, Range } from '../../index'\nimport { MoveUnit, SelectionEdge } from '../../types/types'\n\nexport interface SelectionCollapseOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionMoveOptions {\n  distance?: number\n  unit?: MoveUnit\n  reverse?: boolean\n  edge?: SelectionEdge\n}\n\nexport interface SelectionSetPointOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionTransforms {\n  /**\n   * Collapse the selection.\n   */\n  collapse: (editor: Editor, options?: SelectionCollapseOptions) => void\n\n  /**\n   * Unset the selection.\n   */\n  deselect: (editor: Editor) => void\n\n  /**\n   * Move the selection's point forward or backward.\n   */\n  move: (editor: Editor, options?: SelectionMoveOptions) => void\n\n  /**\n   * Set the selection to a new value.\n   */\n  select: (editor: Editor, target: Location) => void\n\n  /**\n   * Set new properties on one of the selection's points.\n   */\n  setPoint: (\n    editor: Editor,\n    props: Partial<Point>,\n    options?: SelectionSetPointOptions\n  ) => void\n\n  /**\n   * Set new properties on the selection.\n   */\n  setSelection: (editor: Editor, props: Partial<Range>) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const SelectionTransforms: SelectionTransforms = {\n  collapse(editor, options) {\n    editor.collapse(options)\n  },\n  deselect(editor) {\n    editor.deselect()\n  },\n  move(editor, options) {\n    editor.move(options)\n  },\n  select(editor, target) {\n    editor.select(target)\n  },\n  setPoint(editor, props, options) {\n    editor.setPoint(props, options)\n  },\n  setSelection(editor, props) {\n    editor.setSelection(props)\n  },\n}\n","import { Editor, Location, Node, Range, Transforms } from '../../index'\nimport { TextUnit } from '../../types/types'\nimport { getDefaultInsertLocation } from '../../utils'\n\nexport interface TextDeleteOptions {\n  at?: Location\n  distance?: number\n  unit?: TextUnit\n  reverse?: boolean\n  hanging?: boolean\n  voids?: boolean\n}\n\nexport interface TextInsertFragmentOptions {\n  at?: Location\n  hanging?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface TextInsertTextOptions {\n  at?: Location\n  voids?: boolean\n}\n\nexport interface TextTransforms {\n  /**\n   * Delete content in the editor.\n   */\n  delete: (editor: Editor, options?: TextDeleteOptions) => void\n\n  /**\n   * Insert a fragment in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Insert a string of text in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const TextTransforms: TextTransforms = {\n  delete(editor, options) {\n    editor.delete(options)\n  },\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n  insertText(\n    editor: Editor,\n    text: string,\n    options: TextInsertTextOptions = {}\n  ): void {\n    Editor.withoutNormalizing(editor, () => {\n      const { voids = false } = options\n      let { at = getDefaultInsertLocation(editor) } = options\n\n      if (Location.isPath(at)) {\n        at = Editor.range(editor, at)\n      }\n\n      if (Location.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor\n        } else {\n          const end = Range.end(at)\n          if (!voids && Editor.void(editor, { at: end })) {\n            return\n          }\n          const start = Range.start(at)\n          const startRef = Editor.pointRef(editor, start)\n          const endRef = Editor.pointRef(editor, end)\n          Transforms.delete(editor, { at, voids })\n          const startPoint = startRef.unref()\n          const endPoint = endRef.unref()\n\n          at = startPoint || endPoint!\n          Transforms.setSelection(editor, { anchor: at, focus: at })\n        }\n      }\n\n      if (\n        (!voids && Editor.void(editor, { at })) ||\n        Editor.elementReadOnly(editor, { at })\n      ) {\n        return\n      }\n\n      const { path, offset } = at\n      if (text.length > 0)\n        editor.apply({ type: 'insert_text', path, offset, text })\n    })\n  },\n}\n","import { GeneralTransforms } from './general'\nimport { NodeTransforms } from './node'\nimport { SelectionTransforms } from './selection'\nimport { TextTransforms } from './text'\n\nexport const Transforms: GeneralTransforms &\n  NodeTransforms &\n  SelectionTransforms &\n  TextTransforms = {\n  ...GeneralTransforms,\n  ...NodeTransforms,\n  ...SelectionTransforms,\n  ...TextTransforms,\n}\n","// perf\n\nimport { Editor } from '../interfaces/editor'\n\nconst BATCHING_DIRTY_PATHS: WeakMap<Editor, boolean> = new WeakMap()\n\nexport const isBatchingDirtyPaths = (editor: Editor) => {\n  return BATCHING_DIRTY_PATHS.get(editor) || false\n}\n\nexport const batchDirtyPaths = (\n  editor: Editor,\n  fn: () => void,\n  update: () => void\n) => {\n  const value = BATCHING_DIRTY_PATHS.get(editor) || false\n  BATCHING_DIRTY_PATHS.set(editor, true)\n  try {\n    fn()\n    update()\n  } finally {\n    BATCHING_DIRTY_PATHS.set(editor, value)\n  }\n}\n","import { DIRTY_PATH_KEYS, DIRTY_PATHS } from '../utils/weak-maps'\nimport { Path } from '../interfaces/path'\nimport { Editor } from '../interfaces/editor'\n\n/**\n * update editor dirty paths\n *\n * @param newDirtyPaths: Path[]; new dirty paths\n * @param transform: (p: Path) => Path | null; how to transform existing dirty paths\n */\nexport function updateDirtyPaths(\n  editor: Editor,\n  newDirtyPaths: Path[],\n  transform?: (p: Path) => Path | null\n) {\n  const oldDirtyPaths = DIRTY_PATHS.get(editor) || []\n  const oldDirtyPathKeys = DIRTY_PATH_KEYS.get(editor) || new Set()\n  let dirtyPaths: Path[]\n  let dirtyPathKeys: Set<string>\n\n  const add = (path: Path | null) => {\n    if (path) {\n      const key = path.join(',')\n\n      if (!dirtyPathKeys.has(key)) {\n        dirtyPathKeys.add(key)\n        dirtyPaths.push(path)\n      }\n    }\n  }\n\n  if (transform) {\n    dirtyPaths = []\n    dirtyPathKeys = new Set()\n    for (const path of oldDirtyPaths) {\n      const newPath = transform(path)\n      add(newPath)\n    }\n  } else {\n    dirtyPaths = oldDirtyPaths\n    dirtyPathKeys = oldDirtyPathKeys\n  }\n\n  for (const path of newDirtyPaths) {\n    add(path)\n  }\n\n  DIRTY_PATHS.set(editor, dirtyPaths)\n  DIRTY_PATH_KEYS.set(editor, dirtyPathKeys)\n}\n","import { PathRef } from '../interfaces/path-ref'\nimport { PointRef } from '../interfaces/point-ref'\nimport { RangeRef } from '../interfaces/range-ref'\nimport { FLUSHING } from '../utils/weak-maps'\nimport { Path } from '../interfaces/path'\nimport { Transforms } from '../interfaces/transforms'\nimport { WithEditorFirstArg } from '../utils/types'\nimport { Editor } from '../interfaces/editor'\nimport { isBatchingDirtyPaths } from './batch-dirty-paths'\nimport { updateDirtyPaths } from './update-dirty-paths'\n\nexport const apply: WithEditorFirstArg<Editor['apply']> = (editor, op) => {\n  for (const ref of Editor.pathRefs(editor)) {\n    PathRef.transform(ref, op)\n  }\n\n  for (const ref of Editor.pointRefs(editor)) {\n    PointRef.transform(ref, op)\n  }\n\n  for (const ref of Editor.rangeRefs(editor)) {\n    RangeRef.transform(ref, op)\n  }\n\n  // update dirty paths\n  if (!isBatchingDirtyPaths(editor)) {\n    const transform = Path.operationCanTransformPath(op)\n      ? (p: Path) => Path.transform(p, op)\n      : undefined\n    updateDirtyPaths(editor, editor.getDirtyPaths(op), transform)\n  }\n\n  Transforms.transform(editor, op)\n  editor.operations.push(op)\n  Editor.normalize(editor, {\n    operation: op,\n  })\n\n  // Clear any formats applied to the cursor if the selection changes.\n  if (op.type === 'set_selection') {\n    editor.marks = null\n  }\n\n  if (!FLUSHING.get(editor)) {\n    FLUSHING.set(editor, true)\n\n    Promise.resolve().then(() => {\n      FLUSHING.set(editor, false)\n      editor.onChange({ operation: op })\n      editor.operations = []\n    })\n  }\n}\n","import { WithEditorFirstArg } from '../utils/types'\nimport { Path } from '../interfaces/path'\nimport { Node } from '../interfaces/node'\nimport { Editor } from '../interfaces/editor'\n\n/**\n * Get the \"dirty\" paths generated from an operation.\n */\nexport const getDirtyPaths: WithEditorFirstArg<Editor['getDirtyPaths']> = (\n  editor,\n  op\n) => {\n  switch (op.type) {\n    case 'insert_text':\n    case 'remove_text':\n    case 'set_node': {\n      const { path } = op\n      return Path.levels(path)\n    }\n\n    case 'insert_node': {\n      const { node, path } = op\n      const levels = Path.levels(path)\n      const descendants = Node.isText(node)\n        ? []\n        : Array.from(Node.nodes(node), ([, p]) => path.concat(p))\n\n      return [...levels, ...descendants]\n    }\n\n    case 'merge_node': {\n      const { path } = op\n      const ancestors = Path.ancestors(path)\n      const previousPath = Path.previous(path)\n      return [...ancestors, previousPath]\n    }\n\n    case 'move_node': {\n      const { path, newPath } = op\n\n      if (Path.equals(path, newPath)) {\n        return []\n      }\n\n      const oldAncestors: Path[] = []\n      const newAncestors: Path[] = []\n\n      for (const ancestor of Path.ancestors(path)) {\n        const p = Path.transform(ancestor, op)\n        oldAncestors.push(p!)\n      }\n\n      for (const ancestor of Path.ancestors(newPath)) {\n        const p = Path.transform(ancestor, op)\n        newAncestors.push(p!)\n      }\n\n      const newParent = newAncestors[newAncestors.length - 1]\n      const newIndex = newPath[newPath.length - 1]\n      const resultPath = newParent.concat(newIndex)\n\n      return [...oldAncestors, ...newAncestors, resultPath]\n    }\n\n    case 'remove_node': {\n      const { path } = op\n      const ancestors = Path.ancestors(path)\n      return [...ancestors]\n    }\n\n    case 'split_node': {\n      const { path } = op\n      const levels = Path.levels(path)\n      const nextPath = Path.next(path)\n      return [...levels, nextPath]\n    }\n\n    default: {\n      return []\n    }\n  }\n}\n","import { Editor, Node } from '../interfaces'\nimport { WithEditorFirstArg } from '../utils'\n\nexport const getFragment: WithEditorFirstArg<\n  Editor['getFragment']\n> = editor => {\n  const { selection } = editor\n\n  if (selection) {\n    return Node.fragment(editor, selection)\n  }\n  return []\n}\n","import { WithEditorFirstArg } from '../utils/types'\nimport {\n  Editor,\n  Element,\n  Descendant,\n  Text,\n  Transforms,\n  Node,\n  Path,\n  Ancestor,\n} from '../interfaces'\n\nexport const normalizeNode: WithEditorFirstArg<Editor['normalizeNode']> = (\n  editor,\n  entry,\n  options\n) => {\n  const [node, path] = entry as [{}, Path] // node is not yet normalized, treat as hostile\n\n  // There are no core normalizations for text nodes.\n  if (Node.isText(node as Node)) {\n    return\n  }\n\n  if (!('children' in node)) {\n    // If the node is not a text node, and doesn't have a `children` field,\n    // then we have an invalid node that will upset slate.\n    //\n    // eg: `{ type: 'some_node' }`.\n    //\n    // To prevent slate from breaking, we can add the `children` field,\n    // and now that it is valid, we can to many more operations easily,\n    // such as extend normalizers to fix erronous structure.\n    ;(node as Element).children = []\n  }\n  let element = node as Ancestor // we will have to refetch the element any time we modify its children since it clones to a new immutable reference when we do\n\n  // Ensure that elements have at least one child.\n  if (element !== editor && element.children.length === 0) {\n    const child = { text: '' }\n    Transforms.insertNodes(editor, child, { at: path.concat(0), voids: true })\n    element = Node.get(editor, path) as Element\n  }\n\n  // Determine whether the node should have only block or only inline children.\n  // - The editor should have only block children.\n  // - Inline elements should have only inline children.\n  // - Elements that begin with a text child or an inline element child should have only inline children.\n  // - All other elements should have only block children.\n  const shouldHaveInlines =\n    !(element === editor) &&\n    (editor.isInline(element) ||\n      Node.isText(element.children[0]) ||\n      editor.isInline(element.children[0]))\n\n  if (shouldHaveInlines) {\n    // Since we'll be applying operations while iterating, we also modify `n` when adding/removing nodes.\n    for (let n = 0; n < element.children.length; n++) {\n      const child = element.children[n]\n      const prev = element.children[n - 1] as Descendant | undefined\n\n      if (Node.isText(child)) {\n        if (prev != null && Node.isText(prev)) {\n          // Merge adjacent text nodes that are empty or match.\n          if (child.text === '') {\n            Transforms.removeNodes(editor, {\n              at: path.concat(n),\n              voids: true,\n            })\n            element = Node.get(editor, path) as Element\n            n--\n          } else if (prev.text === '') {\n            Transforms.removeNodes(editor, {\n              at: path.concat(n - 1),\n              voids: true,\n            })\n            element = Node.get(editor, path) as Element\n            n--\n          } else if (Text.equals(child, prev, { loose: true })) {\n            Transforms.mergeNodes(editor, { at: path.concat(n), voids: true })\n            element = Node.get(editor, path) as Element\n            n--\n          }\n        }\n      } else {\n        if (editor.isInline(child)) {\n          // Ensure that inline nodes are surrounded by text nodes.\n          if (prev == null || !Node.isText(prev)) {\n            const newChild = { text: '' }\n            Transforms.insertNodes(editor, newChild, {\n              at: path.concat(n),\n              voids: true,\n            })\n            element = Node.get(editor, path) as Element\n            n++\n          }\n          if (n === element.children.length - 1) {\n            const newChild = { text: '' }\n            Transforms.insertNodes(editor, newChild, {\n              at: path.concat(n + 1),\n              voids: true,\n            })\n            element = Node.get(editor, path) as Element\n            n++\n          }\n        } else {\n          // Allow only inline nodes to be in other inline nodes, or in parent blocks that only\n          // contain inlines and text.\n          Transforms.unwrapNodes(editor, { at: path.concat(n), voids: true })\n          element = Node.get(editor, path) as Element\n          n--\n        }\n      }\n    }\n  } else {\n    // Since we'll be applying operations while iterating, we also modify `n` when adding/removing nodes\n    for (let n = 0; n < element.children.length; n++) {\n      const child = element.children[n]\n\n      // Allow only block nodes in the top-level children and parent blocks that only contain block nodes\n      if (Node.isText(child) || editor.isInline(child)) {\n        if (options?.fallbackElement) {\n          Transforms.wrapNodes(editor, options.fallbackElement(), {\n            at: path.concat(n),\n            voids: true,\n          })\n        } else {\n          Transforms.removeNodes(editor, { at: path.concat(n), voids: true })\n        }\n        element = Node.get(editor, path) as Ancestor\n        n--\n      }\n    }\n  }\n}\n","import { WithEditorFirstArg } from '../utils/types'\nimport { Editor } from '../interfaces/editor'\n\nexport const shouldNormalize: WithEditorFirstArg<Editor['shouldNormalize']> = (\n  editor,\n  { iteration, initialDirtyPathsLength }\n) => {\n  const maxIterations = initialDirtyPathsLength * 42 // HACK: better way?\n\n  if (iteration > maxIterations) {\n    throw new Error(\n      `Could not completely normalize the editor after ${maxIterations} iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.`\n    )\n  }\n\n  return true\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Location } from '../interfaces'\nimport { Path } from '../interfaces/path'\n\nexport const above: EditorInterface['above'] = (editor, options = {}) => {\n  const {\n    voids = false,\n    mode = 'lowest',\n    at = editor.selection,\n    match,\n  } = options\n\n  if (!at) {\n    return\n  }\n\n  let path = Editor.path(editor, at)\n\n  // If `at` is a Range that spans mulitple nodes, `path` will be their common ancestor.\n  // Otherwise `path` will be a text node and/or the same as `at`, in which cases we want to start with its parent.\n  if (!Location.isRange(at) || Path.equals(at.focus.path, at.anchor.path)) {\n    if (path.length === 0) return\n    path = Path.parent(path)\n  }\n\n  const reverse = mode === 'lowest'\n\n  const [firstMatch] = Editor.levels(editor, {\n    at: path,\n    voids,\n    match,\n    reverse,\n  })\n  return firstMatch // if nothing matches this returns undefined\n}\n","import { Node } from '../interfaces/node'\nimport { Path } from '../interfaces/path'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { FLUSHING } from '../utils/weak-maps'\nimport { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const addMark: EditorInterface['addMark'] = (editor, key, value) => {\n  const { selection } = editor\n\n  if (selection) {\n    const match = (node: Node, path: Path) => {\n      if (!Node.isText(node)) {\n        return false // marks can only be applied to text\n      }\n      const [parentNode, parentPath] = Editor.parent(editor, path)\n      return !editor.isVoid(parentNode) || editor.markableVoid(parentNode)\n    }\n    const expandedSelection = Range.isExpanded(selection)\n    let markAcceptingVoidSelected = false\n    if (!expandedSelection) {\n      const [selectedNode, selectedPath] = Editor.node(editor, selection)\n      if (selectedNode && match(selectedNode, selectedPath)) {\n        const [parentNode] = Editor.parent(editor, selectedPath)\n        markAcceptingVoidSelected =\n          parentNode && editor.markableVoid(parentNode)\n      }\n    }\n    if (expandedSelection || markAcceptingVoidSelected) {\n      Transforms.setNodes(\n        editor,\n        { [key]: value },\n        {\n          match,\n          split: true,\n          voids: true,\n        }\n      )\n    } else {\n      const marks = {\n        ...(Editor.marks(editor) || {}),\n        [key]: value,\n      }\n\n      editor.marks = marks\n      if (!FLUSHING.get(editor)) {\n        editor.onChange()\n      }\n    }\n  }\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const after: EditorInterface['after'] = (editor, at, options = {}) => {\n  const anchor = Editor.point(editor, at, { edge: 'end' })\n  const focus = Editor.end(editor, [])\n  const range = { anchor, focus }\n  const { distance = 1 } = options\n  let d = 0\n  let target\n\n  for (const p of Editor.positions(editor, {\n    ...options,\n    at: range,\n  })) {\n    if (d > distance) {\n      break\n    }\n\n    if (d !== 0) {\n      target = p\n    }\n\n    d++\n  }\n\n  return target\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const before: EditorInterface['before'] = (editor, at, options = {}) => {\n  const anchor = Editor.start(editor, [])\n  const focus = Editor.point(editor, at, { edge: 'start' })\n  const range = { anchor, focus }\n  const { distance = 1 } = options\n  let d = 0\n  let target\n\n  for (const p of Editor.positions(editor, {\n    ...options,\n    at: range,\n    reverse: true,\n  })) {\n    if (d > distance) {\n      break\n    }\n\n    if (d !== 0) {\n      target = p\n    }\n\n    d++\n  }\n\n  return target\n}\n","import { Editor } from '../interfaces/editor'\nimport { Transforms } from '../interfaces/transforms'\nimport { Range } from '../interfaces/range'\nimport { WithEditorFirstArg } from '../utils/types'\n\nexport const deleteBackward: WithEditorFirstArg<Editor['deleteBackward']> = (\n  editor,\n  unit\n) => {\n  const { selection } = editor\n\n  if (selection && Range.isCollapsed(selection)) {\n    Transforms.delete(editor, { unit, reverse: true })\n  }\n}\n","import { Editor } from '../interfaces/editor'\nimport { Transforms } from '../interfaces/transforms'\nimport { Range } from '../interfaces/range'\nimport { WithEditorFirstArg } from '../utils/types'\n\nexport const deleteForward: WithEditorFirstArg<Editor['deleteForward']> = (\n  editor,\n  unit\n) => {\n  const { selection } = editor\n\n  if (selection && Range.isCollapsed(selection)) {\n    Transforms.delete(editor, { unit })\n  }\n}\n","import { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { EditorInterface } from '../interfaces/editor'\n\nexport const deleteFragment: EditorInterface['deleteFragment'] = (\n  editor,\n  { direction = 'forward' } = {}\n) => {\n  const { selection } = editor\n\n  if (selection && Range.isExpanded(selection)) {\n    Transforms.delete(editor, { reverse: direction === 'backward' })\n  }\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const edges: EditorInterface['edges'] = (editor, at) => {\n  return [Editor.start(editor, at), Editor.end(editor, at)]\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const elementReadOnly: EditorInterface['elementReadOnly'] = (\n  editor,\n  options = {}\n) => {\n  return Editor.above(editor, {\n    ...options,\n    match: n => Node.isElement(n) && Editor.isElementReadOnly(editor, n),\n  })\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const end: EditorInterface['end'] = (editor, at) => {\n  return Editor.point(editor, at, { edge: 'end' })\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const first: EditorInterface['first'] = (editor, at) => {\n  const path = Editor.path(editor, at, { edge: 'start' })\n  return Editor.node(editor, path)\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const fragment: EditorInterface['fragment'] = (editor, at) => {\n  const range = Editor.range(editor, at)\n  return Node.fragment(editor, range)\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const getVoid: EditorInterface['void'] = (editor, options = {}) => {\n  return Editor.above(editor, {\n    ...options,\n    match: n => Node.isElement(n) && Editor.isVoid(editor, n),\n  })\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const hasBlocks: EditorInterface['hasBlocks'] = (editor, element) => {\n  return element.children.some(\n    n => Node.isElement(n) && Editor.isBlock(editor, n)\n  )\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const hasInlines: EditorInterface['hasInlines'] = (editor, element) => {\n  return element.children.some(\n    n => Node.isText(n) || Editor.isInline(editor, n)\n  )\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const hasPath: EditorInterface['hasPath'] = (editor, path) => {\n  return Node.has(editor, path)\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const hasTexts: EditorInterface['hasTexts'] = (editor, element) => {\n  return element.children.every(n => Node.isText(n))\n}\n","import { Transforms } from '../interfaces/transforms'\nimport { EditorInterface } from '../interfaces/editor'\n\nexport const insertBreak: EditorInterface['insertBreak'] = editor => {\n  Transforms.splitNodes(editor, { always: true })\n}\n","import { Transforms } from '../interfaces/transforms'\nimport { EditorInterface } from '../interfaces/editor'\n\nexport const insertNode: EditorInterface['insertNode'] = (\n  editor,\n  node,\n  options\n) => {\n  Transforms.insertNodes(editor, node, options)\n}\n","import { Transforms } from '../interfaces/transforms'\nimport { EditorInterface } from '../interfaces/editor'\n\nexport const insertSoftBreak: EditorInterface['insertSoftBreak'] = editor => {\n  Transforms.splitNodes(editor, { always: true })\n}\n","import { Transforms } from '../interfaces/transforms'\nimport { EditorInterface } from '../interfaces/editor'\n\nexport const insertText: EditorInterface['insertText'] = (\n  editor,\n  text,\n  options = {}\n) => {\n  const { selection, marks } = editor\n\n  if (selection) {\n    if (marks) {\n      const node = { text, ...marks }\n      Transforms.insertNodes(editor, node, {\n        at: options.at,\n        voids: options.voids,\n      })\n    } else {\n      Transforms.insertText(editor, text, options)\n    }\n\n    editor.marks = null\n  }\n}\n","import { EditorInterface } from '../interfaces/editor'\n\nexport const isBlock: EditorInterface['isBlock'] = (editor, value) => {\n  return !editor.isInline(value)\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const isEdge: EditorInterface['isEdge'] = (editor, point, at) => {\n  return Editor.isStart(editor, point, at) || Editor.isEnd(editor, point, at)\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const isEmpty: EditorInterface['isEmpty'] = (editor, element) => {\n  const { children } = element\n  const [first] = children\n  return (\n    children.length === 0 ||\n    (children.length === 1 &&\n      Node.isText(first) &&\n      first.text === '' &&\n      !editor.isVoid(element))\n  )\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Point } from '../interfaces/point'\n\nexport const isEnd: EditorInterface['isEnd'] = (editor, point, at) => {\n  const end = Editor.end(editor, at)\n  return Point.equals(point, end)\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { NORMALIZING } from '../utils/weak-maps'\n\nexport const isNormalizing: EditorInterface['isNormalizing'] = editor => {\n  const isNormalizing = NORMALIZING.get(editor)\n  return isNormalizing === undefined ? true : isNormalizing\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Point } from '../interfaces/point'\n\nexport const isStart: EditorInterface['isStart'] = (editor, point, at) => {\n  // PERF: If the offset isn't `0` we know it's not the start.\n  if (point.offset !== 0) {\n    return false\n  }\n\n  const start = Editor.start(editor, at)\n  return Point.equals(point, start)\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const last: EditorInterface['last'] = (editor, at) => {\n  const path = Editor.path(editor, at, { edge: 'end' })\n  return Editor.node(editor, path)\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const leaf: EditorInterface['leaf'] = (editor, at, options = {}) => {\n  const path = Editor.path(editor, at, options)\n  const node = Node.leaf(editor, path)\n  return [node, path]\n}\n","import { Node, NodeEntry } from '../interfaces/node'\nimport { Editor, EditorLevelsOptions } from '../interfaces/editor'\n\nexport function* levels<T extends Node>(\n  editor: Editor,\n  options: EditorLevelsOptions<T> = {}\n): Generator<NodeEntry<T>, void, undefined> {\n  const { at = editor.selection, reverse = false, voids = false } = options\n  let { match } = options\n\n  if (match == null) {\n    match = () => true\n  }\n\n  if (!at) {\n    return\n  }\n\n  const levels: NodeEntry<T>[] = []\n  const path = Editor.path(editor, at)\n\n  for (const [n, p] of Node.levels(editor, path)) {\n    if (!match(n, p)) {\n      continue\n    }\n\n    levels.push([n, p] as NodeEntry<T>)\n\n    if (!voids && Node.isElement(n) && Editor.isVoid(editor, n)) {\n      break\n    }\n  }\n\n  if (reverse) {\n    levels.reverse()\n  }\n\n  yield* levels\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\nimport { Range } from '../interfaces/range'\nimport { Path } from '../interfaces/path'\nimport { Point } from '../interfaces'\n\nexport const marks: EditorInterface['marks'] = (editor, options = {}) => {\n  const { marks, selection } = editor\n\n  if (!selection) {\n    return null\n  }\n  let { anchor, focus } = selection\n\n  if (marks) {\n    return marks\n  }\n\n  if (Range.isExpanded(selection)) {\n    const isBackward = Range.isBackward(selection)\n    if (isBackward) {\n      ;[focus, anchor] = [anchor, focus]\n    }\n    /**\n     * COMPAT: Make sure hanging ranges (caused by double clicking in Firefox)\n     * do not adversely affect the returned marks.\n     */\n    const isEnd = Editor.isEnd(editor, anchor, anchor.path)\n    if (isEnd) {\n      const after = Editor.after(editor, anchor as Point)\n      if (after) {\n        anchor = after\n      }\n    }\n\n    const [match] = Editor.nodes(editor, {\n      match: Node.isText,\n      at: {\n        anchor,\n        focus,\n      },\n    })\n\n    if (match) {\n      const [node] = match\n      const { text, ...rest } = node\n      return rest\n    } else {\n      return {}\n    }\n  }\n\n  const { path } = anchor\n\n  let [node] = Editor.leaf(editor, path)\n\n  if (anchor.offset === 0) {\n    const prev = Editor.previous(editor, { at: path, match: Node.isText })\n    const markedVoid = Editor.above(editor, {\n      match: n =>\n        Node.isElement(n) && Editor.isVoid(editor, n) && editor.markableVoid(n),\n    })\n    if (!markedVoid) {\n      const block = Editor.above(editor, {\n        match: n => Node.isElement(n) && Editor.isBlock(editor, n),\n      })\n\n      if (prev && block) {\n        const [prevNode, prevPath] = prev\n        const [, blockPath] = block\n\n        if (Path.isAncestor(blockPath, prevPath)) {\n          node = prevNode\n        }\n      }\n    }\n  }\n\n  const { text, ...rest } = node\n  return rest\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Location, Span } from '../interfaces/location'\n\nexport const next: EditorInterface['next'] = (editor, options = {}) => {\n  const { mode = 'lowest', voids = false } = options\n  let { match, at = editor.selection } = options\n\n  if (!at) {\n    return\n  }\n\n  const pointAfterLocation = Editor.after(editor, at, { voids })\n\n  if (!pointAfterLocation) return\n\n  const [, to] = Editor.last(editor, [])\n\n  const span: Span = [pointAfterLocation.path, to]\n\n  if (Location.isPath(at) && at.length === 0) {\n    throw new Error(`Cannot get the next node from the root node!`)\n  }\n\n  if (match == null) {\n    if (Location.isPath(at)) {\n      const [parent] = Editor.parent(editor, at)\n      match = n => parent.children.includes(n)\n    } else {\n      match = () => true\n    }\n  }\n\n  const [next] = Editor.nodes(editor, { at: span, match, mode, voids })\n  return next\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\n\nexport const node: EditorInterface['node'] = (editor, at, options = {}) => {\n  const path = Editor.path(editor, at, options)\n  const node = Node.get(editor, path)\n  return [node, path]\n}\n","import { Node, NodeEntry } from '../interfaces/node'\nimport { Editor, EditorNodesOptions } from '../interfaces/editor'\nimport { Location } from '../interfaces/location'\nimport { Path } from '../interfaces/path'\n\nexport function* nodes<T extends Node>(\n  editor: Editor,\n  options: EditorNodesOptions<T> = {}\n): Generator<NodeEntry<T>, void, undefined> {\n  const {\n    at = editor.selection,\n    mode = 'all',\n    universal = false,\n    reverse = false,\n    voids = false,\n    pass,\n  } = options\n  let { match } = options\n\n  if (!match) {\n    match = () => true\n  }\n\n  if (!at) {\n    return\n  }\n\n  let from\n  let to\n\n  if (Location.isSpan(at)) {\n    from = at[0]\n    to = at[1]\n  } else {\n    const first = Editor.path(editor, at, { edge: 'start' })\n    const last = Editor.path(editor, at, { edge: 'end' })\n    from = reverse ? last : first\n    to = reverse ? first : last\n  }\n\n  const nodeEntries = Node.nodes(editor, {\n    reverse,\n    from,\n    to,\n    pass: ([node, path]) => {\n      if (pass && pass([node, path])) return true\n      if (!Node.isElement(node)) return false\n      if (\n        !voids &&\n        (Editor.isVoid(editor, node) || Editor.isElementReadOnly(editor, node))\n      )\n        return true\n\n      return false\n    },\n  })\n\n  const matches: NodeEntry<T>[] = []\n  let hit: NodeEntry<T> | undefined\n\n  for (const [node, path] of nodeEntries) {\n    const isLower = hit && Path.compare(path, hit[1]) === 0\n\n    // In highest mode any node lower than the last hit is not a match.\n    if (mode === 'highest' && isLower) {\n      continue\n    }\n\n    if (!match(node, path)) {\n      // If we've arrived at a leaf text node that is not lower than the last\n      // hit, then we've found a branch that doesn't include a match, which\n      // means the match is not universal.\n      if (universal && !isLower && Node.isText(node)) {\n        return\n      } else {\n        continue\n      }\n    }\n\n    // If there's a match and it's lower than the last, update the hit.\n    if (mode === 'lowest' && isLower) {\n      hit = [node, path] as NodeEntry<T>\n      continue\n    }\n\n    // In lowest mode we emit the last hit, once it's guaranteed lowest.\n    const emit: NodeEntry<T> | undefined =\n      mode === 'lowest' ? hit : ([node, path] as NodeEntry<T>)\n\n    if (emit) {\n      if (universal) {\n        matches.push(emit)\n      } else {\n        yield emit\n      }\n    }\n\n    hit = [node, path] as NodeEntry<T>\n  }\n\n  // Since lowest is always emitting one behind, catch up at the end.\n  if (mode === 'lowest' && hit) {\n    if (universal) {\n      matches.push(hit)\n    } else {\n      yield hit\n    }\n  }\n\n  // Universal defers to ensure that the match occurs in every branch, so we\n  // yield all of the matches after iterating.\n  if (universal) {\n    yield* matches\n  }\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { DIRTY_PATH_KEYS, DIRTY_PATHS } from '../utils/weak-maps'\nimport { Path } from '../interfaces/path'\nimport { Node } from '../interfaces/node'\n\nexport const normalize: EditorInterface['normalize'] = (\n  editor,\n  options = {}\n) => {\n  const { force = false, operation } = options\n  const getDirtyPaths = (editor: Editor) => {\n    return DIRTY_PATHS.get(editor) || []\n  }\n\n  const getDirtyPathKeys = (editor: Editor) => {\n    return DIRTY_PATH_KEYS.get(editor) || new Set()\n  }\n\n  const popDirtyPath = (editor: Editor): Path => {\n    const path = getDirtyPaths(editor).pop()!\n    const key = path.join(',')\n    getDirtyPathKeys(editor).delete(key)\n    return path\n  }\n\n  if (!Editor.isNormalizing(editor)) {\n    return\n  }\n\n  if (force) {\n    const allPaths = Array.from(Node.nodes(editor), ([, p]) => p)\n    const allPathKeys = new Set(allPaths.map(p => p.join(',')))\n    DIRTY_PATHS.set(editor, allPaths)\n    DIRTY_PATH_KEYS.set(editor, allPathKeys)\n  }\n\n  if (getDirtyPaths(editor).length === 0) {\n    return\n  }\n\n  Editor.withoutNormalizing(editor, () => {\n    /*\n      Fix dirty elements with no children.\n      editor.normalizeNode() does fix this, but some normalization fixes also require it to work.\n      Running an initial pass avoids the catch-22 race condition.\n    */\n    for (const dirtyPath of getDirtyPaths(editor)) {\n      if (Node.has(editor, dirtyPath)) {\n        const entry = Editor.node(editor, dirtyPath)\n        const [node, _] = entry\n\n        /*\n          The default normalizer inserts an empty text node in this scenario, but it can be customised.\n          So there is some risk here.\n\n          As long as the normalizer only inserts child nodes for this case it is safe to do in any order;\n          by definition adding children to an empty node can't cause other paths to change.\n        */\n        if (Node.isElement(node) && node.children.length === 0) {\n          editor.normalizeNode(entry, { operation })\n        }\n      }\n    }\n\n    let dirtyPaths = getDirtyPaths(editor)\n    const initialDirtyPathsLength = dirtyPaths.length\n    let iteration = 0\n\n    while (dirtyPaths.length !== 0) {\n      if (\n        !editor.shouldNormalize({\n          dirtyPaths,\n          iteration,\n          initialDirtyPathsLength,\n          operation,\n        })\n      ) {\n        return\n      }\n\n      const dirtyPath = popDirtyPath(editor)\n\n      // If the node doesn't exist in the tree, it does not need to be normalized.\n      if (Node.has(editor, dirtyPath)) {\n        const entry = Editor.node(editor, dirtyPath)\n        editor.normalizeNode(entry, { operation })\n      }\n      iteration++\n      dirtyPaths = getDirtyPaths(editor)\n    }\n  })\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Path } from '../interfaces/path'\nimport { Ancestor, NodeEntry } from '../interfaces/node'\n\nexport const parent: EditorInterface['parent'] = (editor, at, options = {}) => {\n  const path = Editor.path(editor, at, options)\n  const parentPath = Path.parent(path)\n  const entry = Editor.node(editor, parentPath)\n  return entry as NodeEntry<Ancestor>\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { PathRef } from '../interfaces/path-ref'\n\nexport const pathRef: EditorInterface['pathRef'] = (\n  editor,\n  path,\n  options = {}\n) => {\n  const { affinity = 'forward' } = options\n  const ref: PathRef = {\n    current: path,\n    affinity,\n    unref() {\n      const { current } = ref\n      const pathRefs = Editor.pathRefs(editor)\n      pathRefs.delete(ref)\n      ref.current = null\n      return current\n    },\n  }\n\n  const refs = Editor.pathRefs(editor)\n  refs.add(ref)\n  return ref\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { PATH_REFS } from '../utils/weak-maps'\n\nexport const pathRefs: EditorInterface['pathRefs'] = editor => {\n  let refs = PATH_REFS.get(editor)\n\n  if (!refs) {\n    refs = new Set()\n    PATH_REFS.set(editor, refs)\n  }\n\n  return refs\n}\n","import { EditorInterface, Location, Node, Path, Range } from '../interfaces'\n\nexport const path: EditorInterface['path'] = (editor, at, options = {}) => {\n  const { depth, edge } = options\n\n  if (Location.isPath(at)) {\n    if (edge === 'start') {\n      const [, firstPath] = Node.first(editor, at)\n      at = firstPath\n    } else if (edge === 'end') {\n      const [, lastPath] = Node.last(editor, at)\n      at = lastPath\n    }\n  }\n\n  if (Location.isRange(at)) {\n    if (edge === 'start') {\n      at = Range.start(at)\n    } else if (edge === 'end') {\n      at = Range.end(at)\n    } else {\n      at = Path.common(at.anchor.path, at.focus.path)\n    }\n  }\n\n  if (Location.isPoint(at)) {\n    at = at.path\n  }\n\n  if (depth != null) {\n    at = at.slice(0, depth)\n  }\n\n  return at\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { PointRef } from '../interfaces/point-ref'\n\nexport const pointRef: EditorInterface['pointRef'] = (\n  editor,\n  point,\n  options = {}\n) => {\n  const { affinity = 'forward' } = options\n  const ref: PointRef = {\n    current: point,\n    affinity,\n    unref() {\n      const { current } = ref\n      const pointRefs = Editor.pointRefs(editor)\n      pointRefs.delete(ref)\n      ref.current = null\n      return current\n    },\n  }\n\n  const refs = Editor.pointRefs(editor)\n  refs.add(ref)\n  return ref\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { POINT_REFS } from '../utils/weak-maps'\n\nexport const pointRefs: EditorInterface['pointRefs'] = editor => {\n  let refs = POINT_REFS.get(editor)\n\n  if (!refs) {\n    refs = new Set()\n    POINT_REFS.set(editor, refs)\n  }\n\n  return refs\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\nimport { Range } from '../interfaces/range'\nimport { Location } from '../interfaces'\n\nexport const point: EditorInterface['point'] = (editor, at, options = {}) => {\n  const { edge = 'start' } = options\n\n  if (Location.isPath(at)) {\n    let path\n\n    if (edge === 'end') {\n      const [, lastPath] = Node.last(editor, at)\n      path = lastPath\n    } else {\n      const [, firstPath] = Node.first(editor, at)\n      path = firstPath\n    }\n\n    const node = Node.get(editor, path)\n\n    if (!Node.isText(node)) {\n      throw new Error(\n        `Cannot get the ${edge} point in the node at path [${at}] because it has no ${edge} text node.`\n      )\n    }\n\n    return { path, offset: edge === 'end' ? node.text.length : 0 }\n  }\n\n  if (Location.isRange(at)) {\n    const [start, end] = Range.edges(at)\n    return edge === 'start' ? start : end\n  }\n\n  return at\n}\n","import { Editor, EditorPositionsOptions } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\nimport { Point } from '../interfaces/point'\nimport { Range } from '../interfaces/range'\nimport { Path } from '../interfaces/path'\nimport {\n  getCharacterDistance,\n  getWordDistance,\n  splitByCharacterDistance,\n} from '../utils/string'\n\nexport function* positions(\n  editor: Editor,\n  options: EditorPositionsOptions = {}\n): Generator<Point, void, undefined> {\n  const {\n    at = editor.selection,\n    unit = 'offset',\n    reverse = false,\n    voids = false,\n  } = options\n\n  if (!at) {\n    return\n  }\n\n  /**\n   * Algorithm notes:\n   *\n   * Each step `distance` is dynamic depending on the underlying text\n   * and the `unit` specified.  Each step, e.g., a line or word, may\n   * span multiple text nodes, so we iterate through the text both on\n   * two levels in step-sync:\n   *\n   * `leafText` stores the text on a text leaf level, and is advanced\n   * through using the counters `leafTextOffset` and `leafTextRemaining`.\n   *\n   * `blockText` stores the text on a block level, and is shortened\n   * by `distance` every time it is advanced.\n   *\n   * We only maintain a window of one blockText and one leafText because\n   * a block node always appears before all of its leaf nodes.\n   */\n\n  const range = Editor.range(editor, at)\n  const [start, end] = Range.edges(range)\n  const first = reverse ? end : start\n  let isNewBlock = false\n  let blockText = ''\n  let distance = 0 // Distance for leafText to catch up to blockText.\n  let leafTextRemaining = 0\n  let leafTextOffset = 0\n  const skippedPaths: Path[] = []\n\n  // Iterate through all nodes in range, grabbing entire textual content\n  // of block nodes in blockText, and text nodes in leafText.\n  // Exploits the fact that nodes are sequenced in such a way that we first\n  // encounter the block node, then all of its text nodes, so when iterating\n  // through the blockText and leafText we just need to remember a window of\n  // one block node and leaf node, respectively.\n  for (const [node, path] of Editor.nodes(editor, {\n    at,\n    reverse,\n    voids,\n  })) {\n    // If the node is inside a skipped ancestor, do not return any points, but\n    // still process its content so that the iteration state remains correct.\n    const hasSkippedAncestor = skippedPaths.some(p => Path.isAncestor(p, path))\n\n    function* maybeYield(point: Point) {\n      if (!hasSkippedAncestor) {\n        yield point\n      }\n    }\n\n    /*\n     * ELEMENT NODE - Yield position(s) for voids, collect blockText for blocks\n     */\n    if (Node.isElement(node)) {\n      if (!editor.isSelectable(node)) {\n        /**\n         * If the node is not selectable, skip it and its descendants\n         */\n        skippedPaths.push(path)\n        if (reverse) {\n          if (Path.hasPrevious(path)) {\n            yield* maybeYield(Editor.end(editor, Path.previous(path)))\n          }\n          continue\n        } else {\n          const nextPath = Path.next(path)\n          if (Editor.hasPath(editor, nextPath)) {\n            yield* maybeYield(Editor.start(editor, nextPath))\n          }\n          continue\n        }\n      }\n\n      // Void nodes are a special case, so by default we will always\n      // yield their first point. If the `voids` option is set to true,\n      // then we will iterate over their content.\n      if (!voids && (editor.isVoid(node) || editor.isElementReadOnly(node))) {\n        yield* maybeYield(Editor.start(editor, path))\n        continue\n      }\n\n      // Inline element nodes are ignored as they don't themselves\n      // contribute to `blockText` or `leafText` - their parent and\n      // children do.\n      if (editor.isInline(node)) continue\n\n      // Block element node - set `blockText` to its text content.\n      if (Editor.hasInlines(editor, node)) {\n        // We always exhaust block nodes before encountering a new one:\n        //   console.assert(blockText === '',\n        //     `blockText='${blockText}' - `+\n        //     `not exhausted before new block node`, path)\n\n        // Ensure range considered is capped to `range`, in the\n        // start/end edge cases where block extends beyond range.\n        // Equivalent to this, but presumably more performant:\n        //   blockRange = Editor.range(editor, ...Editor.edges(editor, path))\n        //   blockRange = Range.intersection(range, blockRange) // intersect\n        //   blockText = Editor.string(editor, blockRange, { voids })\n        const e = Path.isAncestor(path, end.path)\n          ? end\n          : Editor.end(editor, path)\n        const s = Path.isAncestor(path, start.path)\n          ? start\n          : Editor.start(editor, path)\n\n        blockText = Editor.string(editor, { anchor: s, focus: e }, { voids })\n        isNewBlock = true\n      }\n    }\n\n    /*\n     * TEXT LEAF NODE - Iterate through text content, yielding\n     * positions every `distance` offset according to `unit`.\n     */\n    if (Node.isText(node)) {\n      const isFirst = Path.equals(path, first.path)\n\n      // Proof that we always exhaust text nodes before encountering a new one:\n      //   console.assert(leafTextRemaining <= 0,\n      //     `leafTextRemaining=${leafTextRemaining} - `+\n      //     `not exhausted before new leaf text node`, path)\n\n      // Reset `leafText` counters for new text node.\n      if (isFirst) {\n        leafTextRemaining = reverse\n          ? first.offset\n          : node.text.length - first.offset\n        leafTextOffset = first.offset // Works for reverse too.\n      } else {\n        leafTextRemaining = node.text.length\n        leafTextOffset = reverse ? leafTextRemaining : 0\n      }\n\n      // Yield position at the start of node (potentially).\n      if (isFirst || isNewBlock || unit === 'offset') {\n        yield* maybeYield({ path, offset: leafTextOffset })\n        isNewBlock = false\n      }\n\n      // Yield positions every (dynamically calculated) `distance` offset.\n      while (true) {\n        // If `leafText` has caught up with `blockText` (distance=0),\n        // and if blockText is exhausted, break to get another block node,\n        // otherwise advance blockText forward by the new `distance`.\n        if (distance === 0) {\n          if (blockText === '') break\n          distance = calcDistance(blockText, unit, reverse)\n          // Split the string at the previously found distance and use the\n          // remaining string for the next iteration.\n          blockText = splitByCharacterDistance(blockText, distance, reverse)[1]\n        }\n\n        // Advance `leafText` by the current `distance`.\n        leafTextOffset = reverse\n          ? leafTextOffset - distance\n          : leafTextOffset + distance\n        leafTextRemaining = leafTextRemaining - distance\n\n        // If `leafText` is exhausted, break to get a new leaf node\n        // and set distance to the overflow amount, so we'll (maybe)\n        // catch up to blockText in the next leaf text node.\n        if (leafTextRemaining < 0) {\n          distance = -leafTextRemaining\n          break\n        }\n\n        // Successfully walked `distance` offsets through `leafText`\n        // to catch up with `blockText`, so we can reset `distance`\n        // and yield this position in this node.\n        distance = 0\n        yield* maybeYield({ path, offset: leafTextOffset })\n      }\n    }\n  }\n  // Proof that upon completion, we've exahusted both leaf and block text:\n  //   console.assert(leafTextRemaining <= 0, \"leafText wasn't exhausted\")\n  //   console.assert(blockText === '', \"blockText wasn't exhausted\")\n\n  // Helper:\n  // Return the distance in offsets for a step of size `unit` on given string.\n  function calcDistance(text: string, unit: string, reverse?: boolean) {\n    if (unit === 'character') {\n      return getCharacterDistance(text, reverse)\n    } else if (unit === 'word') {\n      return getWordDistance(text, reverse)\n    } else if (unit === 'line' || unit === 'block') {\n      return text.length\n    }\n    return 1\n  }\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Location, Span } from '../interfaces/location'\n\nexport const previous: EditorInterface['previous'] = (editor, options = {}) => {\n  const { mode = 'lowest', voids = false } = options\n  let { match, at = editor.selection } = options\n\n  if (!at) {\n    return\n  }\n\n  const pointBeforeLocation = Editor.before(editor, at, { voids })\n\n  if (!pointBeforeLocation) {\n    return\n  }\n\n  const [, to] = Editor.first(editor, [])\n\n  // The search location is from the start of the document to the path of\n  // the point before the location passed in\n  const span: Span = [pointBeforeLocation.path, to]\n\n  if (Location.isPath(at) && at.length === 0) {\n    throw new Error(`Cannot get the previous node from the root node!`)\n  }\n\n  if (match == null) {\n    if (Location.isPath(at)) {\n      const [parent] = Editor.parent(editor, at)\n      match = n => parent.children.includes(n)\n    } else {\n      match = () => true\n    }\n  }\n\n  const [previous] = Editor.nodes(editor, {\n    reverse: true,\n    at: span,\n    match,\n    mode,\n    voids,\n  })\n\n  return previous\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { RangeRef } from '../interfaces/range-ref'\n\nexport const rangeRef: EditorInterface['rangeRef'] = (\n  editor,\n  range,\n  options = {}\n) => {\n  const { affinity = 'forward' } = options\n  const ref: RangeRef = {\n    current: range,\n    affinity,\n    unref() {\n      const { current } = ref\n      const rangeRefs = Editor.rangeRefs(editor)\n      rangeRefs.delete(ref)\n      ref.current = null\n      return current\n    },\n  }\n\n  const refs = Editor.rangeRefs(editor)\n  refs.add(ref)\n  return ref\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { RANGE_REFS } from '../utils/weak-maps'\n\nexport const rangeRefs: EditorInterface['rangeRefs'] = editor => {\n  let refs = RANGE_REFS.get(editor)\n\n  if (!refs) {\n    refs = new Set()\n    RANGE_REFS.set(editor, refs)\n  }\n\n  return refs\n}\n","import { Location } from '../interfaces'\nimport { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const range: EditorInterface['range'] = (editor, at, to) => {\n  if (Location.isRange(at) && !to) {\n    return at\n  }\n\n  const start = Editor.start(editor, at)\n  const end = Editor.end(editor, to || at)\n  return { anchor: start, focus: end }\n}\n","import { Node } from '../interfaces/node'\nimport { Path } from '../interfaces/path'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { FLUSHING } from '../utils/weak-maps'\nimport { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const removeMark: EditorInterface['removeMark'] = (editor, key) => {\n  const { selection } = editor\n\n  if (selection) {\n    const match = (node: Node, path: Path) => {\n      if (!Node.isText(node)) {\n        return false // marks can only be applied to text\n      }\n      const [parentNode, parentPath] = Editor.parent(editor, path)\n      return !editor.isVoid(parentNode) || editor.markableVoid(parentNode)\n    }\n    const expandedSelection = Range.isExpanded(selection)\n    let markAcceptingVoidSelected = false\n    if (!expandedSelection) {\n      const [selectedNode, selectedPath] = Editor.node(editor, selection)\n      if (selectedNode && match(selectedNode, selectedPath)) {\n        const [parentNode] = Editor.parent(editor, selectedPath)\n        markAcceptingVoidSelected =\n          parentNode && editor.markableVoid(parentNode)\n      }\n    }\n    if (expandedSelection || markAcceptingVoidSelected) {\n      Transforms.unsetNodes(editor, key, {\n        match,\n        split: true,\n        voids: true,\n      })\n    } else {\n      const marks = { ...(Editor.marks(editor) || {}) }\n      delete marks[<keyof Node>key]\n      editor.marks = marks\n      if (!FLUSHING.get(editor)) {\n        editor.onChange()\n      }\n    }\n  }\n}\n","import { EditorInterface } from '../interfaces/editor'\nimport { NORMALIZING } from '../utils/weak-maps'\n\nexport const setNormalizing: EditorInterface['setNormalizing'] = (\n  editor,\n  isNormalizing\n) => {\n  NORMALIZING.set(editor, isNormalizing)\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const start: EditorInterface['start'] = (editor, at) => {\n  return Editor.point(editor, at, { edge: 'start' })\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Range } from '../interfaces/range'\nimport { Path } from '../interfaces/path'\nimport { Node } from '../interfaces'\n\nexport const string: EditorInterface['string'] = (editor, at, options = {}) => {\n  const { voids = false } = options\n  const range = Editor.range(editor, at)\n  const [start, end] = Range.edges(range)\n  let text = ''\n\n  for (const [node, path] of Editor.nodes(editor, {\n    at: range,\n    match: Node.isText,\n    voids,\n  })) {\n    let t = node.text\n\n    if (Path.equals(path, end.path)) {\n      t = t.slice(0, end.offset)\n    }\n\n    if (Path.equals(path, start.path)) {\n      t = t.slice(start.offset)\n    }\n\n    text += t\n  }\n\n  return text\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { Range } from '../interfaces/range'\nimport { Path } from '../interfaces/path'\nimport { Node } from '../interfaces'\n\nexport const unhangRange: EditorInterface['unhangRange'] = (\n  editor,\n  range,\n  options = {}\n) => {\n  const { voids = false } = options\n  let [start, end] = Range.edges(range)\n\n  // PERF: exit early if we can guarantee that the range isn't hanging.\n  if (\n    start.offset !== 0 ||\n    end.offset !== 0 ||\n    Range.isCollapsed(range) ||\n    Path.hasPrevious(end.path)\n  ) {\n    return range\n  }\n\n  const endBlock = Editor.above(editor, {\n    at: end,\n    match: n => Node.isElement(n) && Editor.isBlock(editor, n),\n    voids,\n  })\n  const blockPath = endBlock ? endBlock[1] : []\n  const first = Editor.start(editor, start)\n  const before = { anchor: first, focus: end }\n  let skip = true\n\n  for (const [node, path] of Editor.nodes(editor, {\n    at: before,\n    match: Node.isText,\n    reverse: true,\n    voids,\n  })) {\n    if (skip) {\n      skip = false\n      continue\n    }\n\n    if (node.text !== '' || Path.isBefore(path, blockPath)) {\n      end = { path, offset: node.text.length }\n      break\n    }\n  }\n\n  return { anchor: start, focus: end }\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\n\nexport const withoutNormalizing: EditorInterface['withoutNormalizing'] = (\n  editor,\n  fn\n) => {\n  const value = Editor.isNormalizing(editor)\n  Editor.setNormalizing(editor, false)\n  try {\n    fn()\n  } finally {\n    Editor.setNormalizing(editor, value)\n  }\n  Editor.normalize(editor)\n}\n","import { EditorInterface, Editor, Node } from '../interfaces'\n\nexport const shouldMergeNodesRemovePrevNode: EditorInterface['shouldMergeNodesRemovePrevNode'] =\n  (editor, [prevNode, prevPath], [curNode, curNodePath]) => {\n    // If the target node that we're merging with is empty, remove it instead\n    // of merging the two. This is a common rich text editor behavior to\n    // prevent losing formatting when deleting entire nodes when you have a\n    // hanging selection.\n    // if prevNode is first child in parent,don't remove it.\n\n    return (\n      (Node.isElement(prevNode) && Editor.isEmpty(editor, prevNode)) ||\n      (Node.isText(prevNode) &&\n        prevNode.text === '' &&\n        prevPath[prevPath.length - 1] !== 0)\n    )\n  }\n","import { TextTransforms } from '../interfaces/transforms/text'\nimport { Editor } from '../interfaces/editor'\nimport { Range } from '../interfaces/range'\nimport { Point } from '../interfaces/point'\nimport { Path } from '../interfaces/path'\nimport { Transforms } from '../interfaces/transforms'\nimport { Node, NodeEntry } from '../interfaces/node'\nimport { Location } from '../interfaces'\n\nexport const deleteText: TextTransforms['delete'] = (editor, options = {}) => {\n  Editor.withoutNormalizing(editor, () => {\n    const {\n      reverse = false,\n      unit = 'character',\n      distance = 1,\n      voids = false,\n    } = options\n    let { at = editor.selection, hanging = false } = options\n\n    if (!at) {\n      return\n    }\n\n    let isCollapsed = false\n    if (Location.isRange(at) && Range.isCollapsed(at)) {\n      isCollapsed = true\n      at = at.anchor\n    }\n\n    if (Location.isPoint(at)) {\n      const furthestVoid = Editor.void(editor, { at, mode: 'highest' })\n\n      if (!voids && furthestVoid) {\n        const [, voidPath] = furthestVoid\n        at = voidPath\n      } else {\n        const opts = { unit, distance }\n        const target = reverse\n          ? Editor.before(editor, at, opts) || Editor.start(editor, [])\n          : Editor.after(editor, at, opts) || Editor.end(editor, [])\n        at = { anchor: at, focus: target }\n        hanging = true\n      }\n    }\n\n    if (Location.isPath(at)) {\n      Transforms.removeNodes(editor, { at, voids })\n      return\n    }\n\n    if (Range.isCollapsed(at)) {\n      return\n    }\n\n    if (!hanging) {\n      const [, end] = Range.edges(at)\n      const endOfDoc = Editor.end(editor, [])\n\n      if (!Point.equals(end, endOfDoc)) {\n        at = Editor.unhangRange(editor, at, { voids })\n      }\n    }\n\n    let [start, end] = Range.edges(at)\n    const startBlock = Editor.above(editor, {\n      match: n => Node.isElement(n) && Editor.isBlock(editor, n),\n      at: start,\n      voids,\n    })\n    const endBlock = Editor.above(editor, {\n      match: n => Node.isElement(n) && Editor.isBlock(editor, n),\n      at: end,\n      voids,\n    })\n    const isAcrossBlocks =\n      startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1])\n    const isSingleText = Path.equals(start.path, end.path)\n    const startNonEditable = voids\n      ? null\n      : Editor.void(editor, { at: start, mode: 'highest' }) ??\n        Editor.elementReadOnly(editor, { at: start, mode: 'highest' })\n    const endNonEditable = voids\n      ? null\n      : Editor.void(editor, { at: end, mode: 'highest' }) ??\n        Editor.elementReadOnly(editor, { at: end, mode: 'highest' })\n\n    // If the start or end points are inside an inline void, nudge them out.\n    if (startNonEditable) {\n      const before = Editor.before(editor, start)\n\n      if (before && startBlock && Path.isAncestor(startBlock[1], before.path)) {\n        start = before\n      }\n    }\n\n    if (endNonEditable) {\n      const after = Editor.after(editor, end)\n\n      if (after && endBlock && Path.isAncestor(endBlock[1], after.path)) {\n        end = after\n      }\n    }\n\n    // Get the highest nodes that are completely inside the range, as well as\n    // the start and end nodes.\n    const matches: NodeEntry[] = []\n    let lastPath: Path | undefined\n\n    for (const entry of Editor.nodes(editor, { at, voids })) {\n      const [node, path] = entry\n\n      if (lastPath && Path.compare(path, lastPath) === 0) {\n        continue\n      }\n\n      if (\n        (!voids &&\n          Node.isElement(node) &&\n          (Editor.isVoid(editor, node) ||\n            Editor.isElementReadOnly(editor, node))) ||\n        (!Path.isCommon(path, start.path) && !Path.isCommon(path, end.path))\n      ) {\n        matches.push(entry)\n        lastPath = path\n      }\n    }\n\n    const pathRefs = Array.from(matches, ([, p]) => Editor.pathRef(editor, p))\n    const startRef = Editor.pointRef(editor, start)\n    const endRef = Editor.pointRef(editor, end)\n\n    let removedText = ''\n\n    if (!isSingleText && !startNonEditable) {\n      const point = startRef.current!\n      const [node] = Editor.leaf(editor, point)\n      const { path } = point\n      const { offset } = start\n      const text = node.text.slice(offset)\n      if (text.length > 0) {\n        editor.apply({ type: 'remove_text', path, offset, text })\n        removedText = text\n      }\n    }\n\n    pathRefs\n      .reverse()\n      .map(r => r.unref())\n      .filter((r): r is Path => r !== null)\n      .forEach(p => Transforms.removeNodes(editor, { at: p, voids }))\n\n    if (!endNonEditable) {\n      const point = endRef.current!\n      const [node] = Editor.leaf(editor, point)\n      const { path } = point\n      const offset = isSingleText ? start.offset : 0\n      const text = node.text.slice(offset, end.offset)\n      if (text.length > 0) {\n        editor.apply({ type: 'remove_text', path, offset, text })\n        removedText = text\n      }\n    }\n\n    if (!isSingleText && isAcrossBlocks && endRef.current && startRef.current) {\n      Transforms.mergeNodes(editor, {\n        at: endRef.current,\n        hanging: true,\n        voids,\n      })\n    }\n\n    // For certain scripts, deleting N character(s) backward should delete\n    // N code point(s) instead of an entire grapheme cluster.\n    // Therefore, the remaining code points should be inserted back.\n    // Bengali: \\u0980-\\u09FF\n    // Thai: \\u0E00-\\u0E7F\n    // Burmese (Myanmar): \\u1000-\\u109F\n    // Hindi (Devanagari): \\u0900-\\u097F\n    // Khmer: \\u1780-\\u17FF\n    // Malayalam: \\u0D00-\\u0D7F\n    // Oriya: \\u0B00-\\u0B7F\n    // Punjabi (Gurmukhi): \\u0A00-\\u0A7F\n    // Tamil: \\u0B80-\\u0BFF\n    // Telugu: \\u0C00-\\u0C7F\n    if (\n      isCollapsed &&\n      reverse &&\n      unit === 'character' &&\n      removedText.length > 1 &&\n      removedText.match(\n        /[\\u0980-\\u09FF\\u0E00-\\u0E7F\\u1000-\\u109F\\u0900-\\u097F\\u1780-\\u17FF\\u0D00-\\u0D7F\\u0B00-\\u0B7F\\u0A00-\\u0A7F\\u0B80-\\u0BFF\\u0C00-\\u0C7F]+/\n      )\n    ) {\n      Transforms.insertText(\n        editor,\n        removedText.slice(0, removedText.length - distance)\n      )\n    }\n\n    const startUnref = startRef.unref()\n    const endUnref = endRef.unref()\n    const point = reverse ? startUnref || endUnref : endUnref || startUnref\n\n    if (options.at == null && point) {\n      Transforms.select(editor, point)\n    }\n  })\n}\n","import { Transforms } from '../interfaces/transforms'\nimport { Editor } from '../interfaces/editor'\nimport { Range } from '../interfaces/range'\nimport { Path } from '../interfaces/path'\nimport { Element } from '../interfaces/element'\nimport { Descendant, Node, NodeEntry } from '../interfaces/node'\nimport { TextTransforms } from '../interfaces/transforms/text'\nimport { getDefaultInsertLocation } from '../utils'\nimport { Location } from '../interfaces'\n\nexport const insertFragment: TextTransforms['insertFragment'] = (\n  editor,\n  fragment,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    const { hanging = false, voids = false } = options\n    let { at = getDefaultInsertLocation(editor), batchDirty = true } = options\n\n    if (!fragment.length) {\n      return\n    }\n\n    if (Location.isRange(at)) {\n      if (!hanging) {\n        at = Editor.unhangRange(editor, at, { voids })\n      }\n\n      if (Range.isCollapsed(at)) {\n        at = at.anchor\n      } else {\n        const [, end] = Range.edges(at)\n\n        if (!voids && Editor.void(editor, { at: end })) {\n          return\n        }\n\n        const pointRef = Editor.pointRef(editor, end)\n        Transforms.delete(editor, { at })\n        at = pointRef.unref()!\n      }\n    } else if (Location.isPath(at)) {\n      at = Editor.start(editor, at)\n    }\n\n    if (!voids && Editor.void(editor, { at })) {\n      return\n    }\n\n    // If the insert point is at the edge of an inline node, move it outside\n    // instead since it will need to be split otherwise.\n    const inlineElementMatch = Editor.above(editor, {\n      at,\n      match: n => Node.isElement(n) && Editor.isInline(editor, n),\n      mode: 'highest',\n      voids,\n    })\n\n    if (inlineElementMatch) {\n      const [, inlinePath] = inlineElementMatch\n\n      if (Editor.isEnd(editor, at, inlinePath)) {\n        const after = Editor.after(editor, inlinePath)!\n        at = after\n      } else if (Editor.isStart(editor, at, inlinePath)) {\n        const before = Editor.before(editor, inlinePath)!\n        at = before\n      }\n    }\n\n    const blockMatch = Editor.above(editor, {\n      match: n => Node.isElement(n) && Editor.isBlock(editor, n),\n      at,\n      voids,\n    })!\n    const [, blockPath] = blockMatch\n    const isBlockStart = Editor.isStart(editor, at, blockPath)\n    const isBlockEnd = Editor.isEnd(editor, at, blockPath)\n    const isBlockEmpty = isBlockStart && isBlockEnd\n    const [, firstLeafPath] = Node.first({ children: fragment }, [])\n    const [, lastLeafPath] = Node.last({ children: fragment }, [])\n\n    // For each node in the fragment, determine what level of wrapping should\n    // be kept. At minimum, all text nodes will be inserted, but if\n    // `shouldInsert` returns true for some ancestor of a particular text node,\n    // then the entire ancestor will be inserted rather than inserting the text\n    // nodes individually.\n    const shouldInsert = ([n, p]: NodeEntry) => {\n      const isRoot = p.length === 0\n      if (isRoot) {\n        return false\n      }\n\n      // If the destination block is empty, insert all top-level blocks of the\n      // fragment.\n      if (isBlockEmpty) {\n        return true\n      }\n\n      // Unless we're at the start of the destination block, unwrap any\n      // non-void blocks that contain the first leaf node in the fragment.\n      if (\n        !isBlockStart &&\n        Path.isAncestor(p, firstLeafPath) &&\n        Node.isElement(n) &&\n        !editor.isVoid(n) &&\n        !editor.isInline(n)\n      ) {\n        return false\n      }\n\n      // Unless we're at the end of the destination block, unwrap any non-void\n      // blocks that contain the last leaf node in the fragment.\n      if (\n        !isBlockEnd &&\n        Path.isAncestor(p, lastLeafPath) &&\n        Node.isElement(n) &&\n        !editor.isVoid(n) &&\n        !editor.isInline(n)\n      ) {\n        return false\n      }\n\n      // Always insert void nodes, inline elements and text nodes.\n      return true\n    }\n\n    // Whether the current node is in the first block of the fragment.\n    let starting = true\n\n    // Inline nodes in the first block of the fragment, to be merged with the\n    // destination block.\n    const starts: Descendant[] = []\n\n    // Blocks in the middle of the fragment.\n    const middles: Element[] = []\n\n    // Inline nodes in the last block of the fragment, to be merged with the\n    // destination block. If the fragment contains only one block, this will be\n    // empty.\n    const ends: Descendant[] = []\n\n    for (const entry of Node.nodes(\n      { children: fragment },\n      { pass: shouldInsert }\n    )) {\n      const [node, path] = entry\n\n      // If we encounter a block that does not contain the first leaf, we're no\n      // longer in the first block of the fragment.\n      if (\n        starting &&\n        Node.isElement(node) &&\n        !editor.isInline(node) &&\n        !Path.isAncestor(path, firstLeafPath)\n      ) {\n        starting = false\n      }\n\n      if (shouldInsert(entry)) {\n        if (Node.isElement(node) && !editor.isInline(node)) {\n          starting = false\n          middles.push(node)\n        } else if (starting) {\n          starts.push(node)\n        } else {\n          ends.push(node)\n        }\n      }\n    }\n\n    const [inlineMatch] = Editor.nodes(editor, {\n      at,\n      match: n => Node.isText(n) || Editor.isInline(editor, n),\n      mode: 'highest',\n      voids,\n    })!\n\n    const [, inlinePath] = inlineMatch\n    const isInlineStart = Editor.isStart(editor, at, inlinePath)\n    const isInlineEnd = Editor.isEnd(editor, at, inlinePath)\n\n    const middleRef = Editor.pathRef(\n      editor,\n      isBlockEnd && !ends.length ? Path.next(blockPath) : blockPath\n    )\n\n    const endRef = Editor.pathRef(\n      editor,\n      isInlineEnd ? Path.next(inlinePath) : inlinePath\n    )\n\n    // If the fragment contains inlines in multiple distinct blocks, split the\n    // destination block.\n    const splitBlock = ends.length > 0\n\n    Transforms.splitNodes(editor, {\n      at,\n      match: n =>\n        splitBlock\n          ? Node.isElement(n) && Editor.isBlock(editor, n)\n          : Node.isText(n) || Editor.isInline(editor, n),\n      mode: splitBlock ? 'lowest' : 'highest',\n      always:\n        splitBlock &&\n        (!isBlockStart || starts.length > 0) &&\n        (!isBlockEnd || ends.length > 0),\n      voids,\n    })\n\n    const startRef = Editor.pathRef(\n      editor,\n      !isInlineStart || (isInlineStart && isInlineEnd)\n        ? Path.next(inlinePath)\n        : inlinePath\n    )\n\n    Transforms.insertNodes(editor, starts, {\n      at: startRef.current!,\n      match: n => Node.isText(n) || Editor.isInline(editor, n),\n      mode: 'highest',\n      voids,\n      batchDirty,\n    })\n\n    if (isBlockEmpty && !starts.length && middles.length && !ends.length) {\n      Transforms.delete(editor, { at: blockPath, voids })\n    }\n\n    Transforms.insertNodes(editor, middles, {\n      at: middleRef.current!,\n      match: n => Node.isElement(n) && Editor.isBlock(editor, n),\n      mode: 'lowest',\n      voids,\n      batchDirty,\n    })\n\n    Transforms.insertNodes(editor, ends, {\n      at: endRef.current!,\n      match: n => Node.isText(n) || Editor.isInline(editor, n),\n      mode: 'highest',\n      voids,\n      batchDirty,\n    })\n\n    if (!options.at) {\n      let path\n\n      if (ends.length > 0 && endRef.current) {\n        path = Path.previous(endRef.current)\n      } else if (middles.length > 0 && middleRef.current) {\n        path = Path.previous(middleRef.current)\n      } else if (startRef.current) {\n        path = Path.previous(startRef.current)\n      }\n\n      if (path) {\n        const end = Editor.end(editor, path)\n        Transforms.select(editor, end)\n      }\n    }\n\n    startRef.unref()\n    middleRef.unref()\n    endRef.unref()\n  })\n}\n","import { SelectionTransforms } from '../interfaces/transforms/selection'\nimport { Transforms } from '../interfaces/transforms'\nimport { Range } from '../interfaces/range'\n\nexport const collapse: SelectionTransforms['collapse'] = (\n  editor,\n  options = {}\n) => {\n  const { edge = 'anchor' } = options\n  const { selection } = editor\n\n  if (!selection) {\n    return\n  } else if (edge === 'anchor') {\n    Transforms.select(editor, selection.anchor)\n  } else if (edge === 'focus') {\n    Transforms.select(editor, selection.focus)\n  } else if (edge === 'start') {\n    const [start] = Range.edges(selection)\n    Transforms.select(editor, start)\n  } else if (edge === 'end') {\n    const [, end] = Range.edges(selection)\n    Transforms.select(editor, end)\n  }\n}\n","import { SelectionTransforms } from '../interfaces/transforms/selection'\n\nexport const deselect: SelectionTransforms['deselect'] = editor => {\n  const { selection } = editor\n\n  if (selection) {\n    editor.apply({\n      type: 'set_selection',\n      properties: selection,\n      newProperties: null,\n    })\n  }\n}\n","import { SelectionTransforms } from '../interfaces/transforms/selection'\nimport { Range } from '../interfaces/range'\nimport { Editor } from '../interfaces/editor'\nimport { Transforms } from '../interfaces/transforms'\n\nexport const move: SelectionTransforms['move'] = (editor, options = {}) => {\n  const { selection } = editor\n  const { distance = 1, unit = 'character', reverse = false } = options\n  let { edge = null } = options\n\n  if (!selection) {\n    return\n  }\n\n  if (edge === 'start') {\n    edge = Range.isBackward(selection) ? 'focus' : 'anchor'\n  }\n\n  if (edge === 'end') {\n    edge = Range.isBackward(selection) ? 'anchor' : 'focus'\n  }\n\n  const { anchor, focus } = selection\n  const opts = { distance, unit }\n  const props: Partial<Range> = {}\n\n  if (edge == null || edge === 'anchor') {\n    const point = reverse\n      ? Editor.before(editor, anchor, opts)\n      : Editor.after(editor, anchor, opts)\n\n    if (point) {\n      props.anchor = point\n    }\n  }\n\n  if (edge == null || edge === 'focus') {\n    const point = reverse\n      ? Editor.before(editor, focus, opts)\n      : Editor.after(editor, focus, opts)\n\n    if (point) {\n      props.focus = point\n    }\n  }\n\n  Transforms.setSelection(editor, props)\n}\n","import { SelectionTransforms } from '../interfaces/transforms/selection'\nimport { Editor } from '../interfaces/editor'\nimport { Transforms } from '../interfaces/transforms'\nimport { Scrubber } from '../interfaces/scrubber'\nimport { Location } from '../interfaces'\n\nexport const select: SelectionTransforms['select'] = (editor, target) => {\n  const { selection } = editor\n  target = Editor.range(editor, target)\n\n  if (selection) {\n    Transforms.setSelection(editor, target)\n    return\n  }\n\n  if (!Location.isRange(target)) {\n    throw new Error(\n      `When setting the selection and the current selection is \\`null\\` you must provide at least an \\`anchor\\` and \\`focus\\`, but you passed: ${Scrubber.stringify(\n        target\n      )}`\n    )\n  }\n\n  editor.apply({\n    type: 'set_selection',\n    properties: selection,\n    newProperties: target,\n  })\n}\n","import { SelectionTransforms } from '../interfaces/transforms/selection'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\n\nexport const setPoint: SelectionTransforms['setPoint'] = (\n  editor,\n  props,\n  options = {}\n) => {\n  const { selection } = editor\n  let { edge = 'both' } = options\n\n  if (!selection) {\n    return\n  }\n\n  if (edge === 'start') {\n    edge = Range.isBackward(selection) ? 'focus' : 'anchor'\n  }\n\n  if (edge === 'end') {\n    edge = Range.isBackward(selection) ? 'anchor' : 'focus'\n  }\n\n  const { anchor, focus } = selection\n  const point = edge === 'anchor' ? anchor : focus\n\n  Transforms.setSelection(editor, {\n    [edge === 'anchor' ? 'anchor' : 'focus']: { ...point, ...props },\n  })\n}\n","import { SelectionTransforms } from '../interfaces/transforms/selection'\nimport { Range } from '../interfaces/range'\nimport { Point } from '../interfaces/point'\n\nexport const setSelection: SelectionTransforms['setSelection'] = (\n  editor,\n  props\n) => {\n  const { selection } = editor\n  const oldProps: Partial<Range> | null = {}\n  const newProps: Partial<Range> = {}\n\n  if (!selection) {\n    return\n  }\n\n  for (const k in props) {\n    if (\n      (k === 'anchor' &&\n        props.anchor != null &&\n        !Point.equals(props.anchor, selection.anchor)) ||\n      (k === 'focus' &&\n        props.focus != null &&\n        !Point.equals(props.focus, selection.focus)) ||\n      (k !== 'anchor' &&\n        k !== 'focus' &&\n        props[<keyof Range>k] !== selection[<keyof Range>k])\n    ) {\n      oldProps[<keyof Range>k] = selection[<keyof Range>k]\n      newProps[<keyof Range>k] = props[<keyof Range>k]\n    }\n  }\n\n  if (Object.keys(oldProps).length > 0) {\n    editor.apply({\n      type: 'set_selection',\n      properties: oldProps,\n      newProperties: newProps,\n    })\n  }\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { Node } from '../interfaces/node'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { Path } from '../interfaces/path'\nimport { getDefaultInsertLocation } from '../utils'\nimport { batchDirtyPaths } from '../core/batch-dirty-paths'\nimport { BaseInsertNodeOperation, Location } from '../interfaces'\nimport { updateDirtyPaths } from '../core/update-dirty-paths'\n\nexport const insertNodes: NodeTransforms['insertNodes'] = (\n  editor,\n  nodes,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    const {\n      hanging = false,\n      voids = false,\n      mode = 'lowest',\n      batchDirty = true,\n    } = options\n    let { at, match, select } = options\n\n    if (Node.isNode(nodes)) {\n      nodes = [nodes]\n    }\n\n    if (nodes.length === 0) {\n      return\n    }\n\n    const [node] = nodes\n\n    if (!at) {\n      at = getDefaultInsertLocation(editor)\n      if (select !== false) {\n        select = true\n      }\n    }\n\n    if (select == null) {\n      select = false\n    }\n\n    if (Location.isRange(at)) {\n      if (!hanging) {\n        at = Editor.unhangRange(editor, at, { voids })\n      }\n\n      if (Range.isCollapsed(at)) {\n        at = at.anchor\n      } else {\n        const [, end] = Range.edges(at)\n        const pointRef = Editor.pointRef(editor, end)\n        Transforms.delete(editor, { at })\n        at = pointRef.unref()!\n      }\n    }\n\n    if (Location.isPoint(at)) {\n      if (match == null) {\n        if (Node.isText(node)) {\n          match = n => Node.isText(n)\n        } else if (editor.isInline(node)) {\n          match = n => Node.isText(n) || Editor.isInline(editor, n)\n        } else {\n          match = n => Node.isElement(n) && Editor.isBlock(editor, n)\n        }\n      }\n\n      const [entry] = Editor.nodes(editor, {\n        at: at.path,\n        match,\n        mode,\n        voids,\n      })\n\n      if (entry) {\n        const [, matchPath] = entry\n        const pathRef = Editor.pathRef(editor, matchPath)\n        const isAtEnd = Editor.isEnd(editor, at, matchPath)\n        Transforms.splitNodes(editor, { at, match, mode, voids })\n        const path = pathRef.unref()!\n        at = isAtEnd ? Path.next(path) : path\n      } else {\n        return\n      }\n    }\n\n    const parentPath = Path.parent(at)\n    let index = at[at.length - 1]\n\n    if (!voids && Editor.void(editor, { at: parentPath })) {\n      return\n    }\n\n    if (batchDirty) {\n      // PERF: batch update dirty paths\n      // batched ops used to transform existing dirty paths\n      const batchedOps: BaseInsertNodeOperation[] = []\n      const newDirtyPaths: Path[] = Path.levels(parentPath)\n      batchDirtyPaths(\n        editor,\n        () => {\n          for (const node of nodes as Node[]) {\n            const path = parentPath.concat(index)\n            index++\n\n            const op: BaseInsertNodeOperation = {\n              type: 'insert_node',\n              path,\n              node,\n            }\n            editor.apply(op)\n            at = Path.next(at as Path)\n\n            batchedOps.push(op)\n            if (Node.isText(node)) {\n              newDirtyPaths.push(path)\n            } else {\n              newDirtyPaths.push(\n                ...Array.from(Node.nodes(node), ([, p]) => path.concat(p))\n              )\n            }\n          }\n        },\n        () => {\n          updateDirtyPaths(editor, newDirtyPaths, p => {\n            let newPath: Path | null = p\n            for (const op of batchedOps) {\n              if (Path.operationCanTransformPath(op)) {\n                newPath = Path.transform(newPath, op)\n                if (!newPath) {\n                  return null\n                }\n              }\n            }\n            return newPath\n          })\n        }\n      )\n    } else {\n      for (const node of nodes as Node[]) {\n        const path = parentPath.concat(index)\n        index++\n\n        editor.apply({ type: 'insert_node', path, node })\n        at = Path.next(at as Path)\n      }\n    }\n\n    at = Path.previous(at)\n\n    if (select) {\n      const point = Editor.end(editor, at)\n\n      if (point) {\n        Transforms.select(editor, point)\n      }\n    }\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { Path } from '../interfaces/path'\nimport { matchPath } from '../utils/match-path'\nimport { Ancestor, Node, NodeEntry } from '../interfaces/node'\nimport { Transforms } from '../interfaces/transforms'\nimport { Location } from '../interfaces'\n\nexport const liftNodes: NodeTransforms['liftNodes'] = (\n  editor,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    const { at = editor.selection, mode = 'lowest', voids = false } = options\n    let { match } = options\n\n    if (!at) {\n      return\n    }\n\n    if (match == null) {\n      match = Location.isPath(at)\n        ? matchPath(editor, at)\n        : n => Node.isElement(n) && Editor.isBlock(editor, n)\n    }\n\n    const matches = Editor.nodes(editor, { at, match, mode, voids })\n    const pathRefs = Array.from(matches, ([, p]) => Editor.pathRef(editor, p))\n\n    for (const pathRef of pathRefs) {\n      const path = pathRef.unref()!\n\n      if (path.length < 2) {\n        throw new Error(\n          `Cannot lift node at a path [${path}] because it has a depth of less than \\`2\\`.`\n        )\n      }\n\n      const parentNodeEntry = Editor.node(editor, Path.parent(path))\n      const [parent, parentPath] = parentNodeEntry as NodeEntry<Ancestor>\n      const index = path[path.length - 1]\n      const { length } = parent.children\n\n      if (length === 1) {\n        const toPath = Path.next(parentPath)\n        Transforms.moveNodes(editor, { at: path, to: toPath, voids })\n        Transforms.removeNodes(editor, { at: parentPath, voids })\n      } else if (index === 0) {\n        Transforms.moveNodes(editor, { at: path, to: parentPath, voids })\n      } else if (index === length - 1) {\n        const toPath = Path.next(parentPath)\n        Transforms.moveNodes(editor, { at: path, to: toPath, voids })\n      } else {\n        const splitPath = Path.next(path)\n        const toPath = Path.next(parentPath)\n        Transforms.splitNodes(editor, { at: splitPath, voids })\n        Transforms.moveNodes(editor, { at: path, to: toPath, voids })\n      }\n    }\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { Path } from '../interfaces/path'\nimport { Element } from '../interfaces/element'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { Text } from '../interfaces/text'\nimport { Scrubber } from '../interfaces/scrubber'\nimport { Node } from '../interfaces/node'\nimport { Location } from '../interfaces'\n\nconst hasSingleChildNest = (editor: Editor, node: Node): boolean => {\n  return (\n    node !== editor &&\n    (Node.isText(node) ||\n      Editor.isVoid(editor, node) ||\n      (node.children.length === 1 &&\n        hasSingleChildNest(editor, node.children[0])))\n  )\n}\n\nexport const mergeNodes: NodeTransforms['mergeNodes'] = (\n  editor,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    let { match, at = editor.selection } = options\n    const { hanging = false, voids = false, mode = 'lowest' } = options\n\n    if (!at) {\n      return\n    }\n\n    if (match == null) {\n      if (Location.isPath(at)) {\n        const [parent] = Editor.parent(editor, at)\n        match = n => parent.children.includes(n)\n      } else {\n        match = n => Node.isElement(n) && Editor.isBlock(editor, n)\n      }\n    }\n\n    if (!hanging && Location.isRange(at)) {\n      at = Editor.unhangRange(editor, at, { voids })\n    }\n\n    if (Location.isRange(at)) {\n      if (Range.isCollapsed(at)) {\n        at = at.anchor\n      } else {\n        const [, end] = Range.edges(at)\n        const pointRef = Editor.pointRef(editor, end)\n        Transforms.delete(editor, { at })\n        at = pointRef.unref()!\n\n        if (options.at == null) {\n          Transforms.select(editor, at)\n        }\n      }\n    }\n\n    const [current] = Editor.nodes(editor, { at, match, voids, mode })\n    const prev = Editor.previous(editor, { at, match, voids, mode })\n\n    if (!current || !prev) {\n      return\n    }\n\n    const [node, path] = current\n    const [prevNode, prevPath] = prev\n\n    if (path.length === 0 || prevPath.length === 0) {\n      return\n    }\n\n    const newPath = Path.next(prevPath)\n    const commonPath = Path.common(path, prevPath)\n    const isPreviousSibling = Path.isSibling(path, prevPath)\n    const levels = Array.from(Editor.levels(editor, { at: path }), ([n]) => n)\n      .slice(commonPath.length)\n      .slice(0, -1)\n\n    // Determine if the merge will leave an ancestor of the path empty as a\n    // result, in which case we'll want to remove it after merging.\n    const emptyAncestor = Editor.above(editor, {\n      at: path,\n      mode: 'highest',\n      match: n => levels.includes(n) && hasSingleChildNest(editor, n),\n    })\n\n    const emptyRef = emptyAncestor && Editor.pathRef(editor, emptyAncestor[1])\n    let properties\n    let position\n\n    // Ensure that the nodes are equivalent, and figure out what the position\n    // and extra properties of the merge will be.\n    if (Node.isText(node) && Node.isText(prevNode)) {\n      const { text, ...rest } = node\n      position = prevNode.text.length\n      properties = rest as Partial<Text>\n    } else if (Node.isElement(node) && Node.isElement(prevNode)) {\n      const { children, ...rest } = node\n      position = prevNode.children.length\n      properties = rest as Partial<Element>\n    } else {\n      throw new Error(\n        `Cannot merge the node at path [${path}] with the previous sibling because it is not the same kind: ${Scrubber.stringify(\n          node\n        )} ${Scrubber.stringify(prevNode)}`\n      )\n    }\n\n    // If the node isn't already the next sibling of the previous node, move\n    // it so that it is before merging.\n    if (!isPreviousSibling) {\n      Transforms.moveNodes(editor, { at: path, to: newPath, voids })\n    }\n\n    // If there was going to be an empty ancestor of the node that was merged,\n    // we remove it from the tree.\n    if (emptyRef) {\n      Transforms.removeNodes(editor, { at: emptyRef.current!, voids })\n    }\n\n    if (Editor.shouldMergeNodesRemovePrevNode(editor, prev, current)) {\n      Transforms.removeNodes(editor, { at: prevPath, voids })\n    } else {\n      editor.apply({\n        type: 'merge_node',\n        path: newPath,\n        position,\n        properties,\n      })\n    }\n\n    if (emptyRef) {\n      emptyRef.unref()\n    }\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { Path } from '../interfaces/path'\nimport { matchPath } from '../utils/match-path'\nimport { Location, Node } from '../interfaces'\n\nexport const moveNodes: NodeTransforms['moveNodes'] = (editor, options) => {\n  Editor.withoutNormalizing(editor, () => {\n    const {\n      to,\n      at = editor.selection,\n      mode = 'lowest',\n      voids = false,\n    } = options\n    let { match } = options\n\n    if (!at) {\n      return\n    }\n\n    if (match == null) {\n      match = Location.isPath(at)\n        ? matchPath(editor, at)\n        : n => Node.isElement(n) && Editor.isBlock(editor, n)\n    }\n\n    const toRef = Editor.pathRef(editor, to)\n    const targets = Editor.nodes(editor, { at, match, mode, voids })\n    const pathRefs = Array.from(targets, ([, p]) => Editor.pathRef(editor, p))\n\n    for (const pathRef of pathRefs) {\n      const path = pathRef.unref()!\n      const newPath = toRef.current!\n\n      if (path.length !== 0) {\n        editor.apply({ type: 'move_node', path, newPath })\n      }\n\n      if (\n        toRef.current &&\n        Path.isSibling(newPath, path) &&\n        Path.isAfter(newPath, path)\n      ) {\n        // When performing a sibling move to a later index, the path at the destination is shifted\n        // to before the insertion point instead of after. To ensure our group of nodes are inserted\n        // in the correct order we increment toRef to account for that\n        toRef.current = Path.next(toRef.current)\n      }\n    }\n\n    toRef.unref()\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { matchPath } from '../utils/match-path'\nimport { Location, Node } from '../interfaces'\n\nexport const removeNodes: NodeTransforms['removeNodes'] = (\n  editor,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    const { hanging = false, voids = false, mode = 'lowest' } = options\n    let { at = editor.selection, match } = options\n\n    if (!at) {\n      return\n    }\n\n    if (match == null) {\n      match = Location.isPath(at)\n        ? matchPath(editor, at)\n        : n => Node.isElement(n) && Editor.isBlock(editor, n)\n    }\n\n    if (!hanging && Location.isRange(at)) {\n      at = Editor.unhangRange(editor, at, { voids })\n    }\n\n    const depths = Editor.nodes(editor, { at, match, mode, voids })\n    const pathRefs = Array.from(depths, ([, p]) => Editor.pathRef(editor, p))\n\n    for (const pathRef of pathRefs) {\n      const path = pathRef.unref()!\n\n      if (path) {\n        const [node] = Editor.node(editor, path)\n        editor.apply({ type: 'remove_node', path, node })\n      }\n    }\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { matchPath } from '../utils/match-path'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { Node } from '../interfaces/node'\nimport { Location } from '../interfaces'\n\nexport const setNodes: NodeTransforms['setNodes'] = (\n  editor,\n  props: Partial<Node>,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    let { match, at = editor.selection, compare, merge } = options\n    const {\n      hanging = false,\n      mode = 'lowest',\n      split = false,\n      voids = false,\n    } = options\n\n    if (!at) {\n      return\n    }\n\n    if (match == null) {\n      match = Location.isPath(at)\n        ? matchPath(editor, at)\n        : n => Node.isElement(n) && Editor.isBlock(editor, n)\n    }\n\n    if (!hanging && Location.isRange(at)) {\n      at = Editor.unhangRange(editor, at, { voids })\n    }\n\n    if (split && Location.isRange(at)) {\n      if (\n        Range.isCollapsed(at) &&\n        Editor.leaf(editor, at.anchor)[0].text.length > 0\n      ) {\n        // If the range is collapsed in a non-empty node and 'split' is true, there's nothing to\n        // set that won't get normalized away\n        return\n      }\n      const rangeRef = Editor.rangeRef(editor, at, { affinity: 'inward' })\n      const [start, end] = Range.edges(at)\n      const splitMode = mode === 'lowest' ? 'lowest' : 'highest'\n      const endAtEndOfNode = Editor.isEnd(editor, end, end.path)\n      Transforms.splitNodes(editor, {\n        at: end,\n        match,\n        mode: splitMode,\n        voids,\n        always: !endAtEndOfNode,\n      })\n      const startAtStartOfNode = Editor.isStart(editor, start, start.path)\n      Transforms.splitNodes(editor, {\n        at: start,\n        match,\n        mode: splitMode,\n        voids,\n        always: !startAtStartOfNode,\n      })\n      at = rangeRef.unref()!\n\n      if (options.at == null) {\n        Transforms.select(editor, at)\n      }\n    }\n\n    if (!compare) {\n      compare = (prop, nodeProp) => prop !== nodeProp\n    }\n\n    for (const [node, path] of Editor.nodes(editor, {\n      at,\n      match,\n      mode,\n      voids,\n    })) {\n      const properties: Partial<Node> = {}\n      // FIXME: is this correct?\n      const newProperties: Partial<Node> & { [key: string]: unknown } = {}\n\n      // You can't set properties on the editor node.\n      if (path.length === 0) {\n        continue\n      }\n\n      let hasChanges = false\n\n      for (const k in props) {\n        if (k === 'children' || k === 'text') {\n          continue\n        }\n\n        if (compare(props[<keyof Node>k], node[<keyof Node>k])) {\n          hasChanges = true\n          // Omit new properties from the old properties list\n          if (node.hasOwnProperty(k))\n            properties[<keyof Node>k] = node[<keyof Node>k]\n          // Omit properties that have been removed from the new properties list\n          if (merge) {\n            if (props[<keyof Node>k] != null)\n              newProperties[<keyof Node>k] = merge(\n                node[<keyof Node>k],\n                props[<keyof Node>k]\n              )\n          } else {\n            if (props[<keyof Node>k] != null)\n              newProperties[<keyof Node>k] = props[<keyof Node>k]\n          }\n        }\n      }\n\n      if (hasChanges) {\n        editor.apply({\n          type: 'set_node',\n          path,\n          properties,\n          newProperties,\n        })\n      }\n    }\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { Range } from '../interfaces/range'\nimport { Path } from '../interfaces/path'\nimport { PointRef } from '../interfaces/point-ref'\nimport { Transforms } from '../interfaces/transforms'\nimport { Node } from '../interfaces/node'\nimport { Point } from '../interfaces/point'\nimport { Location } from '../interfaces'\n\n/**\n * Convert a range into a point by deleting it's content.\n */\nconst deleteRange = (editor: Editor, range: Range): Point | null => {\n  if (Range.isCollapsed(range)) {\n    return range.anchor\n  } else {\n    const [, end] = Range.edges(range)\n    const pointRef = Editor.pointRef(editor, end)\n    Transforms.delete(editor, { at: range })\n    return pointRef.unref()\n  }\n}\n\nexport const splitNodes: NodeTransforms['splitNodes'] = (\n  editor,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    const { mode = 'lowest', voids = false } = options\n    let { match, at = editor.selection, height = 0, always = false } = options\n\n    if (!at) return\n\n    if (match == null) {\n      match = n => Node.isElement(n) && Editor.isBlock(editor, n)\n    }\n\n    if (Location.isRange(at)) {\n      at = deleteRange(editor, at)\n      if (!at) return\n    }\n\n    // If the target is a path, the default height-skipping and position\n    // counters need to account for us potentially splitting at a non-leaf.\n    if (Location.isPath(at)) {\n      const path = at\n      const point = Editor.point(editor, path)\n      const [parent] = Editor.parent(editor, path)\n      match = n => n === parent\n      height = point.path.length - path.length + 1\n      at = point\n      always = true\n    }\n\n    const beforeRef = Editor.pointRef(editor, at, {\n      affinity: 'backward',\n    })\n    let afterRef: PointRef | undefined\n    try {\n      const [highest] = Editor.nodes(editor, { at, match, mode, voids })\n\n      if (!highest) {\n        return\n      }\n\n      const voidMatch = Editor.void(editor, { at, mode: 'highest' })\n      const nudge = 0\n\n      if (!voids && voidMatch) {\n        const [voidNode, voidPath] = voidMatch\n\n        if (editor.isInline(voidNode)) {\n          let after = Editor.after(editor, voidPath)\n\n          if (!after) {\n            const text = { text: '' }\n            const afterPath = Path.next(voidPath)\n            Transforms.insertNodes(editor, text, { at: afterPath, voids })\n            after = Editor.point(editor, afterPath)!\n          }\n\n          at = after\n          always = true\n        }\n\n        const siblingHeight = at.path.length - voidPath.length\n        height = siblingHeight + 1\n        always = true\n      }\n\n      afterRef = Editor.pointRef(editor, at)\n      const depth = at.path.length - height\n      const [, highestPath] = highest\n      const lowestPath = at.path.slice(0, depth)\n      let position = height === 0 ? at.offset : at.path[depth] + nudge\n\n      for (const [node, path] of Editor.levels(editor, {\n        at: lowestPath,\n        reverse: true,\n        voids,\n      })) {\n        let split = false\n\n        if (\n          path.length < highestPath.length ||\n          path.length === 0 ||\n          (!voids && Node.isElement(node) && Editor.isVoid(editor, node))\n        ) {\n          break\n        }\n\n        const point = beforeRef.current!\n        const isEnd = Editor.isEnd(editor, point, path)\n\n        if (always || !beforeRef || !Editor.isEdge(editor, point, path)) {\n          split = true\n          const properties = Node.extractProps(node)\n          editor.apply({\n            type: 'split_node',\n            path,\n            position,\n            properties,\n          })\n        }\n\n        position = path[path.length - 1] + (split || isEnd ? 1 : 0)\n      }\n\n      if (options.at == null) {\n        const point = afterRef.current || Editor.end(editor, [])\n        Transforms.select(editor, point)\n      }\n    } finally {\n      beforeRef.unref()\n      afterRef?.unref()\n    }\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Transforms } from '../interfaces/transforms'\n\nexport const unsetNodes: NodeTransforms['unsetNodes'] = (\n  editor,\n  props,\n  options = {}\n) => {\n  if (!Array.isArray(props)) {\n    props = [props]\n  }\n\n  const obj: any = {}\n\n  for (const key of props) {\n    obj[key] = null\n  }\n\n  Transforms.setNodes(editor, obj, options)\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { matchPath } from '../utils/match-path'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { Location, Node } from '../interfaces'\n\nexport const unwrapNodes: NodeTransforms['unwrapNodes'] = (\n  editor,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    const { mode = 'lowest', split = false, voids = false } = options\n    let { at = editor.selection, match } = options\n\n    if (!at) {\n      return\n    }\n\n    if (match == null) {\n      match = Location.isPath(at)\n        ? matchPath(editor, at)\n        : n => Node.isElement(n) && Editor.isBlock(editor, n)\n    }\n\n    if (Location.isPath(at)) {\n      at = Editor.range(editor, at)\n    }\n\n    const rangeRef = Location.isRange(at) ? Editor.rangeRef(editor, at) : null\n    const matches = Editor.nodes(editor, { at, match, mode, voids })\n    const pathRefs = Array.from(\n      matches,\n      ([, p]) => Editor.pathRef(editor, p)\n      // unwrapNode will call liftNode which does not support splitting the node when nested.\n      // If we do not reverse the order and call it from top to the bottom, it will remove all blocks\n      // that wrap target node. So we reverse the order.\n    ).reverse()\n\n    for (const pathRef of pathRefs) {\n      const path = pathRef.unref()!\n      const [node] = Editor.node(editor, path)\n      let range = Editor.range(editor, path)\n\n      if (split && rangeRef) {\n        range = Range.intersection(rangeRef.current!, range)!\n      }\n\n      Transforms.liftNodes(editor, {\n        at: range,\n        match: n => !Node.isText(node) && node.children.includes(n),\n        voids,\n      })\n    }\n\n    if (rangeRef) {\n      rangeRef.unref()\n    }\n  })\n}\n","import { NodeTransforms } from '../interfaces/transforms/node'\nimport { Editor } from '../interfaces/editor'\nimport { Path } from '../interfaces/path'\nimport { matchPath } from '../utils/match-path'\nimport { Range } from '../interfaces/range'\nimport { Transforms } from '../interfaces/transforms'\nimport { Location, Node, Point } from '../interfaces'\n\nexport const wrapNodes: NodeTransforms['wrapNodes'] = (\n  editor,\n  element,\n  options = {}\n) => {\n  Editor.withoutNormalizing(editor, () => {\n    const { mode = 'lowest', split = false, voids = false } = options\n    let { match, at = editor.selection } = options\n\n    if (!at) {\n      return\n    }\n\n    if (match == null) {\n      if (Location.isPath(at)) {\n        match = matchPath(editor, at)\n      } else if (editor.isInline(element)) {\n        match = n =>\n          (Node.isElement(n) && Editor.isInline(editor, n)) || Node.isText(n)\n      } else {\n        match = n => Node.isElement(n) && Editor.isBlock(editor, n)\n      }\n    }\n\n    if (split && Location.isRange(at)) {\n      const [start, end] = Range.edges(at)\n\n      const rangeRef = Editor.rangeRef(editor, at, {\n        affinity: 'inward',\n      })\n\n      // Always split if we're in the middle of a block, to ensure that text\n      // node boundaries are handled correctly.\n      const isAtBlockEdge = (point: Point) => {\n        const blockAbove = Editor.above(editor, {\n          at: point,\n          match: n => Node.isElement(n) && Editor.isBlock(editor, n),\n        })\n        return blockAbove && Editor.isEdge(editor, point, blockAbove[1])\n      }\n\n      Transforms.splitNodes(editor, {\n        at: end,\n        match,\n        voids,\n        always: !isAtBlockEdge(end),\n      })\n\n      Transforms.splitNodes(editor, {\n        at: start,\n        match,\n        voids,\n        always: !isAtBlockEdge(start),\n      })\n\n      at = rangeRef.unref()!\n\n      if (options.at == null) {\n        Transforms.select(editor, at)\n      }\n    }\n\n    const roots = Array.from(\n      Editor.nodes(editor, {\n        at,\n        match: editor.isInline(element)\n          ? n => Node.isElement(n) && Editor.isBlock(editor, n)\n          : n => Node.isEditor(n),\n        mode: 'lowest',\n        voids,\n      })\n    )\n\n    for (const [, rootPath] of roots) {\n      const a = Location.isRange(at)\n        ? Range.intersection(at, Editor.range(editor, rootPath))\n        : at\n\n      if (!a) {\n        continue\n      }\n\n      const matches = Array.from(\n        Editor.nodes(editor, { at: a, match, mode, voids })\n      )\n\n      if (matches.length > 0) {\n        const [first] = matches\n        const last = matches[matches.length - 1]\n        const [, firstPath] = first\n        const [, lastPath] = last\n\n        if (firstPath.length === 0 && lastPath.length === 0) {\n          // if there's no matching parent - usually means the node is an editor - don't do anything\n          continue\n        }\n\n        const commonPath = Path.equals(firstPath, lastPath)\n          ? Path.parent(firstPath)\n          : Path.common(firstPath, lastPath)\n\n        const range = Editor.range(editor, firstPath, lastPath)\n        const commonNodeEntry = Editor.node(editor, commonPath)\n        const [commonNode] = commonNodeEntry\n        const depth = commonPath.length + 1\n        const wrapperPath = Path.next(lastPath.slice(0, depth))\n        const wrapper = { ...element, children: [] }\n        Transforms.insertNodes(editor, wrapper, { at: wrapperPath, voids })\n\n        Transforms.moveNodes(editor, {\n          at: range,\n          match: n =>\n            !Node.isText(commonNode) && commonNode.children.includes(n),\n          to: wrapperPath.concat(0),\n          voids,\n        })\n      }\n    }\n  })\n}\n","import {\n  addMark,\n  deleteFragment,\n  Editor,\n  getDirtyPaths,\n  getFragment,\n  insertBreak,\n  insertFragment,\n  insertNode,\n  insertSoftBreak,\n  insertText,\n  normalizeNode,\n  removeMark,\n  shouldNormalize,\n} from './'\nimport { apply } from './core'\nimport {\n  above,\n  after,\n  before,\n  deleteBackward,\n  deleteForward,\n  edges,\n  elementReadOnly,\n  end,\n  first,\n  fragment,\n  getVoid,\n  hasBlocks,\n  hasInlines,\n  hasPath,\n  hasTexts,\n  isBlock,\n  isEdge,\n  isEmpty,\n  isEnd,\n  isNormalizing,\n  isStart,\n  last,\n  leaf,\n  levels,\n  marks,\n  next,\n  node,\n  nodes,\n  normalize,\n  parent,\n  path,\n  pathRef,\n  pathRefs,\n  point,\n  pointRef,\n  pointRefs,\n  positions,\n  previous,\n  range,\n  rangeRef,\n  rangeRefs,\n  setNormalizing,\n  shouldMergeNodesRemovePrevNode,\n  start,\n  string,\n  unhangRange,\n  withoutNormalizing,\n} from './editor'\nimport { deleteText } from './transforms-text'\nimport {\n  collapse,\n  deselect,\n  move,\n  select,\n  setPoint,\n  setSelection,\n} from './transforms-selection'\nimport {\n  insertNodes,\n  liftNodes,\n  mergeNodes,\n  moveNodes,\n  removeNodes,\n  setNodes,\n  splitNodes,\n  unsetNodes,\n  unwrapNodes,\n  wrapNodes,\n} from './transforms-node'\n\n/**\n * Create a new Slate `Editor` object.\n */\nexport const createEditor = (): Editor => {\n  const editor: Editor = {\n    children: [],\n    operations: [],\n    selection: null,\n    marks: null,\n    isElementReadOnly: () => false,\n    isInline: () => false,\n    isSelectable: () => true,\n    isVoid: () => false,\n    markableVoid: () => false,\n    onChange: () => {},\n\n    // Core\n    apply: (...args) => apply(editor, ...args),\n\n    // Editor\n    addMark: (...args) => addMark(editor, ...args),\n    deleteBackward: (...args) => deleteBackward(editor, ...args),\n    deleteForward: (...args) => deleteForward(editor, ...args),\n    deleteFragment: (...args) => deleteFragment(editor, ...args),\n    getFragment: (...args) => getFragment(editor, ...args),\n    insertBreak: (...args) => insertBreak(editor, ...args),\n    insertSoftBreak: (...args) => insertSoftBreak(editor, ...args),\n    insertFragment: (...args) => insertFragment(editor, ...args),\n    insertNode: (...args) => insertNode(editor, ...args),\n    insertText: (...args) => insertText(editor, ...args),\n    normalizeNode: (...args) => normalizeNode(editor, ...args),\n    removeMark: (...args) => removeMark(editor, ...args),\n    getDirtyPaths: (...args) => getDirtyPaths(editor, ...args),\n    shouldNormalize: (...args) => shouldNormalize(editor, ...args),\n\n    // Editor interface\n    above: (...args) => above(editor, ...args),\n    after: (...args) => after(editor, ...args),\n    before: (...args) => before(editor, ...args),\n    collapse: (...args) => collapse(editor, ...args),\n    delete: (...args) => deleteText(editor, ...args),\n    deselect: (...args) => deselect(editor, ...args),\n    edges: (...args) => edges(editor, ...args),\n    elementReadOnly: (...args) => elementReadOnly(editor, ...args),\n    end: (...args) => end(editor, ...args),\n    first: (...args) => first(editor, ...args),\n    fragment: (...args) => fragment(editor, ...args),\n    getMarks: (...args) => marks(editor, ...args),\n    hasBlocks: (...args) => hasBlocks(editor, ...args),\n    hasInlines: (...args) => hasInlines(editor, ...args),\n    hasPath: (...args) => hasPath(editor, ...args),\n    hasTexts: (...args) => hasTexts(editor, ...args),\n    insertNodes: (...args) => insertNodes(editor, ...args),\n    isBlock: (...args) => isBlock(editor, ...args),\n    isEdge: (...args) => isEdge(editor, ...args),\n    isEmpty: (...args) => isEmpty(editor, ...args),\n    isEnd: (...args) => isEnd(editor, ...args),\n    isNormalizing: (...args) => isNormalizing(editor, ...args),\n    isStart: (...args) => isStart(editor, ...args),\n    last: (...args) => last(editor, ...args),\n    leaf: (...args) => leaf(editor, ...args),\n    levels: (...args) => levels(editor, ...args),\n    liftNodes: (...args) => liftNodes(editor, ...args),\n    mergeNodes: (...args) => mergeNodes(editor, ...args),\n    move: (...args) => move(editor, ...args),\n    moveNodes: (...args) => moveNodes(editor, ...args),\n    next: (...args) => next(editor, ...args),\n    node: (...args) => node(editor, ...args),\n    nodes: (...args) => nodes(editor, ...args),\n    normalize: (...args) => normalize(editor, ...args),\n    parent: (...args) => parent(editor, ...args),\n    path: (...args) => path(editor, ...args),\n    pathRef: (...args) => pathRef(editor, ...args),\n    pathRefs: (...args) => pathRefs(editor, ...args),\n    point: (...args) => point(editor, ...args),\n    pointRef: (...args) => pointRef(editor, ...args),\n    pointRefs: (...args) => pointRefs(editor, ...args),\n    positions: (...args) => positions(editor, ...args),\n    previous: (...args) => previous(editor, ...args),\n    range: (...args) => range(editor, ...args),\n    rangeRef: (...args) => rangeRef(editor, ...args),\n    rangeRefs: (...args) => rangeRefs(editor, ...args),\n    removeNodes: (...args) => removeNodes(editor, ...args),\n    select: (...args) => select(editor, ...args),\n    setNodes: (...args) => setNodes(editor, ...args),\n    setNormalizing: (...args) => setNormalizing(editor, ...args),\n    setPoint: (...args) => setPoint(editor, ...args),\n    setSelection: (...args) => setSelection(editor, ...args),\n    splitNodes: (...args) => splitNodes(editor, ...args),\n    start: (...args) => start(editor, ...args),\n    string: (...args) => string(editor, ...args),\n    unhangRange: (...args) => unhangRange(editor, ...args),\n    unsetNodes: (...args) => unsetNodes(editor, ...args),\n    unwrapNodes: (...args) => unwrapNodes(editor, ...args),\n    void: (...args) => getVoid(editor, ...args),\n    withoutNormalizing: (...args) => withoutNormalizing(editor, ...args),\n    wrapNodes: (...args) => wrapNodes(editor, ...args),\n    shouldMergeNodesRemovePrevNode: (...args) =>\n      shouldMergeNodesRemovePrevNode(editor, ...args),\n  }\n\n  return editor\n}\n"],"names":["PathRef","transform","ref","op","current","affinity","path","Path","unref","PointRef","point","Point","RangeRef","Range","DIRTY_PATHS","WeakMap","DIRTY_PATH_KEYS","FLUSHING","NORMALIZING","PATH_REFS","POINT_REFS","RANGE_REFS","ancestors","options","arguments","length","undefined","_options$reverse","reverse","paths","levels","slice","common","another","i","av","bv","push","compare","min","Math","endsAfter","as","bs","equals","endsAt","endsBefore","every","n","hasPrevious","isAfter","isAncestor","isBefore","isChild","isCommon","isDescendant","isParent","isPath","value","Array","isArray","isSibling","al","bl","_options$reverse2","list","next","Error","concat","last","operationCanTransformPath","operation","type","parent","previous","relative","ancestor","p","_toConsumableArray","_options$affinity","position","onp","newPath","copy","require$$0","edges","range","anchor","focus","isBackward","end","_Range$edges","_Range$edges2","_slicedToArray","surrounds","target","intersectionRange","intersection","includes","Location","isRange","_Range$edges3","_Range$edges4","rs","re","_Range$edges5","_Range$edges6","ts","te","_Range$edges7","_Range$edges8","start","isAfterStart","isBeforeEnd","isPoint","rest","_objectWithoutProperties","_excluded","_Range$edges9","_Range$edges10","s1","e1","_Range$edges11","_Range$edges12","s2","e2","_objectSpread","isCollapsed","isExpanded","isForward","isObject","points","_Range$edges13","_Range$edges14","affinityAnchor","affinityFocus","isElement","_ref","_ref$deep","deep","isEditor","apply","isChildrenValid","Node","isNodeList","children","Element","_ref2","_ref2$deep","isElementList","_ref3","_ref3$deep","val","isElementProps","props","isElementType","elementVal","elementKey","matches","element","key","root","node","get","isText","Scrubber","stringify","_iterator","_createForOfIteratorHelper","_step","s","done","entry","err","e","f","child","index","c","childPath","descendant","descendants","_iterator2","nodes","_step2","_step2$value","elements","_iterator3","_step3","_step3$value","extractProps","text","properties","_excluded2","first","fragment","newRoot","nodeEntries","pass","_iterator4","_step4","_loop","_step4$value","modifyChildren","removeChildren","modifyLeaf","before","offset","getIf","has","isNode","Text","Editor","_ref4","_ref4$deep","leaf","_iterator5","_step5","isTextProps","_options$from","from","to","visited","Set","add","nextIndex","parentPath","string","map","join","texts","_iterator6","_step6","_step6$value","Operation","isNodeOperation","isOperation","endsWith","newProperties","isOperationList","isSelectionOperation","isTextOperation","inverse","inversePath","inverseNewPath","_typeof","isDeepEqual","a","b","getDefaultInsertLocation","editor","selection","matchPath","_Editor$node","_Editor$node2","getCharacterDistance","str","isRTL","isLTR","codepoints","codepointsIteratorRTL","left","CodepointType","None","right","distance","gb11","gb12Or13","char","code","codePointAt","getCodepointType","intersects","ZWJ","ExtPict","endsWithEmojiZWJ","substring","RI","endsWithOddNumberOfRIs","isBoundaryPair","SPACE","PUNCTUATION","CHAMELEON","getWordDistance","dist","started","charDist","_splitByCharacterDist","splitByCharacterDistance","_splitByCharacterDist2","remaining","isWordCharacter","at","test","_splitByCharacterDist3","_splitByCharacterDist4","nextChar","nextRemaining","char1","charAt","isLowSurrogate","charCodeAt","char2","isHighSurrogate","charCode","reExtend","rePrepend","reSpacingMark","reL","reV","reT","reLV","reLVT","reExtPict","Any","search","Extend","Prepend","SpacingMark","L","V","T","LV","LVT","x","y","NonBoundaryPairs","findIndex","r","endingEmojiZWJ","endingRIs","match","numRIs","above","addMark","after","collapse","deleteBackward","deleteForward","deleteFragment","deselect","elementReadOnly","getDirtyPaths","getFragment","getMarks","hasBlocks","hasInlines","hasPath","hasTexts","insertBreak","insertFragment","insertNode","insertNodes","insertSoftBreak","insertText","isBlock","isEdge","isElementReadOnly","isEmpty","isEnd","isInline","isNormalizing","isSelectable","isStart","isVoid","liftNodes","markableVoid","mergeNodes","move","moveNodes","normalize","normalizeNode","onChange","pathRef","pathRefs","pointRef","pointRefs","positions","rangeRef","rangeRefs","removeMark","removeNodes","select","setNodes","setNormalizing","setPoint","setSelection","shouldMergeNodesRemovePrevNode","shouldNormalize","splitNodes","unhangRange","unsetNodes","unwrapNodes","withoutNormalizing","wrapNodes","marks","operations","_options$unit","unit","_options$unit2","_void","fn","prevNode","curNode","isLocation","isSpan","Span","result","_scrubber","setScrubber","scrubber","JSON","_options$loose","loose","omitText","obj","isTextList","hasOwnProperty","decorations","leaves","dec","mergeDecoration","merge","leafEnd","decorationStart","decorationEnd","Object","assign","leafStart","middle","off","currentOffset","entries","item","isFirst","isLast","insertChildren","xs","_len","newValues","_key","replaceChildren","removeCount","_len2","_key2","modifyDescendant","slicedPath","modifiedNode","pop","ancestorNode","GeneralTransforms","transformSelection","prevPath","prevIndex","prev","newNode","truePath","newIndex","_step$value","preferNext","nextNode","NodeTransforms","SelectionTransforms","TextTransforms","_delete","_options$voids","voids","_options$at","startRef","endRef","Transforms","startPoint","endPoint","_at","BATCHING_DIRTY_PATHS","isBatchingDirtyPaths","batchDirtyPaths","update","set","updateDirtyPaths","newDirtyPaths","oldDirtyPaths","oldDirtyPathKeys","dirtyPaths","dirtyPathKeys","Promise","resolve","then","previousPath","oldAncestors","newAncestors","newParent","resultPath","nextPath","_entry","shouldHaveInlines","newChild","fallbackElement","iteration","initialDirtyPathsLength","maxIterations","_options$mode","mode","_Editor$levels","_Editor$levels2","firstMatch","_Editor$parent","_Editor$parent2","parentNode","expandedSelection","markAcceptingVoidSelected","selectedNode","selectedPath","_Editor$parent3","_Editor$parent4","_defineProperty","split","edge","_options$distance","d","_ref$direction","direction","getVoid","some","always","_children","_Editor$nodes","_Editor$nodes2","_match","_anchor","_Editor$leaf","_Editor$leaf2","markedVoid","block","_prev","_block","blockPath","_node2","pointAfterLocation","_Editor$last","_Editor$last2","span","_options$universal","universal","hit","isLower","emit","_options$force","force","getDirtyPathKeys","popDirtyPath","allPaths","allPathKeys","dirtyPath","_entry2","_","refs","depth","_Node$first","_Node$first2","firstPath","_Node$last","_Node$last2","lastPath","_options$edge","isNewBlock","blockText","leafTextRemaining","leafTextOffset","skippedPaths","hasSkippedAncestor","maybeYield","calcDistance","_ret","pointBeforeLocation","_Editor$first","_Editor$first2","t","endBlock","skip","curNodePath","deleteText","_Editor$void","_Editor$void2","_options$hanging","hanging","furthestVoid","_furthestVoid","voidPath","opts","endOfDoc","startBlock","isAcrossBlocks","isSingleText","startNonEditable","endNonEditable","removedText","_start","filter","forEach","_Editor$leaf3","_Editor$leaf4","startUnref","endUnref","_options$batchDirty","batchDirty","inlineElementMatch","_inlineElementMatch","inlinePath","blockMatch","_blockMatch","isBlockStart","isBlockEnd","isBlockEmpty","firstLeafPath","lastLeafPath","shouldInsert","isRoot","starting","starts","middles","ends","inlineMatch","_inlineMatch","isInlineStart","isInlineEnd","middleRef","splitBlock","oldProps","newProps","k","keys","_nodes","_nodes2","isAtEnd","batchedOps","_i","_batchedOps","_pathRefs","parentNodeEntry","_parentNodeEntry","toPath","splitPath","hasSingleChildNest","_current","commonPath","isPreviousSibling","emptyAncestor","emptyRef","toRef","targets","depths","_options$split","splitMode","endAtEndOfNode","startAtStartOfNode","prop","nodeProp","hasChanges","deleteRange","_options$height","height","_options$always","beforeRef","afterRef","highest","voidMatch","nudge","_voidMatch","voidNode","afterPath","siblingHeight","_highest","highestPath","lowestPath","_afterRef","isAtBlockEdge","blockAbove","roots","_roots$_i","_roots","rootPath","_first","_last","commonNodeEntry","_commonNodeEntry","commonNode","wrapperPath","wrapper","createEditor","args","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","_len11","_key11","_len12","_key12","_len13","_key13","_len14","_key14","_len15","_key15","_len16","_key16","_len17","_key17","_len18","_key18","_len19","_key19","_len20","_key20","_len21","_key21","_len22","_key22","_len23","_key23","_len24","_key24","_len25","_key25","_len26","_key26","_len27","_key27","_len28","_key28","_len29","_key29","_len30","_key30","_len31","_key31","_len32","_key32","_len33","_key33","_len34","_key34","_len35","_key35","_len36","_key36","_len37","_key37","_len38","_key38","_len39","_key39","_len40","_key40","_len41","_key41","_len42","_key42","_len43","_key43","_len44","_key44","_len45","_key45","_len46","_key46","_len47","_key47","_len48","_key48","_len49","_key49","_len50","_key50","_len51","_key51","_len52","_key52","_len53","_key53","_len54","_key54","_len55","_key55","_len56","_key56","_len57","_key57","_len58","_key58","_len59","_key59","_len60","_key60","_len61","_key61","_len62","_key62","_len63","_key63","_len64","_key64","_len65","_key65","_len66","_key66","_len67","_key67","_len68","_key68","_len69","_key69","_len70","_key70","_len71","_key71","_len72","_key72","_len73","_key73","_len74","_key74","_len75","_key75","_len76","_key76","_len77","_key77"],"mappings":";;AAqBA;AACO,IAAMA,OAAO,GAAqB;AACvCC,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACC,GAAY,EAAEC,EAAa,EAAA;AACnC,IAAA,IAAQC,OAAO,GAAeF,GAAG,CAAzBE,OAAO;MAAEC,QAAQ,GAAKH,GAAG,CAAhBG,QAAQ,CAAA;IAEzB,IAAID,OAAO,IAAI,IAAI,EAAE;AACnB,MAAA,OAAA;AACD,KAAA;IAED,IAAME,IAAI,GAAGC,IAAI,CAACN,SAAS,CAACG,OAAO,EAAED,EAAE,EAAE;AAAEE,MAAAA,QAAQ,EAARA,QAAAA;AAAQ,KAAE,CAAC,CAAA;IACtDH,GAAG,CAACE,OAAO,GAAGE,IAAI,CAAA;IAElB,IAAIA,IAAI,IAAI,IAAI,EAAE;MAChBJ,GAAG,CAACM,KAAK,EAAE,CAAA;AACZ,KAAA;AACH,GAAA;;;ACdF;AACO,IAAMC,QAAQ,GAAsB;AACzCR,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACC,GAAa,EAAEC,EAAa,EAAA;AACpC,IAAA,IAAQC,OAAO,GAAeF,GAAG,CAAzBE,OAAO;MAAEC,QAAQ,GAAKH,GAAG,CAAhBG,QAAQ,CAAA;IAEzB,IAAID,OAAO,IAAI,IAAI,EAAE;AACnB,MAAA,OAAA;AACD,KAAA;IAED,IAAMM,KAAK,GAAGC,KAAK,CAACV,SAAS,CAACG,OAAO,EAAED,EAAE,EAAE;AAAEE,MAAAA,QAAQ,EAARA,QAAAA;AAAQ,KAAE,CAAC,CAAA;IACxDH,GAAG,CAACE,OAAO,GAAGM,KAAK,CAAA;IAEnB,IAAIA,KAAK,IAAI,IAAI,EAAE;MACjBR,GAAG,CAACM,KAAK,EAAE,CAAA;AACZ,KAAA;AACH,GAAA;;;AChBF;AACO,IAAMI,QAAQ,GAAsB;AACzCX,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACC,GAAa,EAAEC,EAAa,EAAA;AACpC,IAAA,IAAQC,OAAO,GAAeF,GAAG,CAAzBE,OAAO;MAAEC,QAAQ,GAAKH,GAAG,CAAhBG,QAAQ,CAAA;IAEzB,IAAID,OAAO,IAAI,IAAI,EAAE;AACnB,MAAA,OAAA;AACD,KAAA;IAED,IAAME,IAAI,GAAGO,KAAK,CAACZ,SAAS,CAACG,OAAO,EAAED,EAAE,EAAE;AAAEE,MAAAA,QAAQ,EAARA,QAAAA;AAAQ,KAAE,CAAC,CAAA;IACvDH,GAAG,CAACE,OAAO,GAAGE,IAAI,CAAA;IAElB,IAAIA,IAAI,IAAI,IAAI,EAAE;MAChBJ,GAAG,CAACM,KAAK,EAAE,CAAA;AACZ,KAAA;AACH,GAAA;;;AClCK,IAAMM,WAAW,GAA4B,IAAIC,OAAO,EAAE,CAAA;AAC1D,IAAMC,eAAe,GAAiC,IAAID,OAAO,EAAE,CAAA;AACnE,IAAME,QAAQ,GAA6B,IAAIF,OAAO,EAAE,CAAA;AACxD,IAAMG,WAAW,GAA6B,IAAIH,OAAO,EAAE,CAAA;AAC3D,IAAMI,SAAS,GAAkC,IAAIJ,OAAO,EAAE,CAAA;AAC9D,IAAMK,UAAU,GAAmC,IAAIL,OAAO,EAAE,CAAA;AAChE,IAAMM,UAAU,GAAmC,IAAIN,OAAO,EAAE;;;;;;;;;;;ACRvE,SAAS,iBAAiB,CAAC,GAAG,EAAE,GAAG,EAAE;AACrC,EAAE,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;AACxD,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;AACxE,EAAE,OAAO,IAAI,CAAC;AACd,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,iBAAiB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACJhH,SAAS,kBAAkB,CAAC,GAAG,EAAE;AACjC,EAAE,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,gBAAgB,CAAC,GAAG,CAAC,CAAC;AACvD,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,kBAAkB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACJjH,SAAS,gBAAgB,CAAC,IAAI,EAAE;AAChC,EAAE,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5H,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,gBAAgB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACF/G,SAAS,2BAA2B,CAAC,CAAC,EAAE,MAAM,EAAE;AAChD,EAAE,IAAI,CAAC,CAAC,EAAE,OAAO;AACjB,EAAE,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE,OAAO,gBAAgB,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;AAChE,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACzD,EAAE,IAAI,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC;AAC9D,EAAE,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACvD,EAAE,IAAI,CAAC,KAAK,WAAW,IAAI,0CAA0C,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,gBAAgB,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;AAClH,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,2BAA2B,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACT1H,SAAS,kBAAkB,GAAG;AAC9B,EAAE,MAAM,IAAI,SAAS,CAAC,sIAAsI,CAAC,CAAC;AAC9J,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,kBAAkB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACCjH,SAAS,kBAAkB,CAAC,GAAG,EAAE;AACjC,EAAE,OAAO,iBAAiB,CAAC,GAAG,CAAC,IAAI,eAAe,CAAC,GAAG,CAAC,IAAI,0BAA0B,CAAC,GAAG,CAAC,IAAI,iBAAiB,EAAE,CAAC;AAClH,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,kBAAkB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;AC4KjH;AACO,IAAMR,IAAI,GAAkB;EACjCe,SAAS,EAAA,SAAAA,SAAChB,CAAAA,IAAU,EAAoC;AAAA,IAAA,IAAlCiB,OAAA,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAgC,EAAE,CAAA;AACtD,IAAA,IAAAG,gBAAA,GAA4BJ,OAAO,CAA3BK,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA,CAAA;IACvB,IAAIE,KAAK,GAAGtB,IAAI,CAACuB,MAAM,CAACxB,IAAI,EAAEiB,OAAO,CAAC,CAAA;AAEtC,IAAA,IAAIK,OAAO,EAAE;AACXC,MAAAA,KAAK,GAAGA,KAAK,CAACE,KAAK,CAAC,CAAC,CAAC,CAAA;AACvB,KAAA,MAAM;MACLF,KAAK,GAAGA,KAAK,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;AAC3B,KAAA;AAED,IAAA,OAAOF,KAAK,CAAA;GACb;AAEDG,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAAC1B,IAAU,EAAE2B,OAAa,EAAA;IAC9B,IAAMD,MAAM,GAAS,EAAE,CAAA;AAEvB,IAAA,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG5B,IAAI,CAACmB,MAAM,IAAIS,CAAC,GAAGD,OAAO,CAACR,MAAM,EAAES,CAAC,EAAE,EAAE;AAC1D,MAAA,IAAMC,EAAE,GAAG7B,IAAI,CAAC4B,CAAC,CAAC,CAAA;AAClB,MAAA,IAAME,EAAE,GAAGH,OAAO,CAACC,CAAC,CAAC,CAAA;MAErB,IAAIC,EAAE,KAAKC,EAAE,EAAE;AACb,QAAA,MAAA;AACD,OAAA;AAEDJ,MAAAA,MAAM,CAACK,IAAI,CAACF,EAAE,CAAC,CAAA;AAChB,KAAA;AAED,IAAA,OAAOH,MAAM,CAAA;GACd;AAEDM,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAAChC,IAAU,EAAE2B,OAAa,EAAA;AAC/B,IAAA,IAAMM,GAAG,GAAGC,IAAI,CAACD,GAAG,CAACjC,IAAI,CAACmB,MAAM,EAAEQ,OAAO,CAACR,MAAM,CAAC,CAAA;IAEjD,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGK,GAAG,EAAEL,CAAC,EAAE,EAAE;AAC5B,MAAA,IAAI5B,IAAI,CAAC4B,CAAC,CAAC,GAAGD,OAAO,CAACC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAA;MACnC,IAAI5B,IAAI,CAAC4B,CAAC,CAAC,GAAGD,OAAO,CAACC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAA;AACnC,KAAA;AAED,IAAA,OAAO,CAAC,CAAA;GACT;AAEDO,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACnC,IAAU,EAAE2B,OAAa,EAAA;AACjC,IAAA,IAAMC,CAAC,GAAG5B,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAA;IACzB,IAAMiB,EAAE,GAAGpC,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAEG,CAAC,CAAC,CAAA;IAC3B,IAAMS,EAAE,GAAGV,OAAO,CAACF,KAAK,CAAC,CAAC,EAAEG,CAAC,CAAC,CAAA;AAC9B,IAAA,IAAMC,EAAE,GAAG7B,IAAI,CAAC4B,CAAC,CAAC,CAAA;AAClB,IAAA,IAAME,EAAE,GAAGH,OAAO,CAACC,CAAC,CAAC,CAAA;IACrB,OAAO3B,IAAI,CAACqC,MAAM,CAACF,EAAE,EAAEC,EAAE,CAAC,IAAIR,EAAE,GAAGC,EAAE,CAAA;GACtC;AAEDS,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAACvC,IAAU,EAAE2B,OAAa,EAAA;AAC9B,IAAA,IAAMC,CAAC,GAAG5B,IAAI,CAACmB,MAAM,CAAA;IACrB,IAAMiB,EAAE,GAAGpC,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAEG,CAAC,CAAC,CAAA;IAC3B,IAAMS,EAAE,GAAGV,OAAO,CAACF,KAAK,CAAC,CAAC,EAAEG,CAAC,CAAC,CAAA;AAC9B,IAAA,OAAO3B,IAAI,CAACqC,MAAM,CAACF,EAAE,EAAEC,EAAE,CAAC,CAAA;GAC3B;AAEDG,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAACxC,IAAU,EAAE2B,OAAa,EAAA;AAClC,IAAA,IAAMC,CAAC,GAAG5B,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAA;IACzB,IAAMiB,EAAE,GAAGpC,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAEG,CAAC,CAAC,CAAA;IAC3B,IAAMS,EAAE,GAAGV,OAAO,CAACF,KAAK,CAAC,CAAC,EAAEG,CAAC,CAAC,CAAA;AAC9B,IAAA,IAAMC,EAAE,GAAG7B,IAAI,CAAC4B,CAAC,CAAC,CAAA;AAClB,IAAA,IAAME,EAAE,GAAGH,OAAO,CAACC,CAAC,CAAC,CAAA;IACrB,OAAO3B,IAAI,CAACqC,MAAM,CAACF,EAAE,EAAEC,EAAE,CAAC,IAAIR,EAAE,GAAGC,EAAE,CAAA;GACtC;AAEDQ,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAACtC,IAAU,EAAE2B,OAAa,EAAA;AAC9B,IAAA,OACE3B,IAAI,CAACmB,MAAM,KAAKQ,OAAO,CAACR,MAAM,IAAInB,IAAI,CAACyC,KAAK,CAAC,UAACC,CAAC,EAAEd,CAAC,EAAA;AAAA,MAAA,OAAKc,CAAC,KAAKf,OAAO,CAACC,CAAC,CAAC,CAAA;KAAC,CAAA,CAAA;GAE3E;EAEDe,WAAW,EAAA,SAAAA,WAAC3C,CAAAA,IAAU,EAAA;IACpB,OAAOA,IAAI,CAACA,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAA;GACjC;AAEDyB,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAAC5C,IAAU,EAAE2B,OAAa,EAAA;IAC/B,OAAO1B,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE2B,OAAO,CAAC,KAAK,CAAC,CAAA;GACzC;AAEDkB,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAAC7C,IAAU,EAAE2B,OAAa,EAAA;AAClC,IAAA,OAAO3B,IAAI,CAACmB,MAAM,GAAGQ,OAAO,CAACR,MAAM,IAAIlB,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE2B,OAAO,CAAC,KAAK,CAAC,CAAA;GACzE;AAEDmB,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAAC9C,IAAU,EAAE2B,OAAa,EAAA;IAChC,OAAO1B,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE2B,OAAO,CAAC,KAAK,CAAC,CAAC,CAAA;GAC1C;AAEDoB,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAAC/C,IAAU,EAAE2B,OAAa,EAAA;AAC/B,IAAA,OACE3B,IAAI,CAACmB,MAAM,KAAKQ,OAAO,CAACR,MAAM,GAAG,CAAC,IAAIlB,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE2B,OAAO,CAAC,KAAK,CAAC,CAAA;GAE1E;AAEDqB,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAAChD,IAAU,EAAE2B,OAAa,EAAA;AAChC,IAAA,OAAO3B,IAAI,CAACmB,MAAM,IAAIQ,OAAO,CAACR,MAAM,IAAIlB,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE2B,OAAO,CAAC,KAAK,CAAC,CAAA;GAC1E;AAEDsB,EAAAA,YAAY,EAAAA,SAAAA,YAAAA,CAACjD,IAAU,EAAE2B,OAAa,EAAA;AACpC,IAAA,OAAO3B,IAAI,CAACmB,MAAM,GAAGQ,OAAO,CAACR,MAAM,IAAIlB,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE2B,OAAO,CAAC,KAAK,CAAC,CAAA;GACzE;AAEDuB,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAAClD,IAAU,EAAE2B,OAAa,EAAA;AAChC,IAAA,OACE3B,IAAI,CAACmB,MAAM,GAAG,CAAC,KAAKQ,OAAO,CAACR,MAAM,IAAIlB,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE2B,OAAO,CAAC,KAAK,CAAC,CAAA;GAE1E;EAEDwB,MAAM,EAAA,SAAAA,MAACC,CAAAA,KAAU,EAAA;AACf,IAAA,OAAOC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,IAAIA,KAAK,CAACX,KAAK,CAAC,UAAAC,CAAC,EAAA;MAAA,OAAI,OAAOA,CAAC,KAAK,QAAQ,CAAA;KAAC,CAAA,CAAA;GACvE;AAEDa,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACvD,IAAU,EAAE2B,OAAa,EAAA;AACjC,IAAA,IAAI3B,IAAI,CAACmB,MAAM,KAAKQ,OAAO,CAACR,MAAM,EAAE;AAClC,MAAA,OAAO,KAAK,CAAA;AACb,KAAA;IAED,IAAMiB,EAAE,GAAGpC,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;IAC5B,IAAMY,EAAE,GAAGV,OAAO,CAACF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;IAC/B,IAAM+B,EAAE,GAAGxD,IAAI,CAACA,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;IAChC,IAAMsC,EAAE,GAAG9B,OAAO,CAACA,OAAO,CAACR,MAAM,GAAG,CAAC,CAAC,CAAA;IACtC,OAAOqC,EAAE,KAAKC,EAAE,IAAIxD,IAAI,CAACqC,MAAM,CAACF,EAAE,EAAEC,EAAE,CAAC,CAAA;GACxC;EAEDb,MAAM,EAAA,SAAAA,MAACxB,CAAAA,IAAU,EAAiC;AAAA,IAAA,IAA/BiB,OAAA,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAA6B,EAAE,CAAA;AAChD,IAAA,IAAAwC,iBAAA,GAA4BzC,OAAO,CAA3BK,OAAO;AAAPA,MAAAA,OAAO,GAAAoC,iBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,iBAAA,CAAA;IACvB,IAAMC,IAAI,GAAW,EAAE,CAAA;AAEvB,IAAA,KAAK,IAAI/B,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI5B,IAAI,CAACmB,MAAM,EAAES,CAAC,EAAE,EAAE;MACrC+B,IAAI,CAAC5B,IAAI,CAAC/B,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAEG,CAAC,CAAC,CAAC,CAAA;AAC5B,KAAA;AAED,IAAA,IAAIN,OAAO,EAAE;MACXqC,IAAI,CAACrC,OAAO,EAAE,CAAA;AACf,KAAA;AAED,IAAA,OAAOqC,IAAI,CAAA;GACZ;EAEDC,IAAI,EAAA,SAAAA,IAAC5D,CAAAA,IAAU,EAAA;AACb,IAAA,IAAIA,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB,MAAA,MAAM,IAAI0C,KAAK,CAAA,2CAAA,CAAAC,MAAA,CAC+B9D,IAAI,qCAAkC,CACnF,CAAA;AACF,KAAA;IAED,IAAM+D,IAAI,GAAG/D,IAAI,CAACA,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;AAClC,IAAA,OAAOnB,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACqC,MAAM,CAACC,IAAI,GAAG,CAAC,CAAC,CAAA;GAC1C;EAEDC,yBAAyB,EAAA,SAAAA,yBACvBC,CAAAA,SAAoB,EAAA;IAOpB,QAAQA,SAAS,CAACC,IAAI;AACpB,MAAA,KAAK,aAAa,CAAA;AAClB,MAAA,KAAK,aAAa,CAAA;AAClB,MAAA,KAAK,YAAY,CAAA;AACjB,MAAA,KAAK,YAAY,CAAA;AACjB,MAAA,KAAK,WAAW;AACd,QAAA,OAAO,IAAI,CAAA;AACb,MAAA;AACE,QAAA,OAAO,KAAK,CAAA;AACf,KAAA;GACF;EAEDC,MAAM,EAAA,SAAAA,MAACnE,CAAAA,IAAU,EAAA;AACf,IAAA,IAAIA,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB,MAAA,MAAM,IAAI0C,KAAK,CAAA,+CAAA,CAAAC,MAAA,CAAiD9D,IAAI,OAAI,CAAC,CAAA;AAC1E,KAAA;IAED,OAAOA,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;GACzB;EAED2C,QAAQ,EAAA,SAAAA,QAACpE,CAAAA,IAAU,EAAA;AACjB,IAAA,IAAIA,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB,MAAA,MAAM,IAAI0C,KAAK,CAAA,+CAAA,CAAAC,MAAA,CACmC9D,IAAI,yCAAsC,CAC3F,CAAA;AACF,KAAA;IAED,IAAM+D,IAAI,GAAG/D,IAAI,CAACA,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;IAElC,IAAI4C,IAAI,IAAI,CAAC,EAAE;AACb,MAAA,MAAM,IAAIF,KAAK,CAAA,sDAAA,CAAAC,MAAA,CAC0C9D,IAAI,mDAAgD,CAC5G,CAAA;AACF,KAAA;AAED,IAAA,OAAOA,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACqC,MAAM,CAACC,IAAI,GAAG,CAAC,CAAC,CAAA;GAC1C;AAEDM,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAACrE,IAAU,EAAEsE,QAAc,EAAA;AACjC,IAAA,IAAI,CAACrE,IAAI,CAAC4C,UAAU,CAACyB,QAAQ,EAAEtE,IAAI,CAAC,IAAI,CAACC,IAAI,CAACqC,MAAM,CAACtC,IAAI,EAAEsE,QAAQ,CAAC,EAAE;MACpE,MAAM,IAAIT,KAAK,CAAA,mCAAA,CAAAC,MAAA,CACuB9D,IAAI,EAAA,qBAAA,CAAA,CAAA8D,MAAA,CAAsBQ,QAAQ,EAAA,kDAAA,CAAkD,CACzH,CAAA;AACF,KAAA;AAED,IAAA,OAAOtE,IAAI,CAACyB,KAAK,CAAC6C,QAAQ,CAACnD,MAAM,CAAC,CAAA;GACnC;AAEDxB,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CACPK,IAAiB,EACjBiE,SAAoB,EACc;AAAA,IAAA,IAAlChD,8EAAgC,EAAE,CAAA;AAElC,IAAA,IAAI,CAACjB,IAAI,EAAE,OAAO,IAAI,CAAA;AAEtB;AACA,IAAA,IAAMuE,CAAC,GAAAC,kBAAA,CAAOxE,IAAI,CAAC,CAAA;AACnB,IAAA,IAAAyE,iBAAA,GAAiCxD,OAAO,CAAhClB,QAAQ;AAARA,MAAAA,QAAQ,GAAA0E,iBAAA,KAAG,KAAA,CAAA,GAAA,SAAS,GAAAA,iBAAA,CAAA;AAE5B;AACA,IAAA,IAAIzE,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB,MAAA,OAAOoD,CAAC,CAAA;AACT,KAAA;IAED,QAAQN,SAAS,CAACC,IAAI;AACpB,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,IAAcrE,EAAE,GAAKoE,SAAS,CAAtBjE,IAAI,CAAA;UAEZ,IACEC,IAAI,CAACqC,MAAM,CAACzC,EAAE,EAAE0E,CAAC,CAAC,IAClBtE,IAAI,CAACuC,UAAU,CAAC3C,EAAE,EAAE0E,CAAC,CAAC,IACtBtE,IAAI,CAAC4C,UAAU,CAAChD,EAAE,EAAE0E,CAAC,CAAC,EACtB;YACAA,CAAC,CAAC1E,EAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACtB,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,IAActB,GAAE,GAAKoE,SAAS,CAAtBjE,IAAI,CAAA;AAEZ,UAAA,IAAIC,IAAI,CAACqC,MAAM,CAACzC,GAAE,EAAE0E,CAAC,CAAC,IAAItE,IAAI,CAAC4C,UAAU,CAAChD,GAAE,EAAE0E,CAAC,CAAC,EAAE;AAChD,YAAA,OAAO,IAAI,CAAA;WACZ,MAAM,IAAItE,IAAI,CAACuC,UAAU,CAAC3C,GAAE,EAAE0E,CAAC,CAAC,EAAE;YACjCA,CAAC,CAAC1E,GAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACtB,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;AACjB,UAAA,IAActB,IAAE,GAAeoE,SAAS,CAAhCjE,IAAI;YAAM0E,QAAQ,GAAKT,SAAS,CAAtBS,QAAQ,CAAA;AAE1B,UAAA,IAAIzE,IAAI,CAACqC,MAAM,CAACzC,IAAE,EAAE0E,CAAC,CAAC,IAAItE,IAAI,CAACuC,UAAU,CAAC3C,IAAE,EAAE0E,CAAC,CAAC,EAAE;YAChDA,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;WACtB,MAAM,IAAIlB,IAAI,CAAC4C,UAAU,CAAChD,IAAE,EAAE0E,CAAC,CAAC,EAAE;YACjCA,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACrBoD,YAAAA,CAAC,CAAC1E,IAAE,CAACsB,MAAM,CAAC,IAAIuD,QAAQ,CAAA;AACzB,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;AACjB,UAAA,IAAc7E,IAAE,GAAeoE,SAAS,CAAhCjE,IAAI;YAAM0E,SAAQ,GAAKT,SAAS,CAAtBS,QAAQ,CAAA;UAE1B,IAAIzE,IAAI,CAACqC,MAAM,CAACzC,IAAE,EAAE0E,CAAC,CAAC,EAAE;YACtB,IAAIxE,QAAQ,KAAK,SAAS,EAAE;cAC1BwE,CAAC,CAACA,CAAC,CAACpD,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACrB,aAAA,MAAM,IAAIpB,QAAQ,KAAK,UAAU,EAAE,CAEnC,MAAM;AACL,cAAA,OAAO,IAAI,CAAA;AACZ,aAAA;WACF,MAAM,IAAIE,IAAI,CAACuC,UAAU,CAAC3C,IAAE,EAAE0E,CAAC,CAAC,EAAE;YACjCA,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACtB,WAAA,MAAM,IAAIlB,IAAI,CAAC4C,UAAU,CAAChD,IAAE,EAAE0E,CAAC,CAAC,IAAIvE,IAAI,CAACH,IAAE,CAACsB,MAAM,CAAC,IAAIuD,SAAQ,EAAE;YAChEH,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACrBoD,YAAAA,CAAC,CAAC1E,IAAE,CAACsB,MAAM,CAAC,IAAIuD,SAAQ,CAAA;AACzB,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,WAAW;AAAE,QAAA;AAChB,UAAA,IAAc7E,IAAE,GAAmBoE,SAAS,CAApCjE,IAAI;YAAe2E,GAAG,GAAKV,SAAS,CAA1BW,OAAO,CAAA;AAEzB;UACA,IAAI3E,IAAI,CAACqC,MAAM,CAACzC,IAAE,EAAE8E,GAAG,CAAC,EAAE;AACxB,YAAA,OAAOJ,CAAC,CAAA;AACT,WAAA;AAED,UAAA,IAAItE,IAAI,CAAC4C,UAAU,CAAChD,IAAE,EAAE0E,CAAC,CAAC,IAAItE,IAAI,CAACqC,MAAM,CAACzC,IAAE,EAAE0E,CAAC,CAAC,EAAE;AAChD,YAAA,IAAMM,IAAI,GAAGF,GAAG,CAAClD,KAAK,EAAE,CAAA;AAExB,YAAA,IAAIxB,IAAI,CAACuC,UAAU,CAAC3C,IAAE,EAAE8E,GAAG,CAAC,IAAI9E,IAAE,CAACsB,MAAM,GAAGwD,GAAG,CAACxD,MAAM,EAAE;cACtD0D,IAAI,CAAChF,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACzB,aAAA;AAED,YAAA,OAAO0D,IAAI,CAACf,MAAM,CAACS,CAAC,CAAC9C,KAAK,CAAC5B,IAAE,CAACsB,MAAM,CAAC,CAAC,CAAA;AACvC,WAAA,MAAM,IACLlB,IAAI,CAACsD,SAAS,CAAC1D,IAAE,EAAE8E,GAAG,CAAC,KACtB1E,IAAI,CAAC4C,UAAU,CAAC8B,GAAG,EAAEJ,CAAC,CAAC,IAAItE,IAAI,CAACqC,MAAM,CAACqC,GAAG,EAAEJ,CAAC,CAAC,CAAC,EAChD;YACA,IAAItE,IAAI,CAACuC,UAAU,CAAC3C,IAAE,EAAE0E,CAAC,CAAC,EAAE;cAC1BA,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACtB,aAAA,MAAM;cACLoD,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACtB,aAAA;AACF,WAAA,MAAM,IACLlB,IAAI,CAACuC,UAAU,CAACmC,GAAG,EAAEJ,CAAC,CAAC,IACvBtE,IAAI,CAACqC,MAAM,CAACqC,GAAG,EAAEJ,CAAC,CAAC,IACnBtE,IAAI,CAAC4C,UAAU,CAAC8B,GAAG,EAAEJ,CAAC,CAAC,EACvB;YACA,IAAItE,IAAI,CAACuC,UAAU,CAAC3C,IAAE,EAAE0E,CAAC,CAAC,EAAE;cAC1BA,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACtB,aAAA;YAEDoD,CAAC,CAACI,GAAG,CAACxD,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;WACvB,MAAM,IAAIlB,IAAI,CAACuC,UAAU,CAAC3C,IAAE,EAAE0E,CAAC,CAAC,EAAE;YACjC,IAAItE,IAAI,CAACqC,MAAM,CAACqC,GAAG,EAAEJ,CAAC,CAAC,EAAE;cACvBA,CAAC,CAACI,GAAG,CAACxD,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACvB,aAAA;YAEDoD,CAAC,CAAC1E,IAAE,CAACsB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAA;AACtB,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AACF,KAAA;AAED,IAAA,OAAOoD,CAAC,CAAA;AACV,GAAA;;;;AChgBF,SAAS,OAAO,CAAC,CAAC,EAAE;AACpB,EAAE,yBAAyB,CAAC;AAC5B;AACA,EAAE,OAAO,CAAC,MAAc,CAAA,OAAA,GAAG,OAAO,GAAG,UAAU,IAAI,OAAO,MAAM,IAAI,QAAQ,IAAI,OAAO,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC,EAAE;AACtH,IAAI,OAAO,OAAO,CAAC,CAAC;AACpB,GAAG,GAAG,UAAU,CAAC,EAAE;AACnB,IAAI,OAAO,CAAC,IAAI,UAAU,IAAI,OAAO,MAAM,IAAI,CAAC,CAAC,WAAW,KAAK,MAAM,IAAI,CAAC,KAAK,MAAM,CAAC,SAAS,GAAG,QAAQ,GAAG,OAAO,CAAC,CAAC;AACxH,GAAG,EAAE,yBAAyB,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC/F,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,OAAO,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACTtG,IAAI,OAAO,GAAGO,SAAsB,CAAC,SAAS,CAAC,CAAC;AAChD,SAAS,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE;AACnC,EAAE,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,EAAE,OAAO,KAAK,CAAC;AAClE,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AACvC,EAAE,IAAI,IAAI,KAAK,SAAS,EAAE;AAC1B,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,IAAI,SAAS,CAAC,CAAC;AAClD,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE,OAAO,GAAG,CAAC;AAC9C,IAAI,MAAM,IAAI,SAAS,CAAC,8CAA8C,CAAC,CAAC;AACxE,GAAG;AACH,EAAE,OAAO,CAAC,IAAI,KAAK,QAAQ,GAAG,MAAM,GAAG,MAAM,EAAE,KAAK,CAAC,CAAC;AACtD,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,YAAY,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACX3G,IAAI,OAAO,GAAGA,SAAsB,CAAC,SAAS,CAAC,CAAC;AACF;AAC9C,SAAS,cAAc,CAAC,GAAG,EAAE;AAC7B,EAAE,IAAI,GAAG,GAAG,WAAW,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;AACvC,EAAE,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,QAAQ,GAAG,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AACvD,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,cAAc,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACL7G,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;AAC1C,EAAE,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;AAC3B,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE;AAClB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;AACpC,MAAM,KAAK,EAAE,KAAK;AAClB,MAAM,UAAU,EAAE,IAAI;AACtB,MAAM,YAAY,EAAE,IAAI;AACxB,MAAM,QAAQ,EAAE,IAAI;AACpB,KAAK,CAAC,CAAC;AACP,GAAG,MAAM;AACT,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AACrB,GAAG;AACH,EAAE,OAAO,GAAG,CAAC;AACb,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,eAAe,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACf9G,SAAS,eAAe,CAAC,GAAG,EAAE;AAC9B,EAAE,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,GAAG,CAAC;AACrC,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,eAAe,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACH9G,SAAS,qBAAqB,CAAC,CAAC,EAAE,CAAC,EAAE;AACrC,EAAE,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,IAAI,GAAG,WAAW,IAAI,OAAO,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,CAAC;AACnG,EAAE,IAAI,IAAI,IAAI,CAAC,EAAE;AACjB,IAAI,IAAI,CAAC;AACT,MAAM,CAAC;AACP,MAAM,CAAC;AACP,MAAM,CAAC;AACP,MAAM,CAAC,GAAG,EAAE;AACZ,MAAM,CAAC,GAAG,CAAC,CAAC;AACZ,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;AACb,IAAI,IAAI;AACR,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,EAAE;AAC7C,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,OAAO;AACpC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;AACf,OAAO,MAAM,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC9F,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AACpB,KAAK,SAAS;AACd,MAAM,IAAI;AACV,QAAQ,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO;AACtF,OAAO,SAAS;AAChB,QAAQ,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC;AACvB,OAAO;AACP,KAAK;AACL,IAAI,OAAO,CAAC,CAAC;AACb,GAAG;AACH,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,qBAAqB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;AC3BpH,SAAS,gBAAgB,GAAG;AAC5B,EAAE,MAAM,IAAI,SAAS,CAAC,2IAA2I,CAAC,CAAC;AACnK,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,gBAAgB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACC/G,SAAS,cAAc,CAAC,GAAG,EAAE,CAAC,EAAE;AAChC,EAAE,OAAO,cAAc,CAAC,GAAG,CAAC,IAAI,oBAAoB,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,0BAA0B,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,eAAe,EAAE,CAAC;AACxH,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,cAAc,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACP7G,SAAS,6BAA6B,CAAC,MAAM,EAAE,QAAQ,EAAE;AACzD,EAAE,IAAI,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC;AAChC,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;AAClB,EAAE,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACvC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;AACb,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,IAAI,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACxB,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS;AAC7C,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAC9B,GAAG;AACH,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,6BAA6B,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;ACX5H,SAAS,wBAAwB,CAAC,MAAM,EAAE,QAAQ,EAAE;AACpD,EAAE,IAAI,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC;AAChC,EAAE,IAAI,MAAM,GAAG,4BAA4B,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AAC9D,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;AACb,EAAE,IAAI,MAAM,CAAC,qBAAqB,EAAE;AACpC,IAAI,IAAI,gBAAgB,GAAG,MAAM,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;AAChE,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAClD,MAAM,GAAG,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;AAChC,MAAM,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS;AAC/C,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,SAAS;AAC7E,MAAM,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAChC,KAAK;AACL,GAAG;AACH,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC;AACD,MAAA,CAAA,OAAc,GAAG,wBAAwB,EAAE,MAAyB,CAAA,OAAA,CAAA,UAAA,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO,CAAA;;;;;;;;ACmGvH;AACO,IAAMvE,KAAK,GAAmB;EACnCwE,KAAK,EAAA,SAAAA,KAACC,CAAAA,KAAY,EAAiC;AAAA,IAAA,IAA/B/D,OAAA,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAA6B,EAAE,CAAA;AACjD,IAAA,IAAAG,gBAAA,GAA4BJ,OAAO,CAA3BK,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA,CAAA;AACvB,IAAA,IAAQ4D,MAAM,GAAYD,KAAK,CAAvBC,MAAM;MAAEC,KAAK,GAAKF,KAAK,CAAfE,KAAK,CAAA;AACrB,IAAA,OAAO3E,KAAK,CAAC4E,UAAU,CAACH,KAAK,CAAC,KAAK1D,OAAO,GACtC,CAAC2D,MAAM,EAAEC,KAAK,CAAC,GACf,CAACA,KAAK,EAAED,MAAM,CAAC,CAAA;GACpB;EAEDG,GAAG,EAAA,SAAAA,GAACJ,CAAAA,KAAY,EAAA;AACd,IAAA,IAAAK,YAAA,GAAgB9E,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;MAAAM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAzBD,MAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;AACZ,IAAA,OAAOF,GAAG,CAAA;GACX;AAED9C,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAAC0C,KAAY,EAAErD,OAAc,EAAA;IACjC,OACEtB,KAAK,CAACiC,MAAM,CAAC0C,KAAK,CAACC,MAAM,EAAEtD,OAAO,CAACsD,MAAM,CAAC,IAC1C5E,KAAK,CAACiC,MAAM,CAAC0C,KAAK,CAACE,KAAK,EAAEvD,OAAO,CAACuD,KAAK,CAAC,CAAA;GAE3C;AAEDM,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACR,KAAY,EAAES,MAAa,EAAA;IACnC,IAAMC,iBAAiB,GAAGnF,KAAK,CAACoF,YAAY,CAACX,KAAK,EAAES,MAAM,CAAC,CAAA;IAC3D,IAAI,CAACC,iBAAiB,EAAE;AACtB,MAAA,OAAO,KAAK,CAAA;AACb,KAAA;AACD,IAAA,OAAOnF,KAAK,CAAC+B,MAAM,CAACoD,iBAAiB,EAAED,MAAM,CAAC,CAAA;GAC/C;AAEDG,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAACZ,KAAY,EAAES,MAAgB,EAAA;AACrC,IAAA,IAAII,QAAQ,CAACC,OAAO,CAACL,MAAM,CAAC,EAAE;MAC5B,IACElF,KAAK,CAACqF,QAAQ,CAACZ,KAAK,EAAES,MAAM,CAACR,MAAM,CAAC,IACpC1E,KAAK,CAACqF,QAAQ,CAACZ,KAAK,EAAES,MAAM,CAACP,KAAK,CAAC,EACnC;AACA,QAAA,OAAO,IAAI,CAAA;AACZ,OAAA;AAED,MAAA,IAAAa,aAAA,GAAiBxF,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;QAAAgB,aAAA,GAAAT,cAAA,CAAAQ,aAAA,EAAA,CAAA,CAAA;AAA5BE,QAAAA,EAAE,GAAAD,aAAA,CAAA,CAAA,CAAA;AAAEE,QAAAA,EAAE,GAAAF,aAAA,CAAA,CAAA,CAAA,CAAA;AACb,MAAA,IAAAG,aAAA,GAAiB5F,KAAK,CAACwE,KAAK,CAACU,MAAM,CAAC;QAAAW,aAAA,GAAAb,cAAA,CAAAY,aAAA,EAAA,CAAA,CAAA;AAA7BE,QAAAA,EAAE,GAAAD,aAAA,CAAA,CAAA,CAAA;AAAEE,QAAAA,EAAE,GAAAF,aAAA,CAAA,CAAA,CAAA,CAAA;AACb,MAAA,OAAO/F,KAAK,CAACyC,QAAQ,CAACmD,EAAE,EAAEI,EAAE,CAAC,IAAIhG,KAAK,CAACuC,OAAO,CAACsD,EAAE,EAAEI,EAAE,CAAC,CAAA;AACvD,KAAA;AAED,IAAA,IAAAC,aAAA,GAAqBhG,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;MAAAwB,aAAA,GAAAjB,cAAA,CAAAgB,aAAA,EAAA,CAAA,CAAA;AAAhCE,MAAAA,KAAK,GAAAD,aAAA,CAAA,CAAA,CAAA;AAAEpB,MAAAA,GAAG,GAAAoB,aAAA,CAAA,CAAA,CAAA,CAAA;IACjB,IAAIE,YAAY,GAAG,KAAK,CAAA;IACxB,IAAIC,WAAW,GAAG,KAAK,CAAA;AAEvB,IAAA,IAAId,QAAQ,CAACe,OAAO,CAACnB,MAAM,CAAC,EAAE;MAC5BiB,YAAY,GAAGrG,KAAK,CAAC2B,OAAO,CAACyD,MAAM,EAAEgB,KAAK,CAAC,IAAI,CAAC,CAAA;MAChDE,WAAW,GAAGtG,KAAK,CAAC2B,OAAO,CAACyD,MAAM,EAAEL,GAAG,CAAC,IAAI,CAAC,CAAA;AAC9C,KAAA,MAAM;AACLsB,MAAAA,YAAY,GAAGzG,IAAI,CAAC+B,OAAO,CAACyD,MAAM,EAAEgB,KAAK,CAACzG,IAAI,CAAC,IAAI,CAAC,CAAA;AACpD2G,MAAAA,WAAW,GAAG1G,IAAI,CAAC+B,OAAO,CAACyD,MAAM,EAAEL,GAAG,CAACpF,IAAI,CAAC,IAAI,CAAC,CAAA;AAClD,KAAA;IAED,OAAO0G,YAAY,IAAIC,WAAW,CAAA;GACnC;AAEDhB,EAAAA,YAAY,EAAAA,SAAAA,YAAAA,CAACX,KAAY,EAAErD,OAAc,EAAA;AACvC,IAAmCqD,KAAK,CAAhCC,MAAM,CAAA;MAAqBD,KAAK,CAAxBE,KAAK,CAAA;AAAK2B,UAAAA,IAAI,GAAAC,wBAAA,CAAK9B,KAAK,EAAA+B,WAAA,EAAA;AACxC,IAAA,IAAAC,aAAA,GAAiBzG,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;MAAAiC,cAAA,GAAA1B,cAAA,CAAAyB,aAAA,EAAA,CAAA,CAAA;AAA5BE,MAAAA,EAAE,GAAAD,cAAA,CAAA,CAAA,CAAA;AAAEE,MAAAA,EAAE,GAAAF,cAAA,CAAA,CAAA,CAAA,CAAA;AACb,IAAA,IAAAG,cAAA,GAAiB7G,KAAK,CAACwE,KAAK,CAACpD,OAAO,CAAC;MAAA0F,cAAA,GAAA9B,cAAA,CAAA6B,cAAA,EAAA,CAAA,CAAA;AAA9BE,MAAAA,EAAE,GAAAD,cAAA,CAAA,CAAA,CAAA;AAAEE,MAAAA,EAAE,GAAAF,cAAA,CAAA,CAAA,CAAA,CAAA;AACb,IAAA,IAAMZ,KAAK,GAAGpG,KAAK,CAACyC,QAAQ,CAACoE,EAAE,EAAEI,EAAE,CAAC,GAAGA,EAAE,GAAGJ,EAAE,CAAA;AAC9C,IAAA,IAAM9B,GAAG,GAAG/E,KAAK,CAACyC,QAAQ,CAACqE,EAAE,EAAEI,EAAE,CAAC,GAAGJ,EAAE,GAAGI,EAAE,CAAA;IAE5C,IAAIlH,KAAK,CAACyC,QAAQ,CAACsC,GAAG,EAAEqB,KAAK,CAAC,EAAE;AAC9B,MAAA,OAAO,IAAI,CAAA;AACZ,KAAA,MAAM;AACL,MAAA,OAAAe,eAAA,CAAA;AAASvC,QAAAA,MAAM,EAAEwB,KAAK;AAAEvB,QAAAA,KAAK,EAAEE,GAAAA;AAAG,OAAA,EAAKyB,IAAI,CAAA,CAAA;AAC5C,KAAA;GACF;EAED1B,UAAU,EAAA,SAAAA,UAACH,CAAAA,KAAY,EAAA;AACrB,IAAA,IAAQC,MAAM,GAAYD,KAAK,CAAvBC,MAAM;MAAEC,KAAK,GAAKF,KAAK,CAAfE,KAAK,CAAA;AACrB,IAAA,OAAO7E,KAAK,CAACuC,OAAO,CAACqC,MAAM,EAAEC,KAAK,CAAC,CAAA;GACpC;EAEDuC,WAAW,EAAA,SAAAA,WAACzC,CAAAA,KAAY,EAAA;AACtB,IAAA,IAAQC,MAAM,GAAYD,KAAK,CAAvBC,MAAM;MAAEC,KAAK,GAAKF,KAAK,CAAfE,KAAK,CAAA;AACrB,IAAA,OAAO7E,KAAK,CAACiC,MAAM,CAAC2C,MAAM,EAAEC,KAAK,CAAC,CAAA;GACnC;EAEDwC,UAAU,EAAA,SAAAA,UAAC1C,CAAAA,KAAY,EAAA;AACrB,IAAA,OAAO,CAACzE,KAAK,CAACkH,WAAW,CAACzC,KAAK,CAAC,CAAA;GACjC;EAED2C,SAAS,EAAA,SAAAA,SAAC3C,CAAAA,KAAY,EAAA;AACpB,IAAA,OAAO,CAACzE,KAAK,CAAC4E,UAAU,CAACH,KAAK,CAAC,CAAA;GAChC;EAEDc,OAAO,EAAA,SAAAA,OAAC1C,CAAAA,KAAU,EAAA;IAChB,OACEwE,QAAQ,CAACxE,KAAK,CAAC,IACf/C,KAAK,CAACuG,OAAO,CAACxD,KAAK,CAAC6B,MAAM,CAAC,IAC3B5E,KAAK,CAACuG,OAAO,CAACxD,KAAK,CAAC8B,KAAK,CAAC,CAAA;GAE7B;EAEA2C,MAAM,EAAA,UAAAA,MAAC7C,CAAAA,KAAY,EAAA;AAClB,IAAA,MAAM,CAACA,KAAK,CAACC,MAAM,EAAE,QAAQ,CAAC,CAAA;AAC9B,IAAA,MAAM,CAACD,KAAK,CAACE,KAAK,EAAE,OAAO,CAAC,CAAA;GAC7B;EAEDuB,KAAK,EAAA,SAAAA,KAACzB,CAAAA,KAAY,EAAA;AAChB,IAAA,IAAA8C,cAAA,GAAgBvH,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;MAAA+C,cAAA,GAAAxC,cAAA,CAAAuC,cAAA,EAAA,CAAA,CAAA;AAA3BrB,MAAAA,KAAK,GAAAsB,cAAA,CAAA,CAAA,CAAA,CAAA;AACZ,IAAA,OAAOtB,KAAK,CAAA;GACb;AAED9G,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CACPqF,KAAmB,EACnBnF,EAAa,EACsB;AAAA,IAAA,IAAnCoB,8EAAiC,EAAE,CAAA;IAEnC,IAAI+D,KAAK,KAAK,IAAI,EAAE;AAClB,MAAA,OAAO,IAAI,CAAA;AACZ,KAAA;AAED,IAAA,IAAAP,iBAAA,GAAgCxD,OAAO,CAA/BlB,QAAQ;AAARA,MAAAA,QAAQ,GAAA0E,iBAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,iBAAA,CAAA;AAC3B,IAAA,IAAIuD,cAA6C,CAAA;AACjD,IAAA,IAAIC,aAA4C,CAAA;IAEhD,IAAIlI,QAAQ,KAAK,QAAQ,EAAE;AACzB;AACA;AACA;AACA,MAAA,IAAM0H,WAAW,GAAGlH,KAAK,CAACkH,WAAW,CAACzC,KAAK,CAAC,CAAA;AAC5C,MAAA,IAAIzE,KAAK,CAACoH,SAAS,CAAC3C,KAAK,CAAC,EAAE;AAC1BgD,QAAAA,cAAc,GAAG,SAAS,CAAA;AAC1BC,QAAAA,aAAa,GAAGR,WAAW,GAAGO,cAAc,GAAG,UAAU,CAAA;AAC1D,OAAA,MAAM;AACLA,QAAAA,cAAc,GAAG,UAAU,CAAA;AAC3BC,QAAAA,aAAa,GAAGR,WAAW,GAAGO,cAAc,GAAG,SAAS,CAAA;AACzD,OAAA;AACF,KAAA,MAAM,IAAIjI,QAAQ,KAAK,SAAS,EAAE;AACjC,MAAA,IAAIQ,KAAK,CAACoH,SAAS,CAAC3C,KAAK,CAAC,EAAE;AAC1BgD,QAAAA,cAAc,GAAG,UAAU,CAAA;AAC3BC,QAAAA,aAAa,GAAG,SAAS,CAAA;AAC1B,OAAA,MAAM;AACLD,QAAAA,cAAc,GAAG,SAAS,CAAA;AAC1BC,QAAAA,aAAa,GAAG,UAAU,CAAA;AAC3B,OAAA;AACF,KAAA,MAAM;AACLD,MAAAA,cAAc,GAAGjI,QAAQ,CAAA;AACzBkI,MAAAA,aAAa,GAAGlI,QAAQ,CAAA;AACzB,KAAA;IACD,IAAMkF,MAAM,GAAG5E,KAAK,CAACV,SAAS,CAACqF,KAAK,CAACC,MAAM,EAAEpF,EAAE,EAAE;AAC/CE,MAAAA,QAAQ,EAAEiI,cAAAA;AACX,KAAA,CAAC,CAAA;IACF,IAAM9C,KAAK,GAAG7E,KAAK,CAACV,SAAS,CAACqF,KAAK,CAACE,KAAK,EAAErF,EAAE,EAAE;AAAEE,MAAAA,QAAQ,EAAEkI,aAAAA;AAAa,KAAE,CAAC,CAAA;AAE3E,IAAA,IAAI,CAAChD,MAAM,IAAI,CAACC,KAAK,EAAE;AACrB,MAAA,OAAO,IAAI,CAAA;AACZ,KAAA;IAED,OAAO;AAAED,MAAAA,MAAM,EAANA,MAAM;AAAEC,MAAAA,KAAK,EAALA,KAAAA;KAAO,CAAA;AAC1B,GAAA;;;ACvMF;;AAEG;AACH,IAAMgD,SAAS,GAAG,SAAZA,SAASA,CACb9E,KAAU,EAEU;AAAA,EAAA,IAAA+E,IAAA,GAAAjH,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GADwB,EAAE;IAAAkH,SAAA,GAAAD,IAAA,CAA5CE,IAAI;AAAJA,IAAAA,IAAI,GAAAD,SAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,SAAA,CAAA;AAEd,EAAA,IAAI,CAACR,QAAQ,CAACxE,KAAK,CAAC,EAAE,OAAO,KAAK,CAAA;AAElC;AACA,EAAA,IAAMkF,QAAQ,GAAG,OAAOlF,KAAK,CAACmF,KAAK,KAAK,UAAU,CAAA;EAClD,IAAID,QAAQ,EAAE,OAAO,KAAK,CAAA;EAE1B,IAAME,eAAe,GAAGH,IAAI,GACxBI,IAAI,CAACC,UAAU,CAACtF,KAAK,CAACuF,QAAQ,CAAC,GAC/BtF,KAAK,CAACC,OAAO,CAACF,KAAK,CAACuF,QAAQ,CAAC,CAAA;AAEjC,EAAA,OAAOH,eAAe,CAAA;AACxB,CAAC,CAAA;AAED;AACO,IAAMI,OAAO,GAAqB;EACvC/F,UAAU,EAAA,SAAAA,UACRO,CAAAA,KAAU,EACoC;AAAA,IAAA,IAAAyF,KAAA,GAAA3H,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAF,EAAE;MAAA4H,UAAA,GAAAD,KAAA,CAA5CR,IAAI;AAAJA,MAAAA,IAAI,GAAAS,UAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,UAAA,CAAA;AAEd,IAAA,OAAOlB,QAAQ,CAACxE,KAAK,CAAC,IAAIqF,IAAI,CAACC,UAAU,CAACtF,KAAK,CAACuF,QAAQ,EAAE;AAAEN,MAAAA,IAAI,EAAJA,IAAAA;AAAI,KAAE,CAAC,CAAA;GACpE;AAEDH,EAAAA,SAAS,EAATA,SAAS;EAETa,aAAa,EAAA,SAAAA,aACX3F,CAAAA,KAAU,EACoC;AAAA,IAAA,IAAA4F,KAAA,GAAA9H,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAF,EAAE;MAAA+H,UAAA,GAAAD,KAAA,CAA5CX,IAAI;AAAJA,MAAAA,IAAI,GAAAY,UAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,UAAA,CAAA;AAEd,IAAA,OACE5F,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,IACpBA,KAAK,CAACX,KAAK,CAAC,UAAAyG,GAAG,EAAA;AAAA,MAAA,OAAIN,OAAO,CAACV,SAAS,CAACgB,GAAG,EAAE;AAAEb,QAAAA,IAAI,EAAJA,IAAAA;OAAM,CAAC,CAAA;KAAC,CAAA,CAAA;GAEvD;EAEDc,cAAc,EAAA,SAAAA,cAACC,CAAAA,KAAU,EAAA;AACvB,IAAA,OAAQA,KAA0B,CAACT,QAAQ,KAAKvH,SAAS,CAAA;GAC1D;AAEDiI,EAAAA,aAAa,EAAE,SAAAA,aAAAA,CACbjG,KAAU,EACVkG,UAAkB,EAEJ;AAAA,IAAA,IADdC,UAAA,GAAArI,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAqB,MAAM,CAAA;IAE3B,OACEgH,SAAS,CAAC9E,KAAK,CAAC,IAAIA,KAAK,CAAmBmG,UAAU,CAAC,KAAKD,UAAU,CAAA;GAEzE;AAEDE,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAACC,OAAgB,EAAEL,KAAuB,EAAA;AAC/C,IAAA,KAAK,IAAMM,GAAG,IAAIN,KAAK,EAAE;MACvB,IAAIM,GAAG,KAAK,UAAU,EAAE;AACtB,QAAA,SAAA;AACD,OAAA;MAED,IAAID,OAAO,CAAmBC,GAAG,CAAC,KAAKN,KAAK,CAAmBM,GAAG,CAAC,EAAE;AACnE,QAAA,OAAO,KAAK,CAAA;AACb,OAAA;AACF,KAAA;AAED,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;;;;;;;;;;ACqGF;AACO,IAAMjB,IAAI,GAAkB;AACjCnE,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAACqF,IAAU,EAAE3J,IAAU,EAAA;IAC7B,IAAM4J,IAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAE3J,IAAI,CAAC,CAAA;AAEjC,IAAA,IAAIyI,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACrB,MAAA,MAAM,IAAI/F,KAAK,CAAA,wCAAA,CAAAC,MAAA,CAC4B9D,IAAI,EAAA8D,8CAAAA,CAAAA,CAAAA,MAAA,CAA+CiG,QAAQ,CAACC,SAAS,CAC5GJ,IAAI,CACL,CAAE,CACJ,CAAA;AACF,KAAA;AAED,IAAA,OAAOA,IAAI,CAAA;GACZ;AAEA5I,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CACR2I,IAAU,EACV3J,IAAU,EAAA;AAAA,IAAA,IACViB,8EAAgC,EAAE,CAAA;IAAA,OAAA,aAAA;MAAA,IAAAgJ,SAAA,GAAAC,4BAAA,CAElBjK,IAAI,CAACe,SAAS,CAAChB,IAAI,EAAEiB,OAAO,CAAC,CAAA;QAAAkJ,KAAA,CAAA;AAAA,MAAA,IAAA;QAA7C,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAA+C;AAAA,UAAA,IAApC9F,CAAC,GAAA4F,KAAA,CAAA/G,KAAA,CAAA;UACV,IAAMV,CAAC,GAAG+F,IAAI,CAACnE,QAAQ,CAACqF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AAChC,UAAA,IAAM+F,KAAK,GAAwB,CAAC5H,CAAC,EAAE6B,CAAC,CAAC,CAAA;AACzC,UAAA,MAAM+F,KAAK,CAAA;AACZ,SAAA;AAAA,OAAA,CAAA,OAAAC,GAAA,EAAA;QAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAAN,QAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,OAAA;KACF,EAAA,CAAA;AAAA,GAAA;AAEDC,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAACf,IAAU,EAAEgB,KAAa,EAAA;AAC7B,IAAA,IAAIlC,IAAI,CAACqB,MAAM,CAACH,IAAI,CAAC,EAAE;AACrB,MAAA,MAAM,IAAI9F,KAAK,CAAAC,uCAAAA,CAAAA,MAAA,CAC2BiG,QAAQ,CAACC,SAAS,CAACL,IAAI,CAAC,CAAE,CACnE,CAAA;AACF,KAAA;AAED,IAAA,IAAMiB,CAAC,GAAGjB,IAAI,CAAChB,QAAQ,CAACgC,KAAK,CAAe,CAAA;IAE5C,IAAIC,CAAC,IAAI,IAAI,EAAE;AACb,MAAA,MAAM,IAAI/G,KAAK,CAAA,6BAAA,CAAAC,MAAA,CACkB6G,KAAK,EAAA7G,aAAAA,CAAAA,CAAAA,MAAA,CAAeiG,QAAQ,CAACC,SAAS,CACnEL,IAAI,CACL,CAAE,CACJ,CAAA;AACF,KAAA;AAED,IAAA,OAAOiB,CAAC,CAAA;GACT;AAEAjC,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CACPgB,IAAU,EACV3J,IAAU,EAAA;AAAA,IAAA,IACViB,8EAA+B,EAAE,CAAA;IAAA,OAAA,aAAA;AAEjC,MAAA,IAAAI,gBAAA,GAA4BJ,OAAO,CAA3BK,OAAO;AAAPA,QAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA,CAAA;MACvB,IAAMiD,QAAQ,GAAGmE,IAAI,CAACnE,QAAQ,CAACqF,IAAI,EAAE3J,IAAI,CAAC,CAAA;AAC1C,MAAA,IAAQ2I,QAAQ,GAAKrE,QAAQ,CAArBqE,QAAQ,CAAA;MAChB,IAAIgC,KAAK,GAAGrJ,OAAO,GAAGqH,QAAQ,CAACxH,MAAM,GAAG,CAAC,GAAG,CAAC,CAAA;MAE7C,OAAOG,OAAO,GAAGqJ,KAAK,IAAI,CAAC,GAAGA,KAAK,GAAGhC,QAAQ,CAACxH,MAAM,EAAE;QACrD,IAAMuJ,KAAK,GAAGjC,IAAI,CAACiC,KAAK,CAACpG,QAAQ,EAAEqG,KAAK,CAAC,CAAA;AACzC,QAAA,IAAME,SAAS,GAAG7K,IAAI,CAAC8D,MAAM,CAAC6G,KAAK,CAAC,CAAA;AACpC,QAAA,MAAM,CAACD,KAAK,EAAEG,SAAS,CAAC,CAAA;QACxBF,KAAK,GAAGrJ,OAAO,GAAGqJ,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC,CAAA;AACxC,OAAA;KACF,EAAA,CAAA;AAAA,GAAA;AAEDjJ,EAAAA,MAAM,WAAAA,MAACiI,CAAAA,IAAU,EAAE3J,IAAU,EAAE2B,OAAa,EAAA;IAC1C,IAAM4C,CAAC,GAAGtE,IAAI,CAACyB,MAAM,CAAC1B,IAAI,EAAE2B,OAAO,CAAC,CAAA;IACpC,IAAMe,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AAC3B,IAAA,OAAO,CAAC7B,CAAC,EAAE6B,CAAC,CAAC,CAAA;GACd;AAEDuG,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAACnB,IAAU,EAAE3J,IAAU,EAAA;IAC/B,IAAM4J,IAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAE3J,IAAI,CAAC,CAAA;AAEjC,IAAA,IAAIyI,IAAI,CAACH,QAAQ,CAACsB,IAAI,CAAC,EAAE;AACvB,MAAA,MAAM,IAAI/F,KAAK,CAAA,0CAAA,CAAAC,MAAA,CAC8B9D,IAAI,EAAA8D,uDAAAA,CAAAA,CAAAA,MAAA,CAAwDiG,QAAQ,CAACC,SAAS,CACvHJ,IAAI,CACL,CAAE,CACJ,CAAA;AACF,KAAA;AAED,IAAA,OAAOA,IAAI,CAAA;GACZ;EAEAmB,WAAW,EAAA,SAAAA,YACVpB,IAAU,EAAA;AAAA,IAAA,IACV1I,8EAAkC,EAAE,CAAA;IAAA,OAAA,aAAA;MAAA,IAAA+J,UAAA,GAAAd,4BAAA,CAETzB,IAAI,CAACwC,KAAK,CAACtB,IAAI,EAAE1I,OAAO,CAAC,CAAA;QAAAiK,MAAA,CAAA;AAAA,MAAA,IAAA;QAApD,KAAAF,UAAA,CAAAZ,CAAA,EAAAc,EAAAA,CAAAA,CAAAA,MAAA,GAAAF,UAAA,CAAAtI,CAAA,EAAA2H,EAAAA,IAAA,GAAsD;AAAA,UAAA,IAAAc,YAAA,GAAA5F,cAAA,CAAA2F,MAAA,CAAA9H,KAAA,EAAA,CAAA,CAAA;AAA1CwG,YAAAA,IAAI,GAAAuB,YAAA,CAAA,CAAA,CAAA;AAAEnL,YAAAA,IAAI,GAAAmL,YAAA,CAAA,CAAA,CAAA,CAAA;AACpB,UAAA,IAAInL,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB;AACA;AACA,YAAA,MAAM,CAACyI,IAAI,EAAE5J,IAAI,CAA0B,CAAA;AAC5C,WAAA;AACF,SAAA;AAAA,OAAA,CAAA,OAAAuK,GAAA,EAAA;QAAAS,UAAA,CAAAR,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAAS,QAAAA,UAAA,CAAAP,CAAA,EAAA,CAAA;AAAA,OAAA;KACF,EAAA,CAAA;AAAA,GAAA;EAEAW,QAAQ,EAAA,SAAAA,SACPzB,IAAU,EAAA;AAAA,IAAA,IACV1I,8EAA+B,EAAE,CAAA;IAAA,OAAA,aAAA;MAAA,IAAAoK,UAAA,GAAAnB,4BAAA,CAENzB,IAAI,CAACwC,KAAK,CAACtB,IAAI,EAAE1I,OAAO,CAAC,CAAA;QAAAqK,MAAA,CAAA;AAAA,MAAA,IAAA;QAApD,KAAAD,UAAA,CAAAjB,CAAA,EAAAkB,EAAAA,CAAAA,CAAAA,MAAA,GAAAD,UAAA,CAAA3I,CAAA,EAAA2H,EAAAA,IAAA,GAAsD;AAAA,UAAA,IAAAkB,YAAA,GAAAhG,cAAA,CAAA+F,MAAA,CAAAlI,KAAA,EAAA,CAAA,CAAA;AAA1CwG,YAAAA,IAAI,GAAA2B,YAAA,CAAA,CAAA,CAAA;AAAEvL,YAAAA,IAAI,GAAAuL,YAAA,CAAA,CAAA,CAAA,CAAA;AACpB,UAAA,IAAI9C,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,EAAE;AACxB,YAAA,MAAM,CAACA,IAAI,EAAE5J,IAAI,CAAC,CAAA;AACnB,WAAA;AACF,SAAA;AAAA,OAAA,CAAA,OAAAuK,GAAA,EAAA;QAAAc,UAAA,CAAAb,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAAc,QAAAA,UAAA,CAAAZ,CAAA,EAAA,CAAA;AAAA,OAAA;KACF,EAAA,CAAA;AAAA,GAAA;EAEDe,YAAY,EAAA,SAAAA,YAAC5B,CAAAA,IAAU,EAAA;AACrB,IAAA,IAAInB,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACrB,MAAgCA,IAAI,CAA5B6B,IAAI,CAAA;AAAKC,YAAAA,UAAU,GAAA5E,wBAAA,CAAK8C,IAAI,EAAA7C,WAAA,EAAA;AAEpC,MAAA,OAAO2E,UAAU,CAAA;AAClB,KAAA,MAAM;AACL,MAAoC9B,IAAI,CAAhCjB,QAAQ,CAAA;AAAK+C,YAAAA,WAAU,GAAA5E,wBAAA,CAAK8C,IAAI,EAAA+B,YAAA,EAAA;AAExC,MAAA,OAAOD,WAAU,CAAA;AAClB,KAAA;GACF;AAEDE,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAACjC,IAAU,EAAE3J,IAAU,EAAA;AAC1B,IAAA,IAAMuE,CAAC,GAAGvE,IAAI,CAACyB,KAAK,EAAE,CAAA;IACtB,IAAIiB,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AAEzB,IAAA,OAAO7B,CAAC,EAAE;AACR,MAAA,IAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIA,CAAC,CAACiG,QAAQ,CAACxH,MAAM,KAAK,CAAC,EAAE;AAC7C,QAAA,MAAA;AACD,OAAA,MAAM;AACLuB,QAAAA,CAAC,GAAGA,CAAC,CAACiG,QAAQ,CAAC,CAAC,CAAC,CAAA;AACjBpE,QAAAA,CAAC,CAACxC,IAAI,CAAC,CAAC,CAAC,CAAA;AACV,OAAA;AACF,KAAA;AAED,IAAA,OAAO,CAACW,CAAC,EAAE6B,CAAC,CAAC,CAAA;GACd;AAEDsH,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAA8BlC,IAAO,EAAE3E,KAAY,EAAA;AACzD,IAAA,IAAM8G,OAAO,GAAG;MAAEnD,QAAQ,EAAEgB,IAAI,CAAChB,QAAAA;KAAU,CAAA;AAE3C,IAAA,IAAAtD,YAAA,GAAqB9E,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;MAAAM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAhCoB,MAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,MAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;AACjB,IAAA,IAAMyG,WAAW,GAAGtD,IAAI,CAACwC,KAAK,CAACa,OAAO,EAAE;AACtCxK,MAAAA,OAAO,EAAE,IAAI;MACb0K,IAAI,EAAE,SAAAA,IAAAA,CAAA7D,IAAA,EAAA;AAAA,QAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAInI,UAAAA,IAAI,GAAA6I,KAAA,CAAA,CAAA,CAAA,CAAA;QAAA,OAAM,CAACtI,KAAK,CAACqF,QAAQ,CAACZ,KAAK,EAAEhF,IAAI,CAAC,CAAA;AAAA,OAAA;AACjD,KAAA,CAAC,CAAA;AAAA,IAAA,IAAAiM,UAAA,GAAA/B,4BAAA,CAEqB6B,WAAW,CAAA;MAAAG,MAAA,CAAA;AAAA,IAAA,IAAA;MAAA,IAAAC,KAAA,GAAAA,SAAAA,KAAAA,GAAE;AAAA,QAAA,IAAAC,YAAA,GAAA7G,cAAA,CAAA2G,MAAA,CAAA9I,KAAA,EAAA,CAAA,CAAA;AAAtBpD,UAAAA,IAAI,GAAAoM,YAAA,CAAA,CAAA,CAAA,CAAA;QAChB,IAAI,CAAC7L,KAAK,CAACqF,QAAQ,CAACZ,KAAK,EAAEhF,IAAI,CAAC,EAAE;UAChC,IAAM2K,KAAK,GAAG3K,IAAI,CAACA,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;UAEnCkL,cAAc,CAACP,OAAO,EAAE7L,IAAI,CAACkE,MAAM,CAACnE,IAAI,CAAC,EAAE,UAAA2I,QAAQ,EAAA;AAAA,YAAA,OACjD2D,cAAc,CAAC3D,QAAQ,EAAEgC,KAAK,EAAE,CAAC,CAAC,CAAA;WACnC,CAAA,CAAA;AACF,SAAA;QAED,IAAI1K,IAAI,CAACqC,MAAM,CAACtC,IAAI,EAAEoF,GAAG,CAACpF,IAAI,CAAC,EAAE;AAC/BuM,UAAAA,UAAU,CAACT,OAAO,EAAE9L,IAAI,EAAE,UAAA4J,IAAI,EAAG;AAC/B,YAAA,IAAM4C,MAAM,GAAG5C,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAAC,CAAC,EAAE2D,GAAG,CAACqH,MAAM,CAAC,CAAA;AAC7C,YAAA,OAAAjF,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAYoC,IAAI,CAAA,EAAA,EAAA,EAAA;AAAE6B,cAAAA,IAAI,EAAEe,MAAAA;AAAM,aAAA,CAAA,CAAA;AAChC,WAAC,CAAC,CAAA;AACH,SAAA;QAED,IAAIvM,IAAI,CAACqC,MAAM,CAACtC,IAAI,EAAEyG,KAAK,CAACzG,IAAI,CAAC,EAAE;AACjCuM,UAAAA,UAAU,CAACT,OAAO,EAAE9L,IAAI,EAAE,UAAA4J,IAAI,EAAG;YAC/B,IAAM4C,MAAM,GAAG5C,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAACgF,KAAK,CAACgG,MAAM,CAAC,CAAA;AAC5C,YAAA,OAAAjF,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAYoC,IAAI,CAAA,EAAA,EAAA,EAAA;AAAE6B,cAAAA,IAAI,EAAEe,MAAAA;AAAM,aAAA,CAAA,CAAA;AAChC,WAAC,CAAC,CAAA;AACH,SAAA;OACF,CAAA;MAtBD,KAAAP,UAAA,CAAA7B,CAAA,EAAA8B,EAAAA,CAAAA,CAAAA,MAAA,GAAAD,UAAA,CAAAvJ,CAAA,EAAA,EAAA2H,IAAA,GAAA;QAAA8B,KAAA,EAAA,CAAA;AAAA,OAAA;AAsBC,KAAA,CAAA,OAAA5B,GAAA,EAAA;MAAA0B,UAAA,CAAAzB,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAA0B,MAAAA,UAAA,CAAAxB,CAAA,EAAA,CAAA;AAAA,KAAA;IAED,OAAOqB,OAAO,CAACnD,QAAQ,CAAA;GACxB;AAEDkB,EAAAA,GAAG,EAAAA,SAAAA,GAAAA,CAACF,IAAU,EAAE3J,IAAU,EAAA;IACxB,IAAM4J,IAAI,GAAGnB,IAAI,CAACiE,KAAK,CAAC/C,IAAI,EAAE3J,IAAI,CAAC,CAAA;IACnC,IAAI4J,IAAI,KAAKxI,SAAS,EAAE;AACtB,MAAA,MAAM,IAAIyC,KAAK,CAAA,oCAAA,CAAAC,MAAA,CACwB9D,IAAI,EAAA8D,aAAAA,CAAAA,CAAAA,MAAA,CAAciG,QAAQ,CAACC,SAAS,CACvEL,IAAI,CACL,CAAE,CACJ,CAAA;AACF,KAAA;AACD,IAAA,OAAOC,IAAI,CAAA;GACZ;AAED8C,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAAC/C,IAAU,EAAE3J,IAAU,EAAA;IAC1B,IAAI4J,IAAI,GAAGD,IAAI,CAAA;AAEf,IAAA,KAAK,IAAI/H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG5B,IAAI,CAACmB,MAAM,EAAES,CAAC,EAAE,EAAE;AACpC,MAAA,IAAM2C,CAAC,GAAGvE,IAAI,CAAC4B,CAAC,CAAC,CAAA;AAEjB,MAAA,IAAI6G,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAACpE,CAAC,CAAC,EAAE;AAC1C,QAAA,OAAA;AACD,OAAA;AAEDqF,MAAAA,IAAI,GAAGA,IAAI,CAACjB,QAAQ,CAACpE,CAAC,CAAC,CAAA;AACxB,KAAA;AAED,IAAA,OAAOqF,IAAI,CAAA;GACZ;AAED+C,EAAAA,GAAG,EAAAA,SAAAA,GAAAA,CAAChD,IAAU,EAAE3J,IAAU,EAAA;IACxB,IAAI4J,IAAI,GAAGD,IAAI,CAAA;AAEf,IAAA,KAAK,IAAI/H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG5B,IAAI,CAACmB,MAAM,EAAES,CAAC,EAAE,EAAE;AACpC,MAAA,IAAM2C,CAAC,GAAGvE,IAAI,CAAC4B,CAAC,CAAC,CAAA;AAEjB,MAAA,IAAI6G,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAACpE,CAAC,CAAC,EAAE;AAC1C,QAAA,OAAO,KAAK,CAAA;AACb,OAAA;AAEDqF,MAAAA,IAAI,GAAGA,IAAI,CAACjB,QAAQ,CAACpE,CAAC,CAAC,CAAA;AACxB,KAAA;AAED,IAAA,OAAO,IAAI,CAAA;GACZ;EAED1B,UAAU,EAAA,SAAAA,UAAC+G,CAAAA,IAAU,EAAA;AACnB,IAAA,OAAO,CAACnB,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,CAAA;GAC1B;EAEDtB,QAAQ,EAAA,SAAAA,QAACsB,CAAAA,IAAU,EAAA;AACjB,IAAA,OAAO,OAAQA,IAAe,CAACrB,KAAK,KAAK,UAAU,CAAA;GACpD;EAEDL,SAAS,EAAA,SAAAA,SAAC0B,CAAAA,IAAU,EAAA;AAClB,IAAA,OACEvG,KAAK,CAACC,OAAO,CAAEsG,IAAgB,CAACjB,QAAQ,CAAC,IACzC,OAAQiB,IAAe,CAACrB,KAAK,KAAK,UAAU,CAAA;GAE/C;EAEDqE,MAAM,EAAA,SAAAA,MAACxJ,CAAAA,KAAU,EAA0C;AAAA,IAAA,IAAA4F,KAAA,GAAA9H,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAF,EAAE;MAAA+H,UAAA,GAAAD,KAAA,CAAtCX,IAAI;AAAJA,MAAAA,IAAI,GAAAY,UAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,UAAA,CAAA;AAC/B,IAAA,OACE4D,IAAI,CAAC/C,MAAM,CAAC1G,KAAK,CAAC,IAClBwF,OAAO,CAACV,SAAS,CAAC9E,KAAK,EAAE;AAAEiF,MAAAA,IAAI,EAAJA,IAAAA;KAAM,CAAC,IAClCyE,MAAM,CAACxE,QAAQ,CAAClF,KAAK,EAAE;AAAEiF,MAAAA,IAAI,EAAJA,IAAAA;AAAI,KAAE,CAAC,CAAA;GAEnC;EAEDK,UAAU,EAAA,SAAAA,UACRtF,CAAAA,KAAU,EAC8B;AAAA,IAAA,IAAA2J,KAAA,GAAA7L,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAF,EAAE;MAAA8L,UAAA,GAAAD,KAAA,CAAtC1E,IAAI;AAAJA,MAAAA,IAAI,GAAA2E,UAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,UAAA,CAAA;AAEd,IAAA,OACE3J,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,IAAIA,KAAK,CAACX,KAAK,CAAC,UAAAyG,GAAG,EAAA;AAAA,MAAA,OAAIT,IAAI,CAACmE,MAAM,CAAC1D,GAAG,EAAE;AAAEb,QAAAA,IAAI,EAAJA,IAAAA;AAAM,OAAA,CAAC,CAAA;KAAC,CAAA,CAAA;GAEzE;EAEDyB,MAAM,EAAA,SAAAA,MAACF,CAAAA,IAAU,EAAA;AACf,IAAA,OAAO,OAAQA,IAAa,CAAC6B,IAAI,KAAK,QAAQ,CAAA;GAC/C;AAED1H,EAAAA,IAAI,EAAAA,SAAAA,IAAAA,CAAC4F,IAAU,EAAE3J,IAAU,EAAA;AACzB,IAAA,IAAMuE,CAAC,GAAGvE,IAAI,CAACyB,KAAK,EAAE,CAAA;IACtB,IAAIiB,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AAEzB,IAAA,OAAO7B,CAAC,EAAE;AACR,MAAA,IAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIA,CAAC,CAACiG,QAAQ,CAACxH,MAAM,KAAK,CAAC,EAAE;AAC7C,QAAA,MAAA;AACD,OAAA,MAAM;QACL,IAAMS,CAAC,GAAGc,CAAC,CAACiG,QAAQ,CAACxH,MAAM,GAAG,CAAC,CAAA;AAC/BuB,QAAAA,CAAC,GAAGA,CAAC,CAACiG,QAAQ,CAAC/G,CAAC,CAAC,CAAA;AACjB2C,QAAAA,CAAC,CAACxC,IAAI,CAACH,CAAC,CAAC,CAAA;AACV,OAAA;AACF,KAAA;AAED,IAAA,OAAO,CAACc,CAAC,EAAE6B,CAAC,CAAC,CAAA;GACd;AAED0I,EAAAA,IAAI,EAAAA,SAAAA,IAAAA,CAACtD,IAAU,EAAE3J,IAAU,EAAA;IACzB,IAAM4J,IAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAE3J,IAAI,CAAC,CAAA;AAEjC,IAAA,IAAI,CAACyI,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACtB,MAAA,MAAM,IAAI/F,KAAK,CAAA,oCAAA,CAAAC,MAAA,CACwB9D,IAAI,EAAA8D,0CAAAA,CAAAA,CAAAA,MAAA,CAA2CiG,QAAQ,CAACC,SAAS,CACpGJ,IAAI,CACL,CAAE,CACJ,CAAA;AACF,KAAA;AAED,IAAA,OAAOA,IAAI,CAAA;GACZ;AAEApI,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CACLmI,IAAU,EACV3J,IAAU,EAAA;AAAA,IAAA,IACViB,8EAA6B,EAAE,CAAA;IAAA,OAAA,aAAA;MAAA,IAAAiM,UAAA,GAAAhD,4BAAA,CAEfjK,IAAI,CAACuB,MAAM,CAACxB,IAAI,EAAEiB,OAAO,CAAC,CAAA;QAAAkM,MAAA,CAAA;AAAA,MAAA,IAAA;QAA1C,KAAAD,UAAA,CAAA9C,CAAA,EAAA+C,EAAAA,CAAAA,CAAAA,MAAA,GAAAD,UAAA,CAAAxK,CAAA,EAAA2H,EAAAA,IAAA,GAA4C;AAAA,UAAA,IAAjC9F,CAAC,GAAA4I,MAAA,CAAA/J,KAAA,CAAA;UACV,IAAMV,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AAC3B,UAAA,MAAM,CAAC7B,CAAC,EAAE6B,CAAC,CAAC,CAAA;AACb,SAAA;AAAA,OAAA,CAAA,OAAAgG,GAAA,EAAA;QAAA2C,UAAA,CAAA1C,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAA2C,QAAAA,UAAA,CAAAzC,CAAA,EAAA,CAAA;AAAA,OAAA;KACF,EAAA,CAAA;AAAA,GAAA;AAEDjB,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAACI,IAAU,EAAER,KAAoB,EAAA;IACtC,OACGX,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,IACnBhB,OAAO,CAACO,cAAc,CAACC,KAAK,CAAC,IAC7BR,OAAO,CAACY,OAAO,CAACI,IAAI,EAAER,KAAK,CAAC,IAC7BX,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,IAChBiD,IAAI,CAACO,WAAW,CAAChE,KAAK,CAAC,IACvByD,IAAI,CAACrD,OAAO,CAACI,IAAI,EAAER,KAAK,CAAE,CAAA;GAE/B;EAEA6B,KAAK,EAAA,SAAAA,MACJtB,IAAU,EAAA;AAAA,IAAA,IACV1I,8EAA4B,EAAE,CAAA;IAAA,OAAA,aAAA;AAE9B,MAAA,IAAQ+K,IAAI,GAAsB/K,OAAO,CAAjC+K,IAAI;QAAAtI,iBAAA,GAAsBzC,OAAO,CAA3BK,OAAO;AAAPA,QAAAA,OAAO,GAAAoC,iBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,iBAAA,CAAA;AAC7B,MAAA,IAAA2J,aAAA,GAA0BpM,OAAO,CAAzBqM,IAAI;AAAJA,QAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,aAAA;QAAEE,EAAE,GAAKtM,OAAO,CAAdsM,EAAE,CAAA;AACrB,MAAA,IAAMC,OAAO,GAAG,IAAIC,GAAG,EAAE,CAAA;MACzB,IAAIlJ,CAAC,GAAS,EAAE,CAAA;MAChB,IAAI7B,CAAC,GAAGiH,IAAI,CAAA;AAEZ,MAAA,OAAO,IAAI,EAAE;QACX,IAAI4D,EAAE,KAAKjM,OAAO,GAAGrB,IAAI,CAAC6C,QAAQ,CAACyB,CAAC,EAAEgJ,EAAE,CAAC,GAAGtN,IAAI,CAAC2C,OAAO,CAAC2B,CAAC,EAAEgJ,EAAE,CAAC,CAAC,EAAE;AAChE,UAAA,MAAA;AACD,SAAA;AAED,QAAA,IAAI,CAACC,OAAO,CAACb,GAAG,CAACjK,CAAC,CAAC,EAAE;AACnB,UAAA,MAAM,CAACA,CAAC,EAAE6B,CAAC,CAAC,CAAA;AACb,SAAA;AAED;AACA,QAAA,IACE,CAACiJ,OAAO,CAACb,GAAG,CAACjK,CAAC,CAAC,IACf,CAAC+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IACfA,CAAC,CAACiG,QAAQ,CAACxH,MAAM,KAAK,CAAC,KACtB6K,IAAI,IAAI,IAAI,IAAIA,IAAI,CAAC,CAACtJ,CAAC,EAAE6B,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,EACxC;AACAiJ,UAAAA,OAAO,CAACE,GAAG,CAAChL,CAAC,CAAC,CAAA;AACd,UAAA,IAAIiL,SAAS,GAAGrM,OAAO,GAAGoB,CAAC,CAACiG,QAAQ,CAACxH,MAAM,GAAG,CAAC,GAAG,CAAC,CAAA;UAEnD,IAAIlB,IAAI,CAAC4C,UAAU,CAAC0B,CAAC,EAAE+I,IAAI,CAAC,EAAE;AAC5BK,YAAAA,SAAS,GAAGL,IAAI,CAAC/I,CAAC,CAACpD,MAAM,CAAC,CAAA;AAC3B,WAAA;AAEDoD,UAAAA,CAAC,GAAGA,CAAC,CAACT,MAAM,CAAC6J,SAAS,CAAC,CAAA;UACvBjL,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AACrB,UAAA,SAAA;AACD,SAAA;AAED;AACA,QAAA,IAAIA,CAAC,CAACpD,MAAM,KAAK,CAAC,EAAE;AAClB,UAAA,MAAA;AACD,SAAA;AAED;QACA,IAAI,CAACG,OAAO,EAAE;AACZ,UAAA,IAAMsD,OAAO,GAAG3E,IAAI,CAAC2D,IAAI,CAACW,CAAC,CAAC,CAAA;UAE5B,IAAIkE,IAAI,CAACkE,GAAG,CAAChD,IAAI,EAAE/E,OAAO,CAAC,EAAE;AAC3BL,YAAAA,CAAC,GAAGK,OAAO,CAAA;YACXlC,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AACrB,YAAA,SAAA;AACD,WAAA;AACF,SAAA;AAED;AACA,QAAA,IAAIjD,OAAO,IAAIiD,CAAC,CAACA,CAAC,CAACpD,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE;AACpC,UAAA,IAAMyD,QAAO,GAAG3E,IAAI,CAACmE,QAAQ,CAACG,CAAC,CAAC,CAAA;AAChCA,UAAAA,CAAC,GAAGK,QAAO,CAAA;UACXlC,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AACrB,UAAA,SAAA;AACD,SAAA;AAED;AACAA,QAAAA,CAAC,GAAGtE,IAAI,CAACkE,MAAM,CAACI,CAAC,CAAC,CAAA;QAClB7B,CAAC,GAAG+F,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEpF,CAAC,CAAC,CAAA;AACrBiJ,QAAAA,OAAO,CAACE,GAAG,CAAChL,CAAC,CAAC,CAAA;AACf,OAAA;KACF,EAAA,CAAA;AAAA,GAAA;AAEDyB,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAACwF,IAAU,EAAE3J,IAAU,EAAA;AAC3B,IAAA,IAAM4N,UAAU,GAAG3N,IAAI,CAACkE,MAAM,CAACnE,IAAI,CAAC,CAAA;IACpC,IAAM4J,IAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAEiE,UAAU,CAAC,CAAA;AAEvC,IAAA,IAAInF,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACrB;AACA,MAAA,MAAM,IAAI/F,KAAK,CAAA,iCAAA,CAAAC,MAAA,CACqB9D,IAAI,6CAA0C,CACjF,CAAA;AACF,KAAA;AAED,IAAA,OAAO4J,IAAI,CAAA;GACZ;EAEDiE,MAAM,EAAA,SAAAA,MAACjE,CAAAA,IAAU,EAAA;AACf,IAAA,IAAInB,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;MACrB,OAAOA,IAAI,CAAC6B,IAAI,CAAA;AACjB,KAAA,MAAM;AACL,MAAA,OAAO7B,IAAI,CAACjB,QAAQ,CAACmF,GAAG,CAACrF,IAAI,CAACoF,MAAM,CAAC,CAACE,IAAI,CAAC,EAAE,CAAC,CAAA;AAC/C,KAAA;GACF;EAEAC,KAAK,EAAA,SAAAA,MACJrE,IAAU,EAAA;AAAA,IAAA,IACV1I,8EAA4B,EAAE,CAAA;IAAA,OAAA,aAAA;MAAA,IAAAgN,UAAA,GAAA/D,4BAAA,CAEHzB,IAAI,CAACwC,KAAK,CAACtB,IAAI,EAAE1I,OAAO,CAAC,CAAA;QAAAiN,MAAA,CAAA;AAAA,MAAA,IAAA;QAApD,KAAAD,UAAA,CAAA7D,CAAA,EAAA8D,EAAAA,CAAAA,CAAAA,MAAA,GAAAD,UAAA,CAAAvL,CAAA,EAAA2H,EAAAA,IAAA,GAAsD;AAAA,UAAA,IAAA8D,YAAA,GAAA5I,cAAA,CAAA2I,MAAA,CAAA9K,KAAA,EAAA,CAAA,CAAA;AAA1CwG,YAAAA,IAAI,GAAAuE,YAAA,CAAA,CAAA,CAAA;AAAEnO,YAAAA,IAAI,GAAAmO,YAAA,CAAA,CAAA,CAAA,CAAA;AACpB,UAAA,IAAI1F,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACrB,YAAA,MAAM,CAACA,IAAI,EAAE5J,IAAI,CAAC,CAAA;AACnB,WAAA;AACF,SAAA;AAAA,OAAA,CAAA,OAAAuK,GAAA,EAAA;QAAA0D,UAAA,CAAAzD,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAA0D,QAAAA,UAAA,CAAAxD,CAAA,EAAA,CAAA;AAAA,OAAA;KACF,EAAA,CAAA;AAAA,GAAA;;;;;AC3dH;AACO,IAAM2D,SAAS,GAAuB;EAC3CC,eAAe,EAAA,SAAAA,eAACjL,CAAAA,KAAU,EAAA;AACxB,IAAA,OAAOgL,SAAS,CAACE,WAAW,CAAClL,KAAK,CAAC,IAAIA,KAAK,CAACc,IAAI,CAACqK,QAAQ,CAAC,OAAO,CAAC,CAAA;GACpE;EAEDD,WAAW,EAAA,SAAAA,WAAClL,CAAAA,KAAU,EAAA;AACpB,IAAA,IAAI,CAACwE,QAAQ,CAACxE,KAAK,CAAC,EAAE;AACpB,MAAA,OAAO,KAAK,CAAA;AACb,KAAA;IAED,QAAQA,KAAK,CAACc,IAAI;AAChB,MAAA,KAAK,aAAa;AAChB,QAAA,OAAOjE,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,IAAIyI,IAAI,CAACmE,MAAM,CAACxJ,KAAK,CAACwG,IAAI,CAAC,CAAA;AAC3D,MAAA,KAAK,aAAa;QAChB,OACE,OAAOxG,KAAK,CAACqJ,MAAM,KAAK,QAAQ,IAChC,OAAOrJ,KAAK,CAACqI,IAAI,KAAK,QAAQ,IAC9BxL,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,CAAA;AAE3B,MAAA,KAAK,YAAY;QACf,OACE,OAAOoD,KAAK,CAACsB,QAAQ,KAAK,QAAQ,IAClCzE,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,IACvB4H,QAAQ,CAACxE,KAAK,CAACsI,UAAU,CAAC,CAAA;AAE9B,MAAA,KAAK,WAAW;AACd,QAAA,OAAOzL,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,IAAIC,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACwB,OAAO,CAAC,CAAA;AAC9D,MAAA,KAAK,aAAa;AAChB,QAAA,OAAO3E,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,IAAIyI,IAAI,CAACmE,MAAM,CAACxJ,KAAK,CAACwG,IAAI,CAAC,CAAA;AAC3D,MAAA,KAAK,aAAa;QAChB,OACE,OAAOxG,KAAK,CAACqJ,MAAM,KAAK,QAAQ,IAChC,OAAOrJ,KAAK,CAACqI,IAAI,KAAK,QAAQ,IAC9BxL,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,CAAA;AAE3B,MAAA,KAAK,UAAU;QACb,OACEC,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,IACvB4H,QAAQ,CAACxE,KAAK,CAACsI,UAAU,CAAC,IAC1B9D,QAAQ,CAACxE,KAAK,CAACoL,aAAa,CAAC,CAAA;AAEjC,MAAA,KAAK,eAAe;AAClB,QAAA,OACGpL,KAAK,CAACsI,UAAU,KAAK,IAAI,IAAInL,KAAK,CAACuF,OAAO,CAAC1C,KAAK,CAACoL,aAAa,CAAC,IAC/DpL,KAAK,CAACoL,aAAa,KAAK,IAAI,IAAIjO,KAAK,CAACuF,OAAO,CAAC1C,KAAK,CAACsI,UAAU,CAAE,IAChE9D,QAAQ,CAACxE,KAAK,CAACsI,UAAU,CAAC,IAAI9D,QAAQ,CAACxE,KAAK,CAACoL,aAAa,CAAE,CAAA;AAEjE,MAAA,KAAK,YAAY;QACf,OACEvO,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,IACvB,OAAOoD,KAAK,CAACsB,QAAQ,KAAK,QAAQ,IAClCkD,QAAQ,CAACxE,KAAK,CAACsI,UAAU,CAAC,CAAA;AAE9B,MAAA;AACE,QAAA,OAAO,KAAK,CAAA;AACf,KAAA;GACF;EAED+C,eAAe,EAAA,SAAAA,eAACrL,CAAAA,KAAU,EAAA;AACxB,IAAA,OACEC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,IAAIA,KAAK,CAACX,KAAK,CAAC,UAAAyG,GAAG,EAAA;AAAA,MAAA,OAAIkF,SAAS,CAACE,WAAW,CAACpF,GAAG,CAAC,CAAA;KAAC,CAAA,CAAA;GAEzE;EAEDwF,oBAAoB,EAAA,SAAAA,oBAACtL,CAAAA,KAAU,EAAA;AAC7B,IAAA,OAAOgL,SAAS,CAACE,WAAW,CAAClL,KAAK,CAAC,IAAIA,KAAK,CAACc,IAAI,CAACqK,QAAQ,CAAC,YAAY,CAAC,CAAA;GACzE;EAEDI,eAAe,EAAA,SAAAA,eAACvL,CAAAA,KAAU,EAAA;AACxB,IAAA,OAAOgL,SAAS,CAACE,WAAW,CAAClL,KAAK,CAAC,IAAIA,KAAK,CAACc,IAAI,CAACqK,QAAQ,CAAC,OAAO,CAAC,CAAA;GACpE;EAEDK,OAAO,EAAA,SAAAA,OAAC/O,CAAAA,EAAa,EAAA;IACnB,QAAQA,EAAE,CAACqE,IAAI;AACb,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,OAAAsD,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEqE,YAAAA,IAAI,EAAE,aAAA;AAAa,WAAA,CAAA,CAAA;AACpC,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,OAAAsD,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEqE,YAAAA,IAAI,EAAE,aAAA;AAAa,WAAA,CAAA,CAAA;AACpC,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;AACjB,UAAA,OAAAsD,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEqE,YAAAA,IAAI,EAAE,YAAY;AAAElE,YAAAA,IAAI,EAAEC,IAAI,CAACmE,QAAQ,CAACvE,EAAE,CAACG,IAAI,CAAA;AAAC,WAAA,CAAA,CAAA;AACjE,SAAA;AAED,MAAA,KAAK,WAAW;AAAE,QAAA;AAChB,UAAA,IAAQ4E,OAAO,GAAW/E,EAAE,CAApB+E,OAAO;YAAE5E,IAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;AAErB;UACA,IAAIC,IAAI,CAACqC,MAAM,CAACsC,OAAO,EAAE5E,IAAI,CAAC,EAAE;AAC9B,YAAA,OAAOH,EAAE,CAAA;AACV,WAAA;AAED;AACA;UACA,IAAII,IAAI,CAACsD,SAAS,CAACvD,IAAI,EAAE4E,OAAO,CAAC,EAAE;AACjC,YAAA,OAAA4C,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEG,cAAAA,IAAI,EAAE4E,OAAO;AAAEA,cAAAA,OAAO,EAAE5E,IAAAA;AAAI,aAAA,CAAA,CAAA;AAC7C,WAAA;AAED;AACA;AACA;AACA;AACA;AACA;UACA,IAAM6O,WAAW,GAAG5O,IAAI,CAACN,SAAS,CAACK,IAAI,EAAEH,EAAE,CAAE,CAAA;AAC7C,UAAA,IAAMiP,cAAc,GAAG7O,IAAI,CAACN,SAAS,CAACM,IAAI,CAAC2D,IAAI,CAAC5D,IAAI,CAAC,EAAEH,EAAE,CAAE,CAAA;AAC3D,UAAA,OAAA2H,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEG,YAAAA,IAAI,EAAE6O,WAAW;AAAEjK,YAAAA,OAAO,EAAEkK,cAAAA;AAAc,WAAA,CAAA,CAAA;AAC3D,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,OAAAtH,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEqE,YAAAA,IAAI,EAAE,aAAA;AAAa,WAAA,CAAA,CAAA;AACpC,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,OAAAsD,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEqE,YAAAA,IAAI,EAAE,aAAA;AAAa,WAAA,CAAA,CAAA;AACpC,SAAA;AAED,MAAA,KAAK,UAAU;AAAE,QAAA;AACf,UAAA,IAAQwH,UAAU,GAAoB7L,EAAE,CAAhC6L,UAAU;YAAE8C,aAAa,GAAK3O,EAAE,CAApB2O,aAAa,CAAA;AACjC,UAAA,OAAAhH,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAE6L,YAAAA,UAAU,EAAE8C,aAAa;AAAEA,YAAAA,aAAa,EAAE9C,UAAAA;AAAU,WAAA,CAAA,CAAA;AACrE,SAAA;AAED,MAAA,KAAK,eAAe;AAAE,QAAA;AACpB,UAAA,IAAQA,WAAU,GAAoB7L,EAAE,CAAhC6L,UAAU;YAAE8C,cAAa,GAAK3O,EAAE,CAApB2O,aAAa,CAAA;UAEjC,IAAI9C,WAAU,IAAI,IAAI,EAAE;AACtB,YAAA,OAAAlE,eAAA,CAAAA,eAAA,CAAA,EAAA,EACK3H,EAAE,CAAA,EAAA,EAAA,EAAA;AACL6L,cAAAA,UAAU,EAAE8C,cAAsB;AAClCA,cAAAA,aAAa,EAAE,IAAA;AAAI,aAAA,CAAA,CAAA;AAEtB,WAAA,MAAM,IAAIA,cAAa,IAAI,IAAI,EAAE;AAChC,YAAA,OAAAhH,eAAA,CAAAA,eAAA,CAAA,EAAA,EACK3H,EAAE,CAAA,EAAA,EAAA,EAAA;AACL6L,cAAAA,UAAU,EAAE,IAAI;AAChB8C,cAAAA,aAAa,EAAE9C,WAAAA;AAAmB,aAAA,CAAA,CAAA;AAErC,WAAA,MAAM;AACL,YAAA,OAAAlE,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAE6L,cAAAA,UAAU,EAAE8C,cAAa;AAAEA,cAAAA,aAAa,EAAE9C,WAAAA;AAAU,aAAA,CAAA,CAAA;AACrE,WAAA;AACF,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;AACjB,UAAA,OAAAlE,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAY3H,EAAE,CAAA,EAAA,EAAA,EAAA;AAAEqE,YAAAA,IAAI,EAAE,YAAY;AAAElE,YAAAA,IAAI,EAAEC,IAAI,CAAC2D,IAAI,CAAC/D,EAAE,CAACG,IAAI,CAAA;AAAC,WAAA,CAAA,CAAA;AAC7D,SAAA;AACF,KAAA;AACH,GAAA;;;ICjUW4H,QAAQ,GAAG,SAAXA,QAAQA,CAAIxE,KAAU,EAAA;EAAA,OACjC2L,OAAA,CAAO3L,KAAK,CAAA,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,CAAA;AAAA;;ACC7C;;;;;;;;;AASG;AACI,IAAM4L,WAAW,GAAG,SAAdA,WAAWA,CACtBpF,IAAyB,EACzBjI,OAA4B,EACjB;AACX,EAAA,KAAK,IAAM+H,GAAG,IAAIE,IAAI,EAAE;AACtB,IAAA,IAAMqF,CAAC,GAAGrF,IAAI,CAACF,GAAG,CAAC,CAAA;AACnB,IAAA,IAAMwF,CAAC,GAAGvN,OAAO,CAAC+H,GAAG,CAAC,CAAA;AACtB,IAAA,IAAIrG,KAAK,CAACC,OAAO,CAAC2L,CAAC,CAAC,IAAI5L,KAAK,CAACC,OAAO,CAAC4L,CAAC,CAAC,EAAE;MACxC,IAAID,CAAC,CAAC9N,MAAM,KAAK+N,CAAC,CAAC/N,MAAM,EAAE,OAAO,KAAK,CAAA;AACvC,MAAA,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqN,CAAC,CAAC9N,MAAM,EAAES,CAAC,EAAE,EAAE;QACjC,IAAIqN,CAAC,CAACrN,CAAC,CAAC,KAAKsN,CAAC,CAACtN,CAAC,CAAC,EAAE,OAAO,KAAK,CAAA;AAChC,OAAA;KACF,MAAM,IAAIgG,QAAQ,CAACqH,CAAC,CAAC,IAAIrH,QAAQ,CAACsH,CAAC,CAAC,EAAE;MACrC,IAAI,CAACF,WAAW,CAACC,CAAC,EAAEC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAA;AACrC,KAAA,MAAM,IAAID,CAAC,KAAKC,CAAC,EAAE;AAClB,MAAA,OAAO,KAAK,CAAA;AACb,KAAA;AACF,GAAA;AAED;;;;AAIE;AAEF,EAAA,KAAK,IAAMxF,IAAG,IAAI/H,OAAO,EAAE;AACzB,IAAA,IAAIiI,IAAI,CAACF,IAAG,CAAC,KAAKtI,SAAS,IAAIO,OAAO,CAAC+H,IAAG,CAAC,KAAKtI,SAAS,EAAE;AACzD,MAAA,OAAO,KAAK,CAAA;AACb,KAAA;AACF,GAAA;AAED,EAAA,OAAO,IAAI,CAAA;AACb,CAAC;;AC1CD;;;;;AAKG;AACI,IAAM+N,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIC,MAAc,EAAc;EACnE,IAAIA,MAAM,CAACC,SAAS,EAAE;IACpB,OAAOD,MAAM,CAACC,SAAS,CAAA;GACxB,MAAM,IAAID,MAAM,CAACzG,QAAQ,CAACxH,MAAM,GAAG,CAAC,EAAE;AACrC,IAAA,OAAO2L,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE,EAAE,CAAC,CAAA;AAC9B,GAAA,MAAM;IACL,OAAO,CAAC,CAAC,CAAC,CAAA;AACX,GAAA;AACH,CAAC;;ACZM,IAAME,SAAS,GAAG,SAAZA,SAASA,CACpBF,MAAc,EACdpP,IAAU,EACmB;EAC7B,IAAAuP,YAAA,GAAezC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEpP,IAAI,CAAC;IAAAwP,aAAA,GAAAjK,cAAA,CAAAgK,YAAA,EAAA,CAAA,CAAA;AAAjC3F,IAAAA,IAAI,GAAA4F,aAAA,CAAA,CAAA,CAAA,CAAA;AACX,EAAA,OAAO,UAAA9M,CAAC,EAAA;IAAA,OAAIA,CAAC,KAAKkH,IAAI,CAAA;AAAA,GAAA,CAAA;AACxB,CAAC;;;;;ACVD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEG;AAEI,IAAM6F,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,GAAW,EAA2B;AAAA,EAAA,IAAzBC,KAAK,GAAAzO,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;EAC7D,IAAM0O,KAAK,GAAG,CAACD,KAAK,CAAA;EACpB,IAAME,UAAU,GAAGF,KAAK,GAAGG,qBAAqB,CAACJ,GAAG,CAAC,GAAGA,GAAG,CAAA;AAE3D,EAAA,IAAIK,IAAI,GAAkBC,aAAa,CAACC,IAAI,CAAA;AAC5C,EAAA,IAAIC,KAAK,GAAkBF,aAAa,CAACC,IAAI,CAAA;EAC7C,IAAIE,QAAQ,GAAG,CAAC,CAAA;AAChB;AACA,EAAA,IAAIC,IAAI,GAAmB,IAAI,CAAA;AAC/B,EAAA,IAAIC,QAAQ,GAAmB,IAAI,CAAA;AAAC,EAAA,IAAApG,SAAA,GAAAC,4BAAA,CAEjB2F,UAAU,CAAA;IAAA1F,KAAA,CAAA;AAAA,EAAA,IAAA;IAA7B,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAA+B;AAAA,MAAA,IAApBiG,KAAI,GAAAnG,KAAA,CAAA/G,KAAA,CAAA;AACb,MAAA,IAAMmN,IAAI,GAAGD,KAAI,CAACE,WAAW,CAAC,CAAC,CAAC,CAAA;MAChC,IAAI,CAACD,IAAI,EAAE,MAAA;AAEX,MAAA,IAAMrM,IAAI,GAAGuM,gBAAgB,CAACH,KAAI,EAAEC,IAAI,CAAC,CAAA;AACxC,MAAA,IAAApI,IAAA,GAAgByH,KAAK,GAAG,CAACM,KAAK,EAAEhM,IAAI,CAAC,GAAG,CAACA,IAAI,EAAE6L,IAAI,CAAC,CAAA;AAAA,MAAA,IAAAlH,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA,CAAA;AAAnD4H,MAAAA,IAAI,GAAAlH,KAAA,CAAA,CAAA,CAAA,CAAA;AAAEqH,MAAAA,KAAK,GAAArH,KAAA,CAAA,CAAA,CAAA,CAAA;AAEb,MAAA,IACE6H,UAAU,CAACX,IAAI,EAAEC,aAAa,CAACW,GAAG,CAAC,IACnCD,UAAU,CAACR,KAAK,EAAEF,aAAa,CAACY,OAAO,CAAC,EACxC;AACA,QAAA,IAAIhB,KAAK,EAAE;UACTQ,IAAI,GAAGS,gBAAgB,CAACnB,GAAG,CAACoB,SAAS,CAAC,CAAC,EAAEX,QAAQ,CAAC,CAAC,CAAA;AACpD,SAAA,MAAM;AACLC,UAAAA,IAAI,GAAGS,gBAAgB,CAACnB,GAAG,CAACoB,SAAS,CAAC,CAAC,EAAEpB,GAAG,CAACvO,MAAM,GAAGgP,QAAQ,CAAC,CAAC,CAAA;AACjE,SAAA;QACD,IAAI,CAACC,IAAI,EAAE,MAAA;AACZ,OAAA;AAED,MAAA,IACEM,UAAU,CAACX,IAAI,EAAEC,aAAa,CAACe,EAAE,CAAC,IAClCL,UAAU,CAACR,KAAK,EAAEF,aAAa,CAACe,EAAE,CAAC,EACnC;QACA,IAAIV,QAAQ,KAAK,IAAI,EAAE;UACrBA,QAAQ,GAAG,CAACA,QAAQ,CAAA;AACrB,SAAA,MAAM;AACL,UAAA,IAAIT,KAAK,EAAE;AACTS,YAAAA,QAAQ,GAAG,IAAI,CAAA;AAChB,WAAA,MAAM;AACLA,YAAAA,QAAQ,GAAGW,sBAAsB,CAC/BtB,GAAG,CAACoB,SAAS,CAAC,CAAC,EAAEpB,GAAG,CAACvO,MAAM,GAAGgP,QAAQ,CAAC,CACxC,CAAA;AACF,WAAA;AACF,SAAA;QACD,IAAI,CAACE,QAAQ,EAAE,MAAA;AAChB,OAAA;AAED,MAAA,IACEN,IAAI,KAAKC,aAAa,CAACC,IAAI,IAC3BC,KAAK,KAAKF,aAAa,CAACC,IAAI,IAC5BgB,cAAc,CAAClB,IAAI,EAAEG,KAAK,CAAC,EAC3B;AACA,QAAA,MAAA;AACD,OAAA;MAEDC,QAAQ,IAAIG,KAAI,CAACnP,MAAM,CAAA;AACxB,KAAA;AAAA,GAAA,CAAA,OAAAoJ,GAAA,EAAA;IAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAN,IAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,GAAA;EAED,OAAO0F,QAAQ,IAAI,CAAC,CAAA;AACtB,CAAC,CAAA;AAED,IAAMe,KAAK,GAAG,IAAI,CAAA;AAClB,IAAMC,WAAW,GACf,0yCAA0yC,CAAA;AAC5yC,IAAMC,SAAS,GAAG,iBAAiB,CAAA;AAEnC;;AAEG;AAEI,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAI5F,IAAY,EAA2B;AAAA,EAAA,IAAzBkE,KAAK,GAAAzO,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;EACzD,IAAIoQ,IAAI,GAAG,CAAC,CAAA;EACZ,IAAIC,OAAO,GAAG,KAAK,CAAA;AAEnB,EAAA,OAAO9F,IAAI,CAACtK,MAAM,GAAG,CAAC,EAAE;AACtB,IAAA,IAAMqQ,QAAQ,GAAG/B,oBAAoB,CAAChE,IAAI,EAAEkE,KAAK,CAAC,CAAA;IAClD,IAAA8B,qBAAA,GAA0BC,wBAAwB,CAACjG,IAAI,EAAE+F,QAAQ,EAAE7B,KAAK,CAAC;MAAAgC,sBAAA,GAAApM,cAAA,CAAAkM,qBAAA,EAAA,CAAA,CAAA;AAAlEnB,MAAAA,MAAI,GAAAqB,sBAAA,CAAA,CAAA,CAAA;AAAEC,MAAAA,SAAS,GAAAD,sBAAA,CAAA,CAAA,CAAA,CAAA;IAEtB,IAAIE,eAAe,CAACvB,MAAI,EAAEsB,SAAS,EAAEjC,KAAK,CAAC,EAAE;AAC3C4B,MAAAA,OAAO,GAAG,IAAI,CAAA;AACdD,MAAAA,IAAI,IAAIE,QAAQ,CAAA;AACjB,KAAA,MAAM,IAAI,CAACD,OAAO,EAAE;AACnBD,MAAAA,IAAI,IAAIE,QAAQ,CAAA;AACjB,KAAA,MAAM;AACL,MAAA,MAAA;AACD,KAAA;AAED/F,IAAAA,IAAI,GAAGmG,SAAS,CAAA;AACjB,GAAA;AAED,EAAA,OAAON,IAAI,CAAA;AACb,CAAC,CAAA;AAED;;;AAGG;AAEI,IAAMI,wBAAwB,GAAG,SAA3BA,wBAAwBA,CACnChC,GAAW,EACX4B,IAAY,EACZ3B,KAAe,EACK;AACpB,EAAA,IAAIA,KAAK,EAAE;AACT,IAAA,IAAMmC,EAAE,GAAGpC,GAAG,CAACvO,MAAM,GAAGmQ,IAAI,CAAA;IAC5B,OAAO,CAAC5B,GAAG,CAACjO,KAAK,CAACqQ,EAAE,EAAEpC,GAAG,CAACvO,MAAM,CAAC,EAAEuO,GAAG,CAACjO,KAAK,CAAC,CAAC,EAAEqQ,EAAE,CAAC,CAAC,CAAA;AACrD,GAAA;AAED,EAAA,OAAO,CAACpC,GAAG,CAACjO,KAAK,CAAC,CAAC,EAAE6P,IAAI,CAAC,EAAE5B,GAAG,CAACjO,KAAK,CAAC6P,IAAI,CAAC,CAAC,CAAA;AAC9C,CAAC,CAAA;AAED;;;AAGG;AAEH,IAAMO,eAAe,GAAG,SAAlBA,eAAeA,CACnBvB,MAAY,EACZsB,SAAiB,EAEN;AAAA,EAAA,IADXjC,KAAK,GAAAzO,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;AAEb,EAAA,IAAIgQ,KAAK,CAACa,IAAI,CAACzB,MAAI,CAAC,EAAE;AACpB,IAAA,OAAO,KAAK,CAAA;AACb,GAAA;AAED;AACA;AACA,EAAA,IAAIc,SAAS,CAACW,IAAI,CAACzB,MAAI,CAAC,EAAE;AACxB,IAAA,IAAMkB,QAAQ,GAAG/B,oBAAoB,CAACmC,SAAS,EAAEjC,KAAK,CAAC,CAAA;IACvD,IAAAqC,sBAAA,GAAkCN,wBAAwB,CACxDE,SAAS,EACTJ,QAAQ,EACR7B,KAAK,CACN;MAAAsC,sBAAA,GAAA1M,cAAA,CAAAyM,sBAAA,EAAA,CAAA,CAAA;AAJME,MAAAA,QAAQ,GAAAD,sBAAA,CAAA,CAAA,CAAA;AAAEE,MAAAA,aAAa,GAAAF,sBAAA,CAAA,CAAA,CAAA,CAAA;IAM9B,IAAIJ,eAAe,CAACK,QAAQ,EAAEC,aAAa,EAAExC,KAAK,CAAC,EAAE;AACnD,MAAA,OAAO,IAAI,CAAA;AACZ,KAAA;AACF,GAAA;AAED,EAAA,IAAIwB,WAAW,CAACY,IAAI,CAACzB,MAAI,CAAC,EAAE;AAC1B,IAAA,OAAO,KAAK,CAAA;AACb,GAAA;AAED,EAAA,OAAO,IAAI,CAAA;AACb,CAAC,CAAA;AAED;;AAEG;AAEI,IAAMR,qBAAqB,GAAG,UAAxBA,qBAAqBA,CAAcJ,GAAW,EAAA;AACzD,EAAA,IAAMtK,GAAG,GAAGsK,GAAG,CAACvO,MAAM,GAAG,CAAC,CAAA;AAE1B,EAAA,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8N,GAAG,CAACvO,MAAM,EAAES,CAAC,EAAE,EAAE;IACnC,IAAMwQ,KAAK,GAAG1C,GAAG,CAAC2C,MAAM,CAACjN,GAAG,GAAGxD,CAAC,CAAC,CAAA;IAEjC,IAAI0Q,cAAc,CAACF,KAAK,CAACG,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;MACvC,IAAMC,KAAK,GAAG9C,GAAG,CAAC2C,MAAM,CAACjN,GAAG,GAAGxD,CAAC,GAAG,CAAC,CAAC,CAAA;MACrC,IAAI6Q,eAAe,CAACD,KAAK,CAACD,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;QACxC,MAAMC,KAAK,GAAGJ,KAAK,CAAA;AAEnBxQ,QAAAA,CAAC,EAAE,CAAA;AACH,QAAA,SAAA;AACD,OAAA;AACF,KAAA;AAED,IAAA,MAAMwQ,KAAK,CAAA;AACZ,GAAA;AACH,CAAC,CAAA;AAED;;;;AAIG;AAEH,IAAMK,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,QAAgB,EAAI;AAC3C,EAAA,OAAOA,QAAQ,IAAI,MAAM,IAAIA,QAAQ,IAAI,MAAM,CAAA;AACjD,CAAC,CAAA;AAED;;;;AAIG;AAEH,IAAMJ,cAAc,GAAG,SAAjBA,cAAcA,CAAII,QAAgB,EAAI;AAC1C,EAAA,OAAOA,QAAQ,IAAI,MAAM,IAAIA,QAAQ,IAAI,MAAM,CAAA;AACjD,CAAC,CAAA;AAED,IAAK1C,aAcJ,CAAA;AAdD,CAAA,UAAKA,aAAa,EAAA;EAChBA,aAAA,CAAAA,aAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAQ,CAAA;EACRA,aAAA,CAAAA,aAAA,CAAA,QAAA,CAAA,GAAA,CAAA,CAAA,GAAA,QAAe,CAAA;EACfA,aAAA,CAAAA,aAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAY,CAAA;EACZA,aAAA,CAAAA,aAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,GAAA,IAAW,CAAA;EACXA,aAAA,CAAAA,aAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAgB,CAAA;EAChBA,aAAA,CAAAA,aAAA,CAAA,aAAA,CAAA,GAAA,EAAA,CAAA,GAAA,aAAoB,CAAA;EACpBA,aAAA,CAAAA,aAAA,CAAA,GAAA,CAAA,GAAA,EAAA,CAAA,GAAA,GAAU,CAAA;EACVA,aAAA,CAAAA,aAAA,CAAA,GAAA,CAAA,GAAA,EAAA,CAAA,GAAA,GAAU,CAAA;EACVA,aAAA,CAAAA,aAAA,CAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAU,CAAA;EACVA,aAAA,CAAAA,aAAA,CAAA,IAAA,CAAA,GAAA,GAAA,CAAA,GAAA,IAAW,CAAA;EACXA,aAAA,CAAAA,aAAA,CAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,KAAY,CAAA;EACZA,aAAA,CAAAA,aAAA,CAAA,SAAA,CAAA,GAAA,IAAA,CAAA,GAAA,SAAiB,CAAA;EACjBA,aAAA,CAAAA,aAAA,CAAA,KAAA,CAAA,GAAA,IAAA,CAAA,GAAA,KAAa,CAAA;AACf,CAAC,EAdIA,aAAa,KAAbA,aAAa,GAcjB,EAAA,CAAA,CAAA,CAAA;AAED,IAAM2C,QAAQ,GAAG,s0HAAyB,CAAA;AAC1C,IAAMC,SAAS,GACb,iJAAqJ,CAAA;AACvJ,IAAMC,aAAa,GACjB,8lDAAs4D,CAAA;AACx4D,IAAMC,GAAG,GAAG,gCAAiC,CAAA;AAC7C,IAAMC,GAAG,GAAG,gCAAiC,CAAA;AAC7C,IAAMC,GAAG,GAAG,gCAAiC,CAAA;AAC7C,IAAMC,IAAI,GACR,g2EAAi2E,CAAA;AACn2E,IAAMC,KAAK,GACT,ykKAA0kK,CAAA;AAC5kK,IAAMC,SAAS,GAAG,oyBAAgB,CAAA;AAElC,IAAM1C,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIH,MAAY,EAAEC,IAAY,EAAmB;AACrE,EAAA,IAAIrM,IAAI,GAAG8L,aAAa,CAACoD,GAAG,CAAA;EAC5B,IAAI9C,MAAI,CAAC+C,MAAM,CAACV,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;IAChCzO,IAAI,IAAI8L,aAAa,CAACsD,MAAM,CAAA;AAC7B,GAAA;EACD,IAAI/C,IAAI,KAAK,MAAM,EAAE;IACnBrM,IAAI,IAAI8L,aAAa,CAACW,GAAG,CAAA;AAC1B,GAAA;AACD,EAAA,IAAIJ,IAAI,IAAI,OAAO,IAAIA,IAAI,IAAI,OAAO,EAAE;IACtCrM,IAAI,IAAI8L,aAAa,CAACe,EAAE,CAAA;AACzB,GAAA;EACD,IAAIT,MAAI,CAAC+C,MAAM,CAACT,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;IACjC1O,IAAI,IAAI8L,aAAa,CAACuD,OAAO,CAAA;AAC9B,GAAA;EACD,IAAIjD,MAAI,CAAC+C,MAAM,CAACR,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE;IACrC3O,IAAI,IAAI8L,aAAa,CAACwD,WAAW,CAAA;AAClC,GAAA;EACD,IAAIlD,MAAI,CAAC+C,MAAM,CAACP,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;IAC3B5O,IAAI,IAAI8L,aAAa,CAACyD,CAAC,CAAA;AACxB,GAAA;EACD,IAAInD,MAAI,CAAC+C,MAAM,CAACN,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;IAC3B7O,IAAI,IAAI8L,aAAa,CAAC0D,CAAC,CAAA;AACxB,GAAA;EACD,IAAIpD,MAAI,CAAC+C,MAAM,CAACL,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;IAC3B9O,IAAI,IAAI8L,aAAa,CAAC2D,CAAC,CAAA;AACxB,GAAA;EACD,IAAIrD,MAAI,CAAC+C,MAAM,CAACJ,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;IAC5B/O,IAAI,IAAI8L,aAAa,CAAC4D,EAAE,CAAA;AACzB,GAAA;EACD,IAAItD,MAAI,CAAC+C,MAAM,CAACH,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;IAC7BhP,IAAI,IAAI8L,aAAa,CAAC6D,GAAG,CAAA;AAC1B,GAAA;EACD,IAAIvD,MAAI,CAAC+C,MAAM,CAACF,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;IACjCjP,IAAI,IAAI8L,aAAa,CAACY,OAAO,CAAA;AAC9B,GAAA;AAED,EAAA,OAAO1M,IAAI,CAAA;AACb,CAAC,CAAA;AAED,SAASwM,UAAUA,CAACoD,CAAgB,EAAEC,CAAgB,EAAA;AACpD,EAAA,OAAO,CAACD,CAAC,GAAGC,CAAC,MAAM,CAAC,CAAA;AACtB,CAAA;AAEA,IAAMC,gBAAgB,GAAqC;AACzD;AACA,CACEhE,aAAa,CAACyD,CAAC,EACfzD,aAAa,CAACyD,CAAC,GAAGzD,aAAa,CAAC0D,CAAC,GAAG1D,aAAa,CAAC4D,EAAE,GAAG5D,aAAa,CAAC6D,GAAG,CACzE;AACD;AACA,CAAC7D,aAAa,CAAC4D,EAAE,GAAG5D,aAAa,CAAC0D,CAAC,EAAE1D,aAAa,CAAC0D,CAAC,GAAG1D,aAAa,CAAC2D,CAAC,CAAC;AACvE;AACA,CAAC3D,aAAa,CAAC6D,GAAG,GAAG7D,aAAa,CAAC2D,CAAC,EAAE3D,aAAa,CAAC2D,CAAC,CAAC;AACtD;AACA,CAAC3D,aAAa,CAACoD,GAAG,EAAEpD,aAAa,CAACsD,MAAM,GAAGtD,aAAa,CAACW,GAAG,CAAC;AAC7D;AACA,CAACX,aAAa,CAACoD,GAAG,EAAEpD,aAAa,CAACwD,WAAW,CAAC;AAC9C;AACA,CAACxD,aAAa,CAACuD,OAAO,EAAEvD,aAAa,CAACoD,GAAG,CAAC;AAC1C;AACA,CAACpD,aAAa,CAACW,GAAG,EAAEX,aAAa,CAACY,OAAO,CAAC;AAC1C;AACA,CAACZ,aAAa,CAACe,EAAE,EAAEf,aAAa,CAACe,EAAE,CAAC,CACrC,CAAA;AAED,SAASE,cAAcA,CAAClB,IAAmB,EAAEG,KAAoB,EAAA;AAC/D,EAAA,OACE8D,gBAAgB,CAACC,SAAS,CACxB,UAAAC,CAAC,EAAA;AAAA,IAAA,OAAIxD,UAAU,CAACX,IAAI,EAAEmE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIxD,UAAU,CAACR,KAAK,EAAEgE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;GACvD,CAAA,KAAK,CAAC,CAAC,CAAA;AAEZ,CAAA;AAEA,IAAMC,cAAc,GAAG,4mJAA0C,CAAA;AACjE,IAAMtD,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAInB,GAAW,EAAa;EAChD,OAAOA,GAAG,CAAC2D,MAAM,CAACc,cAAc,CAAC,KAAK,CAAC,CAAC,CAAA;AAC1C,CAAC,CAAA;AAED,IAAMC,SAAS,GAAG,8BAAY,CAAA;AAC9B,IAAMpD,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAItB,GAAW,EAAa;AACtD,EAAA,IAAM2E,KAAK,GAAG3E,GAAG,CAAC2E,KAAK,CAACD,SAAS,CAAC,CAAA;EAClC,IAAIC,KAAK,KAAK,IAAI,EAAE;AAClB,IAAA,OAAO,KAAK,CAAA;AACb,GAAA,MAAM;AACL;IACA,IAAMC,MAAM,GAAGD,KAAK,CAAC,CAAC,CAAC,CAAClT,MAAM,GAAG,CAAC,CAAA;AAClC,IAAA,OAAOmT,MAAM,GAAG,CAAC,KAAK,CAAC,CAAA;AACxB,GAAA;AACH,CAAC;;IC9TYhM,QAAQ,GAAgC,SAAAA,QAAAA,CACnDlF,KAAU,EAES;AAAA,EAAA,IAAA+E,IAAA,GAAAjH,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GADA,EAAE;IAAAkH,SAAA,GAAAD,IAAA,CAAnBE,IAAI;AAAJA,IAAAA,IAAI,GAAAD,SAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,SAAA,CAAA;AAEd,EAAA,IAAI,CAACR,QAAQ,CAACxE,KAAK,CAAC,EAAE;AACpB,IAAA,OAAO,KAAK,CAAA;AACb,GAAA;AAED,EAAA,IAAMkF,QAAQ,GACZ,OAAOlF,KAAK,CAACmR,KAAK,KAAK,UAAU,IACjC,OAAOnR,KAAK,CAACoR,OAAO,KAAK,UAAU,IACnC,OAAOpR,KAAK,CAACqR,KAAK,KAAK,UAAU,IACjC,OAAOrR,KAAK,CAACmF,KAAK,KAAK,UAAU,IACjC,OAAOnF,KAAK,CAACoJ,MAAM,KAAK,UAAU,IAClC,OAAOpJ,KAAK,CAACsR,QAAQ,KAAK,UAAU,IACpC,OAAOtR,KAAK,CAAO,QAAA,CAAA,KAAK,UAAU,IAClC,OAAOA,KAAK,CAACuR,cAAc,KAAK,UAAU,IAC1C,OAAOvR,KAAK,CAACwR,aAAa,KAAK,UAAU,IACzC,OAAOxR,KAAK,CAACyR,cAAc,KAAK,UAAU,IAC1C,OAAOzR,KAAK,CAAC0R,QAAQ,KAAK,UAAU,IACpC,OAAO1R,KAAK,CAAC2B,KAAK,KAAK,UAAU,IACjC,OAAO3B,KAAK,CAAC2R,eAAe,KAAK,UAAU,IAC3C,OAAO3R,KAAK,CAACgC,GAAG,KAAK,UAAU,IAC/B,OAAOhC,KAAK,CAACwI,KAAK,KAAK,UAAU,IACjC,OAAOxI,KAAK,CAACyI,QAAQ,KAAK,UAAU,IACpC,OAAOzI,KAAK,CAAC4R,aAAa,KAAK,UAAU,IACzC,OAAO5R,KAAK,CAAC6R,WAAW,KAAK,UAAU,IACvC,OAAO7R,KAAK,CAAC8R,QAAQ,KAAK,UAAU,IACpC,OAAO9R,KAAK,CAAC+R,SAAS,KAAK,UAAU,IACrC,OAAO/R,KAAK,CAACgS,UAAU,KAAK,UAAU,IACtC,OAAOhS,KAAK,CAACiS,OAAO,KAAK,UAAU,IACnC,OAAOjS,KAAK,CAACkS,QAAQ,KAAK,UAAU,IACpC,OAAOlS,KAAK,CAACmS,WAAW,KAAK,UAAU,IACvC,OAAOnS,KAAK,CAACoS,cAAc,KAAK,UAAU,IAC1C,OAAOpS,KAAK,CAACqS,UAAU,KAAK,UAAU,IACtC,OAAOrS,KAAK,CAACsS,WAAW,KAAK,UAAU,IACvC,OAAOtS,KAAK,CAACuS,eAAe,KAAK,UAAU,IAC3C,OAAOvS,KAAK,CAACwS,UAAU,KAAK,UAAU,IACtC,OAAOxS,KAAK,CAACyS,OAAO,KAAK,UAAU,IACnC,OAAOzS,KAAK,CAAC0S,MAAM,KAAK,UAAU,IAClC,OAAO1S,KAAK,CAAC2S,iBAAiB,KAAK,UAAU,IAC7C,OAAO3S,KAAK,CAAC4S,OAAO,KAAK,UAAU,IACnC,OAAO5S,KAAK,CAAC6S,KAAK,KAAK,UAAU,IACjC,OAAO7S,KAAK,CAAC8S,QAAQ,KAAK,UAAU,IACpC,OAAO9S,KAAK,CAAC+S,aAAa,KAAK,UAAU,IACzC,OAAO/S,KAAK,CAACgT,YAAY,KAAK,UAAU,IACxC,OAAOhT,KAAK,CAACiT,OAAO,KAAK,UAAU,IACnC,OAAOjT,KAAK,CAACkT,MAAM,KAAK,UAAU,IAClC,OAAOlT,KAAK,CAACW,IAAI,KAAK,UAAU,IAChC,OAAOX,KAAK,CAAC6J,IAAI,KAAK,UAAU,IAChC,OAAO7J,KAAK,CAAC5B,MAAM,KAAK,UAAU,IAClC,OAAO4B,KAAK,CAACmT,SAAS,KAAK,UAAU,IACrC,OAAOnT,KAAK,CAACoT,YAAY,KAAK,UAAU,IACxC,OAAOpT,KAAK,CAACqT,UAAU,KAAK,UAAU,IACtC,OAAOrT,KAAK,CAACsT,IAAI,KAAK,UAAU,IAChC,OAAOtT,KAAK,CAACuT,SAAS,KAAK,UAAU,IACrC,OAAOvT,KAAK,CAACQ,IAAI,KAAK,UAAU,IAChC,OAAOR,KAAK,CAACwG,IAAI,KAAK,UAAU,IAChC,OAAOxG,KAAK,CAAC6H,KAAK,KAAK,UAAU,IACjC,OAAO7H,KAAK,CAACwT,SAAS,KAAK,UAAU,IACrC,OAAOxT,KAAK,CAACyT,aAAa,KAAK,UAAU,IACzC,OAAOzT,KAAK,CAAC0T,QAAQ,KAAK,UAAU,IACpC,OAAO1T,KAAK,CAACe,MAAM,KAAK,UAAU,IAClC,OAAOf,KAAK,CAACpD,IAAI,KAAK,UAAU,IAChC,OAAOoD,KAAK,CAAC2T,OAAO,KAAK,UAAU,IACnC,OAAO3T,KAAK,CAAC4T,QAAQ,KAAK,UAAU,IACpC,OAAO5T,KAAK,CAAChD,KAAK,KAAK,UAAU,IACjC,OAAOgD,KAAK,CAAC6T,QAAQ,KAAK,UAAU,IACpC,OAAO7T,KAAK,CAAC8T,SAAS,KAAK,UAAU,IACrC,OAAO9T,KAAK,CAAC+T,SAAS,KAAK,UAAU,IACrC,OAAO/T,KAAK,CAACgB,QAAQ,KAAK,UAAU,IACpC,OAAOhB,KAAK,CAAC4B,KAAK,KAAK,UAAU,IACjC,OAAO5B,KAAK,CAACgU,QAAQ,KAAK,UAAU,IACpC,OAAOhU,KAAK,CAACiU,SAAS,KAAK,UAAU,IACrC,OAAOjU,KAAK,CAACkU,UAAU,KAAK,UAAU,IACtC,OAAOlU,KAAK,CAACmU,WAAW,KAAK,UAAU,IACvC,OAAOnU,KAAK,CAACoU,MAAM,KAAK,UAAU,IAClC,OAAOpU,KAAK,CAACqU,QAAQ,KAAK,UAAU,IACpC,OAAOrU,KAAK,CAACsU,cAAc,KAAK,UAAU,IAC1C,OAAOtU,KAAK,CAACuU,QAAQ,KAAK,UAAU,IACpC,OAAOvU,KAAK,CAACwU,YAAY,KAAK,UAAU,IACxC,OAAOxU,KAAK,CAACyU,8BAA8B,KAAK,UAAU,IAC1D,OAAOzU,KAAK,CAAC0U,eAAe,KAAK,UAAU,IAC3C,OAAO1U,KAAK,CAAC2U,UAAU,KAAK,UAAU,IACtC,OAAO3U,KAAK,CAACqD,KAAK,KAAK,UAAU,IACjC,OAAOrD,KAAK,CAACyK,MAAM,KAAK,UAAU,IAClC,OAAOzK,KAAK,CAAC4U,WAAW,KAAK,UAAU,IACvC,OAAO5U,KAAK,CAAC6U,UAAU,KAAK,UAAU,IACtC,OAAO7U,KAAK,CAAC8U,WAAW,KAAK,UAAU,IACvC,OAAO9U,KAAK,CAAK,MAAA,CAAA,KAAK,UAAU,IAChC,OAAOA,KAAK,CAAC+U,kBAAkB,KAAK,UAAU,IAC9C,OAAO/U,KAAK,CAACgV,SAAS,KAAK,UAAU,KACpChV,KAAK,CAACiV,KAAK,KAAK,IAAI,IAAIzQ,QAAQ,CAACxE,KAAK,CAACiV,KAAK,CAAC,CAAC,KAC9CjV,KAAK,CAACiM,SAAS,KAAK,IAAI,IAAI9O,KAAK,CAACuF,OAAO,CAAC1C,KAAK,CAACiM,SAAS,CAAC,CAAC,KAC3DhH,IAAI,GACDI,IAAI,CAACC,UAAU,CAACtF,KAAK,CAACuF,QAAQ,CAAC,IAC/ByF,SAAS,CAACK,eAAe,CAACrL,KAAK,CAACkV,UAAU,CAAC,GAC3CjV,KAAK,CAACC,OAAO,CAACF,KAAK,CAACuF,QAAQ,CAAC,IAAItF,KAAK,CAACC,OAAO,CAACF,KAAK,CAACkV,UAAU,CAAC,CAAC,CAAA;AAEvE,EAAA,OAAOhQ,QAAQ,CAAA;AACjB;;AConBA;AACO,IAAMwE,MAAM,GAAoB;AACrCyH,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAACnF,MAAM,EAAEnO,OAAO,EAAA;AACnB,IAAA,OAAOmO,MAAM,CAACmF,KAAK,CAACtT,OAAO,CAAC,CAAA;GAC7B;AAEDuT,EAAAA,OAAO,WAAAA,OAACpF,CAAAA,MAAM,EAAE1F,GAAG,EAAEtG,KAAK,EAAA;AACxBgM,IAAAA,MAAM,CAACoF,OAAO,CAAC9K,GAAG,EAAEtG,KAAK,CAAC,CAAA;GAC3B;AAEDqR,EAAAA,KAAK,WAAAA,KAACrF,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACvB,IAAA,OAAOmO,MAAM,CAACqF,KAAK,CAAC3C,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GACjC;AAEDuL,EAAAA,MAAM,WAAAA,MAAC4C,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACxB,IAAA,OAAOmO,MAAM,CAAC5C,MAAM,CAACsF,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GAClC;EAED0T,cAAc,EAAA,SAAAA,cAACvF,CAAAA,MAAM,EAAc;AAAA,IAAA,IAAZnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACjC,IAAA,IAAAqX,aAAA,GAA+BtX,OAAO,CAA9BuX,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,WAAW,GAAAA,aAAA,CAAA;AAC1BnJ,IAAAA,MAAM,CAACuF,cAAc,CAAC6D,IAAI,CAAC,CAAA;GAC5B;EAED5D,aAAa,EAAA,SAAAA,aAACxF,CAAAA,MAAM,EAAc;AAAA,IAAA,IAAZnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAChC,IAAA,IAAAuX,cAAA,GAA+BxX,OAAO,CAA9BuX,IAAI;AAAJA,MAAAA,IAAI,GAAAC,cAAA,KAAG,KAAA,CAAA,GAAA,WAAW,GAAAA,cAAA,CAAA;AAC1BrJ,IAAAA,MAAM,CAACwF,aAAa,CAAC4D,IAAI,CAAC,CAAA;GAC3B;AAED3D,EAAAA,cAAc,EAAAA,SAAAA,cAAAA,CAACzF,MAAM,EAAEnO,OAAO,EAAA;AAC5BmO,IAAAA,MAAM,CAACyF,cAAc,CAAC5T,OAAO,CAAC,CAAA;GAC/B;AAED8D,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAACqK,MAAM,EAAE0C,EAAE,EAAA;AACd,IAAA,OAAO1C,MAAM,CAACrK,KAAK,CAAC+M,EAAE,CAAC,CAAA;GACxB;EAEDiD,eAAe,EAAA,SAAAA,eAAC3F,CAAAA,MAAc,EAA4C;AAAA,IAAA,IAA1CnO,OAAA,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAwC,EAAE,CAAA;AACxE,IAAA,OAAOkO,MAAM,CAAC2F,eAAe,CAAC9T,OAAO,CAAC,CAAA;GACvC;AAEDmE,EAAAA,GAAG,EAAAA,SAAAA,GAAAA,CAACgK,MAAM,EAAE0C,EAAE,EAAA;AACZ,IAAA,OAAO1C,MAAM,CAAChK,GAAG,CAAC0M,EAAE,CAAC,CAAA;GACtB;AAEDlG,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAACwD,MAAM,EAAE0C,EAAE,EAAA;AACd,IAAA,OAAO1C,MAAM,CAACxD,KAAK,CAACkG,EAAE,CAAC,CAAA;GACxB;AAEDjG,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAACuD,MAAM,EAAE0C,EAAE,EAAA;AACjB,IAAA,OAAO1C,MAAM,CAACvD,QAAQ,CAACiG,EAAE,CAAC,CAAA;GAC3B;AAEDqD,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAAC/F,MAAM,EAAE3F,OAAO,EAAA;AACvB,IAAA,OAAO2F,MAAM,CAAC+F,SAAS,CAAC1L,OAAO,CAAC,CAAA;GACjC;AAED2L,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAAChG,MAAM,EAAE3F,OAAO,EAAA;AACxB,IAAA,OAAO2F,MAAM,CAACgG,UAAU,CAAC3L,OAAO,CAAC,CAAA;GAClC;AAED4L,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAACjG,MAAM,EAAEpP,IAAI,EAAA;AAClB,IAAA,OAAOoP,MAAM,CAACiG,OAAO,CAACrV,IAAI,CAAC,CAAA;GAC5B;AAEDsV,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAAClG,MAAM,EAAE3F,OAAO,EAAA;AACtB,IAAA,OAAO2F,MAAM,CAACkG,QAAQ,CAAC7L,OAAO,CAAC,CAAA;GAChC;EAED8L,WAAW,EAAA,SAAAA,WAACnG,CAAAA,MAAM,EAAA;IAChBA,MAAM,CAACmG,WAAW,EAAE,CAAA;GACrB;AAEDC,EAAAA,cAAc,WAAAA,cAACpG,CAAAA,MAAM,EAAEvD,QAAQ,EAAE5K,OAAO,EAAA;AACtCmO,IAAAA,MAAM,CAACoG,cAAc,CAAC3J,QAAQ,EAAE5K,OAAO,CAAC,CAAA;GACzC;AAEDwU,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAACrG,MAAM,EAAExF,IAAI,EAAA;AACrBwF,IAAAA,MAAM,CAACqG,UAAU,CAAC7L,IAAI,CAAC,CAAA;GACxB;EAED+L,eAAe,EAAA,SAAAA,eAACvG,CAAAA,MAAM,EAAA;IACpBA,MAAM,CAACuG,eAAe,EAAE,CAAA;GACzB;AAEDC,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAACxG,MAAM,EAAE3D,IAAI,EAAA;AACrB2D,IAAAA,MAAM,CAACwG,UAAU,CAACnK,IAAI,CAAC,CAAA;GACxB;AAEDoK,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAACzG,MAAM,EAAEhM,KAAK,EAAA;AACnB,IAAA,OAAOgM,MAAM,CAACyG,OAAO,CAACzS,KAAK,CAAC,CAAA;GAC7B;AAED0S,EAAAA,MAAM,WAAAA,MAAC1G,CAAAA,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,EAAA;AACtB,IAAA,OAAO1C,MAAM,CAAC0G,MAAM,CAAC1V,KAAK,EAAE0R,EAAE,CAAC,CAAA;GAChC;AAEDxJ,EAAAA,QAAQ,EAARA,QAAQ;AAERyN,EAAAA,iBAAiB,EAAAA,SAAAA,iBAAAA,CAAC3G,MAAM,EAAE3F,OAAO,EAAA;AAC/B,IAAA,OAAO2F,MAAM,CAAC2G,iBAAiB,CAACtM,OAAO,CAAC,CAAA;GACzC;AAEDuM,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAAC5G,MAAM,EAAE3F,OAAO,EAAA;AACrB,IAAA,OAAO2F,MAAM,CAAC4G,OAAO,CAACvM,OAAO,CAAC,CAAA;GAC/B;AAEDwM,EAAAA,KAAK,WAAAA,KAAC7G,CAAAA,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,EAAA;AACrB,IAAA,OAAO1C,MAAM,CAAC6G,KAAK,CAAC7V,KAAK,EAAE0R,EAAE,CAAC,CAAA;GAC/B;AAEDoE,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAAC9G,MAAM,EAAEhM,KAAK,EAAA;AACpB,IAAA,OAAOgM,MAAM,CAAC8G,QAAQ,CAAC9S,KAAK,CAAC,CAAA;GAC9B;EAED+S,aAAa,EAAA,SAAAA,aAAC/G,CAAAA,MAAM,EAAA;AAClB,IAAA,OAAOA,MAAM,CAAC+G,aAAa,EAAE,CAAA;GAC9B;AAEDC,EAAAA,YAAY,EAAAA,SAAAA,YAAAA,CAAChH,MAAc,EAAEhM,KAAc,EAAA;AACzC,IAAA,OAAOgM,MAAM,CAACgH,YAAY,CAAChT,KAAK,CAAC,CAAA;GAClC;AAEDiT,EAAAA,OAAO,WAAAA,OAACjH,CAAAA,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,EAAA;AACvB,IAAA,OAAO1C,MAAM,CAACiH,OAAO,CAACjW,KAAK,EAAE0R,EAAE,CAAC,CAAA;GACjC;AAEDwE,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAAClH,MAAM,EAAEhM,KAAK,EAAA;AAClB,IAAA,OAAOgM,MAAM,CAACkH,MAAM,CAAClT,KAAK,CAAC,CAAA;GAC5B;AAEDW,EAAAA,IAAI,EAAAA,SAAAA,IAAAA,CAACqL,MAAM,EAAE0C,EAAE,EAAA;AACb,IAAA,OAAO1C,MAAM,CAACrL,IAAI,CAAC+N,EAAE,CAAC,CAAA;GACvB;AAED7E,EAAAA,IAAI,WAAAA,IAACmC,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACtB,IAAA,OAAOmO,MAAM,CAACnC,IAAI,CAAC6E,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GAChC;AAEDO,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAAC4N,MAAM,EAAEnO,OAAO,EAAA;AACpB,IAAA,OAAOmO,MAAM,CAAC5N,MAAM,CAACP,OAAO,CAAC,CAAA;GAC9B;EAEDoX,KAAK,EAAA,SAAAA,KAACjJ,CAAAA,MAAM,EAAA;AACV,IAAA,OAAOA,MAAM,CAAC8F,QAAQ,EAAE,CAAA;GACzB;AAEDtR,EAAAA,IAAI,EAAAA,SAAAA,IAAAA,CACFwL,MAAc,EACdnO,OAA8B,EAAA;AAE9B,IAAA,OAAOmO,MAAM,CAACxL,IAAI,CAAC3C,OAAO,CAAC,CAAA;GAC5B;AAED2I,EAAAA,IAAI,WAAAA,IAACwF,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACtB,IAAA,OAAOmO,MAAM,CAACxF,IAAI,CAACkI,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GAChC;AAEDgK,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAACmE,MAAM,EAAEnO,OAAO,EAAA;AACnB,IAAA,OAAOmO,MAAM,CAACnE,KAAK,CAAChK,OAAO,CAAC,CAAA;GAC7B;AAED2V,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACxH,MAAM,EAAEnO,OAAO,EAAA;AACvBmO,IAAAA,MAAM,CAACwH,SAAS,CAAC3V,OAAO,CAAC,CAAA;GAC1B;AAEDkD,EAAAA,MAAM,WAAAA,MAACiL,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACxB,IAAA,OAAOmO,MAAM,CAACjL,MAAM,CAAC2N,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GAClC;AAEDjB,EAAAA,IAAI,WAAAA,IAACoP,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACtB,IAAA,OAAOmO,MAAM,CAACpP,IAAI,CAAC8R,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GAChC;AAED8V,EAAAA,OAAO,WAAAA,OAAC3H,CAAAA,MAAM,EAAEpP,IAAI,EAAEiB,OAAO,EAAA;AAC3B,IAAA,OAAOmO,MAAM,CAAC2H,OAAO,CAAC/W,IAAI,EAAEiB,OAAO,CAAC,CAAA;GACrC;EAED+V,QAAQ,EAAA,SAAAA,QAAC5H,CAAAA,MAAM,EAAA;AACb,IAAA,OAAOA,MAAM,CAAC4H,QAAQ,EAAE,CAAA;GACzB;AAED5W,EAAAA,KAAK,WAAAA,KAACgP,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACvB,IAAA,OAAOmO,MAAM,CAAChP,KAAK,CAAC0R,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GACjC;AAEDgW,EAAAA,QAAQ,WAAAA,QAAC7H,CAAAA,MAAM,EAAEhP,KAAK,EAAEa,OAAO,EAAA;AAC7B,IAAA,OAAOmO,MAAM,CAAC6H,QAAQ,CAAC7W,KAAK,EAAEa,OAAO,CAAC,CAAA;GACvC;EAEDiW,SAAS,EAAA,SAAAA,SAAC9H,CAAAA,MAAM,EAAA;AACd,IAAA,OAAOA,MAAM,CAAC8H,SAAS,EAAE,CAAA;GAC1B;AAEDC,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAAC/H,MAAM,EAAEnO,OAAO,EAAA;AACvB,IAAA,OAAOmO,MAAM,CAAC+H,SAAS,CAAClW,OAAO,CAAC,CAAA;GACjC;AAEDmD,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAACgL,MAAM,EAAEnO,OAAO,EAAA;AACtB,IAAA,OAAOmO,MAAM,CAAChL,QAAQ,CAACnD,OAAO,CAAC,CAAA;GAChC;AAED+D,EAAAA,KAAK,WAAAA,KAACoK,CAAAA,MAAM,EAAE0C,EAAE,EAAEvE,EAAE,EAAA;AAClB,IAAA,OAAO6B,MAAM,CAACpK,KAAK,CAAC8M,EAAE,EAAEvE,EAAE,CAAC,CAAA;GAC5B;AAED6J,EAAAA,QAAQ,WAAAA,QAAChI,CAAAA,MAAM,EAAEpK,KAAK,EAAE/D,OAAO,EAAA;AAC7B,IAAA,OAAOmO,MAAM,CAACgI,QAAQ,CAACpS,KAAK,EAAE/D,OAAO,CAAC,CAAA;GACvC;EAEDoW,SAAS,EAAA,SAAAA,SAACjI,CAAAA,MAAM,EAAA;AACd,IAAA,OAAOA,MAAM,CAACiI,SAAS,EAAE,CAAA;GAC1B;AAEDC,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAAClI,MAAM,EAAE1F,GAAG,EAAA;AACpB0F,IAAAA,MAAM,CAACkI,UAAU,CAAC5N,GAAG,CAAC,CAAA;GACvB;AAEDgO,EAAAA,cAAc,EAAAA,SAAAA,cAAAA,CAACtI,MAAM,EAAE+G,aAAa,EAAA;AAClC/G,IAAAA,MAAM,CAACsI,cAAc,CAACvB,aAAa,CAAC,CAAA;GACrC;AAED1P,EAAAA,KAAK,EAAAA,SAAAA,KAAAA,CAAC2I,MAAM,EAAE0C,EAAE,EAAA;AACd,IAAA,OAAO1C,MAAM,CAAC3I,KAAK,CAACqL,EAAE,CAAC,CAAA;GACxB;AAEDjE,EAAAA,MAAM,WAAAA,MAACuB,CAAAA,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,EAAA;AACxB,IAAA,OAAOmO,MAAM,CAACvB,MAAM,CAACiE,EAAE,EAAE7Q,OAAO,CAAC,CAAA;GAClC;AAED+W,EAAAA,WAAW,WAAAA,WAAC5I,CAAAA,MAAM,EAAEpK,KAAK,EAAE/D,OAAO,EAAA;AAChC,IAAA,OAAOmO,MAAM,CAAC4I,WAAW,CAAChT,KAAK,EAAE/D,OAAO,CAAC,CAAA;GAC1C;AAAA,EAAA,MAAA,EAAA,SAAAyX,KAEItJ,CAAAA,MAAM,EAAEnO,OAAO,EAAA;AAClB,IAAA,OAAOmO,MAAM,CAAA,MAAA,CAAK,CAACnO,OAAO,CAAC,CAAA;GAC5B;AAEDkX,EAAAA,kBAAkB,EAAAA,SAAAA,kBAAAA,CAAC/I,MAAM,EAAEuJ,EAAc,EAAA;AACvCvJ,IAAAA,MAAM,CAAC+I,kBAAkB,CAACQ,EAAE,CAAC,CAAA;GAC9B;EACDd,8BAA8B,EAAE,SAAAA,8BAACzI,CAAAA,MAAM,EAAEwJ,QAAQ,EAAEC,OAAO,EAAI;AAC5D,IAAA,OAAOzJ,MAAM,CAACyI,8BAA8B,CAACe,QAAQ,EAAEC,OAAO,CAAC,CAAA;AACjE,GAAA;;;ACx6BF;AACO,IAAMhT,QAAQ,GAAsB;EACzCiT,UAAU,EAAA,SAAAA,UAAC1V,CAAAA,KAAU,EAAA;AACnB,IAAA,OAAOnD,IAAI,CAACkD,MAAM,CAACC,KAAK,CAAC,IAAI/C,KAAK,CAACuG,OAAO,CAACxD,KAAK,CAAC,IAAI7C,KAAK,CAACuF,OAAO,CAAC1C,KAAK,CAAC,CAAA;GAC1E;EAEDD,MAAM,EAAA,SAAAA,MAAC2O,CAAAA,EAAY,EAAA;AACjB,IAAA,OAAOzO,KAAK,CAACC,OAAO,CAACwO,EAAE,CAAC,CAAA;GACzB;EAEDlL,OAAO,EAAA,SAAAA,OAACkL,CAAAA,EAAY,EAAA;IAClB,OAAO,QAAQ,IAAIA,EAAE,CAAA;GACtB;EAEDhM,OAAO,EAAA,SAAAA,OAACgM,CAAAA,EAAY,EAAA;IAClB,OAAO,QAAQ,IAAIA,EAAE,CAAA;GACtB;EAEDiH,MAAM,EAAA,SAAAA,MAACjH,CAAAA,EAAmB,EAAA;AACxB,IAAA,OAAOzO,KAAK,CAACC,OAAO,CAACwO,EAAE,CAAC,IAAIzO,KAAK,CAACC,OAAO,CAACwO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;AAClD,GAAA;EACD;AAgBD;AACO,IAAMkH,IAAI,GAAkB;EACjCD,MAAM,EAAA,SAAAA,MAAC3V,CAAAA,KAAU,EAAA;IACf,OACEC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,IAAIA,KAAK,CAACjC,MAAM,KAAK,CAAC,IAAIiC,KAAK,CAACX,KAAK,CAACxC,IAAI,CAACkD,MAAM,CAAC,CAAA;AAE1E,GAAA;;;;;ACzBF;AACO,IAAM9C,KAAK,GAAmB;AACnC2B,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAAC5B,KAAY,EAAEuB,OAAc,EAAA;AAClC,IAAA,IAAMsX,MAAM,GAAGhZ,IAAI,CAAC+B,OAAO,CAAC5B,KAAK,CAACJ,IAAI,EAAE2B,OAAO,CAAC3B,IAAI,CAAC,CAAA;IAErD,IAAIiZ,MAAM,KAAK,CAAC,EAAE;MAChB,IAAI7Y,KAAK,CAACqM,MAAM,GAAG9K,OAAO,CAAC8K,MAAM,EAAE,OAAO,CAAC,CAAC,CAAA;MAC5C,IAAIrM,KAAK,CAACqM,MAAM,GAAG9K,OAAO,CAAC8K,MAAM,EAAE,OAAO,CAAC,CAAA;AAC3C,MAAA,OAAO,CAAC,CAAA;AACT,KAAA;AAED,IAAA,OAAOwM,MAAM,CAAA;GACd;AAEDrW,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAACxC,KAAY,EAAEuB,OAAc,EAAA;IAClC,OAAOtB,KAAK,CAAC2B,OAAO,CAAC5B,KAAK,EAAEuB,OAAO,CAAC,KAAK,CAAC,CAAA;GAC3C;AAEDmB,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAAC1C,KAAY,EAAEuB,OAAc,EAAA;IACnC,OAAOtB,KAAK,CAAC2B,OAAO,CAAC5B,KAAK,EAAEuB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAA;GAC5C;AAEDW,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAAClC,KAAY,EAAEuB,OAAc,EAAA;AACjC;AACA,IAAA,OACEvB,KAAK,CAACqM,MAAM,KAAK9K,OAAO,CAAC8K,MAAM,IAAIxM,IAAI,CAACqC,MAAM,CAAClC,KAAK,CAACJ,IAAI,EAAE2B,OAAO,CAAC3B,IAAI,CAAC,CAAA;GAE3E;EAED4G,OAAO,EAAA,SAAAA,OAACxD,CAAAA,KAAU,EAAA;AAChB,IAAA,OACEwE,QAAQ,CAACxE,KAAK,CAAC,IACf,OAAOA,KAAK,CAACqJ,MAAM,KAAK,QAAQ,IAChCxM,IAAI,CAACkD,MAAM,CAACC,KAAK,CAACpD,IAAI,CAAC,CAAA;GAE1B;AAEDL,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CACPS,KAAmB,EACnBP,EAAa,EACsB;AAAA,IAAA,IAAnCoB,8EAAiC,EAAE,CAAA;IAEnC,IAAIb,KAAK,KAAK,IAAI,EAAE;AAClB,MAAA,OAAO,IAAI,CAAA;AACZ,KAAA;AAED,IAAA,IAAAqE,iBAAA,GAAiCxD,OAAO,CAAhClB,QAAQ;AAARA,MAAAA,QAAQ,GAAA0E,iBAAA,KAAG,KAAA,CAAA,GAAA,SAAS,GAAAA,iBAAA,CAAA;AAC5B,IAAA,IAAMzE,IAAI,GAAaI,KAAK,CAAtBJ,IAAI;MAAEyM,MAAM,GAAKrM,KAAK,CAAhBqM,MAAM,CAAA;IAElB,QAAQ5M,EAAE,CAACqE,IAAI;AACb,MAAA,KAAK,aAAa,CAAA;AAClB,MAAA,KAAK,WAAW;AAAE,QAAA;UAChBlE,IAAI,GAAGC,IAAI,CAACN,SAAS,CAACK,IAAI,EAAEH,EAAE,EAAEoB,OAAO,CAAE,CAAA;AACzC,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;UAClB,IACEhB,IAAI,CAACqC,MAAM,CAACzC,EAAE,CAACG,IAAI,EAAEA,IAAI,CAAC,KACzBH,EAAE,CAAC4M,MAAM,GAAGA,MAAM,IAChB5M,EAAE,CAAC4M,MAAM,KAAKA,MAAM,IAAI1M,QAAQ,KAAK,SAAU,CAAC,EACnD;AACA0M,YAAAA,MAAM,IAAI5M,EAAE,CAAC4L,IAAI,CAACtK,MAAM,CAAA;AACzB,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;UACjB,IAAIlB,IAAI,CAACqC,MAAM,CAACzC,EAAE,CAACG,IAAI,EAAEA,IAAI,CAAC,EAAE;YAC9ByM,MAAM,IAAI5M,EAAE,CAAC6E,QAAQ,CAAA;AACtB,WAAA;UAED1E,IAAI,GAAGC,IAAI,CAACN,SAAS,CAACK,IAAI,EAAEH,EAAE,EAAEoB,OAAO,CAAE,CAAA;AACzC,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,IAAIhB,IAAI,CAACqC,MAAM,CAACzC,EAAE,CAACG,IAAI,EAAEA,IAAI,CAAC,IAAIH,EAAE,CAAC4M,MAAM,IAAIA,MAAM,EAAE;AACrDA,YAAAA,MAAM,IAAIvK,IAAI,CAACD,GAAG,CAACwK,MAAM,GAAG5M,EAAE,CAAC4M,MAAM,EAAE5M,EAAE,CAAC4L,IAAI,CAACtK,MAAM,CAAC,CAAA;AACvD,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;UAClB,IAAIlB,IAAI,CAACqC,MAAM,CAACzC,EAAE,CAACG,IAAI,EAAEA,IAAI,CAAC,IAAIC,IAAI,CAAC4C,UAAU,CAAChD,EAAE,CAACG,IAAI,EAAEA,IAAI,CAAC,EAAE;AAChE,YAAA,OAAO,IAAI,CAAA;AACZ,WAAA;UAEDA,IAAI,GAAGC,IAAI,CAACN,SAAS,CAACK,IAAI,EAAEH,EAAE,EAAEoB,OAAO,CAAE,CAAA;AACzC,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;UACjB,IAAIhB,IAAI,CAACqC,MAAM,CAACzC,EAAE,CAACG,IAAI,EAAEA,IAAI,CAAC,EAAE;YAC9B,IAAIH,EAAE,CAAC6E,QAAQ,KAAK+H,MAAM,IAAI1M,QAAQ,IAAI,IAAI,EAAE;AAC9C,cAAA,OAAO,IAAI,CAAA;AACZ,aAAA,MAAM,IACLF,EAAE,CAAC6E,QAAQ,GAAG+H,MAAM,IACnB5M,EAAE,CAAC6E,QAAQ,KAAK+H,MAAM,IAAI1M,QAAQ,KAAK,SAAU,EAClD;cACA0M,MAAM,IAAI5M,EAAE,CAAC6E,QAAQ,CAAA;AAErB1E,cAAAA,IAAI,GAAGC,IAAI,CAACN,SAAS,CAACK,IAAI,EAAEH,EAAE,EAAA2H,eAAA,CAAAA,eAAA,KACzBvG,OAAO,CAAA,EAAA,EAAA,EAAA;AACVlB,gBAAAA,QAAQ,EAAE,SAAA;AAAS,eAAA,CACpB,CAAE,CAAA;AACJ,aAAA;AACF,WAAA,MAAM;YACLC,IAAI,GAAGC,IAAI,CAACN,SAAS,CAACK,IAAI,EAAEH,EAAE,EAAEoB,OAAO,CAAE,CAAA;AAC1C,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA;AACE,QAAA,OAAOb,KAAK,CAAA;AACf,KAAA;IAED,OAAO;AAAEJ,MAAAA,IAAI,EAAJA,IAAI;AAAEyM,MAAAA,MAAM,EAANA,MAAAA;KAAQ,CAAA;AACzB,GAAA;;;AC5KF,IAAIyM,SAAS,GAAyB9X,SAAS,CAAA;AAE/C;;;;;;;;;;;;;;AAcG;AACH;AACO,IAAM2I,QAAQ,GAAsB;EACzCoP,WAAW,EAAA,SAAAA,WAACC,CAAAA,QAA8B,EAAA;AACxCF,IAAAA,SAAS,GAAGE,QAAQ,CAAA;GACrB;EAEDpP,SAAS,EAAA,SAAAA,SAAC5G,CAAAA,KAAU,EAAA;AAClB,IAAA,OAAOiW,IAAI,CAACrP,SAAS,CAAC5G,KAAK,EAAE8V,SAAS,CAAC,CAAA;AACzC,GAAA;;;;;;;;;;AC4CF;AACO,IAAMrM,IAAI,GAAkB;AACjCvK,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAACmJ,IAAU,EAAE9J,OAAa,EAAiC;AAAA,IAAA,IAA/BV,8EAA6B,EAAE,CAAA;AAC/D,IAAA,IAAAqY,cAAA,GAA0BrY,OAAO,CAAzBsY,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;IAErB,SAASE,QAAQA,CAACC,GAAqB,EAAA;AACrC,MAA0BA,GAAG,CAArBhO,IAAI,CAAA;AAAK5E,YAAAA,IAAI,GAAAC,wBAAA,CAAK2S,GAAG,EAAA1S,WAAA,EAAA;AAE7B,MAAA,OAAOF,IAAI,CAAA;AACb,KAAA;AAEA,IAAA,OAAOmI,WAAW,CAChBuK,KAAK,GAAGC,QAAQ,CAAC/N,IAAI,CAAC,GAAGA,IAAI,EAC7B8N,KAAK,GAAGC,QAAQ,CAAC7X,OAAO,CAAC,GAAGA,OAAO,CACpC,CAAA;GACF;EAEDmI,MAAM,EAAA,SAAAA,MAAC1G,CAAAA,KAAU,EAAA;IACf,OAAOwE,QAAQ,CAACxE,KAAK,CAAC,IAAI,OAAOA,KAAK,CAACqI,IAAI,KAAK,QAAQ,CAAA;GACzD;EAEDiO,UAAU,EAAA,SAAAA,UAACtW,CAAAA,KAAU,EAAA;AACnB,IAAA,OAAOC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,IAAIA,KAAK,CAACX,KAAK,CAAC,UAAAyG,GAAG,EAAA;AAAA,MAAA,OAAI2D,IAAI,CAAC/C,MAAM,CAACZ,GAAG,CAAC,CAAA;KAAC,CAAA,CAAA;GACpE;EAEDkE,WAAW,EAAA,SAAAA,WAAChE,CAAAA,KAAU,EAAA;AACpB,IAAA,OAAQA,KAAuB,CAACqC,IAAI,KAAKrK,SAAS,CAAA;GACnD;AAEDoI,EAAAA,OAAO,EAAAA,SAAAA,OAAAA,CAACiC,IAAU,EAAErC,KAAoB,EAAA;AACtC,IAAA,KAAK,IAAMM,GAAG,IAAIN,KAAK,EAAE;MACvB,IAAIM,GAAG,KAAK,MAAM,EAAE;AAClB,QAAA,SAAA;AACD,OAAA;AAED,MAAA,IACE,CAAC+B,IAAI,CAACkO,cAAc,CAACjQ,GAAG,CAAC,IACzB+B,IAAI,CAAa/B,GAAG,CAAC,KAAKN,KAAK,CAAaM,GAAG,CAAC,EAChD;AACA,QAAA,OAAO,KAAK,CAAA;AACb,OAAA;AACF,KAAA;AAED,IAAA,OAAO,IAAI,CAAA;GACZ;AAEDkQ,EAAAA,WAAW,EAAAA,SAAAA,WAAAA,CACThQ,IAAU,EACVgQ,YAA6B,EAAA;IAE7B,IAAIC,MAAM,GAA8C,CACtD;MAAE5M,IAAI,EAAAzF,eAAA,CAAA,EAAA,EAAOoC,IAAI,CAAA;AAAI,KAAA,CACtB,CAAA;AAAA,IAAA,IAAAK,SAAA,GAAAC,4BAAA,CAEiB0P,YAAW,CAAA;MAAAzP,KAAA,CAAA;AAAA,IAAA,IAAA;MAA7B,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAA+B;AAAA,QAAA,IAApByP,GAAG,GAAA3P,KAAA,CAAA/G,KAAA,CAAA;AACZ,QAAA,IAAQ6B,MAAM,GAA6C6U,GAAG,CAAtD7U,MAAM;UAAEC,KAAK,GAAsC4U,GAAG,CAA9C5U,KAAK;UAAS6U,eAAe,GAAcD,GAAG,CAAvCE,KAAK;AAAsBnT,UAAAA,IAAI,GAAAC,wBAAA,CAAKgT,GAAG,EAAAnO,YAAA,CAAA,CAAA;AAC9D,QAAA,IAAAtG,YAAA,GAAqB9E,KAAK,CAACwE,KAAK,CAAC+U,GAAG,CAAC;UAAAxU,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAA9BoB,UAAAA,MAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,UAAAA,IAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;QACjB,IAAM1B,IAAI,GAAG,EAAE,CAAA;QACf,IAAIqW,OAAO,GAAG,CAAC,CAAA;AACf,QAAA,IAAMC,eAAe,GAAGzT,MAAK,CAACgG,MAAM,CAAA;AACpC,QAAA,IAAM0N,aAAa,GAAG/U,IAAG,CAACqH,MAAM,CAAA;QAChC,IAAMuN,KAAK,GAAGD,eAAe,KAAfA,IAAAA,IAAAA,eAAe,cAAfA,eAAe,GAAIK,MAAM,CAACC,MAAM,CAAA;AAAA,QAAA,IAAAhP,UAAA,GAAAnB,4BAAA,CAEvB2P,MAAM,CAAA;UAAAvO,MAAA,CAAA;AAAA,QAAA,IAAA;UAA7B,KAAAD,UAAA,CAAAjB,CAAA,EAAAkB,EAAAA,CAAAA,CAAAA,MAAA,GAAAD,UAAA,CAAA3I,CAAA,EAAA2H,EAAAA,IAAA,GAA+B;AAAA,YAAA,IAAlB4C,IAAI,GAAA3B,MAAA,CAAAlI,KAAA,CAAJ6J,IAAI,CAAA;AACf,YAAA,IAAQ9L,MAAM,GAAK8L,IAAI,CAACxB,IAAI,CAApBtK,MAAM,CAAA;YACd,IAAMmZ,SAAS,GAAGL,OAAO,CAAA;AACzBA,YAAAA,OAAO,IAAI9Y,MAAM,CAAA;AAEjB;AACA,YAAA,IAAI+Y,eAAe,IAAII,SAAS,IAAIL,OAAO,IAAIE,aAAa,EAAE;AAC5DH,cAAAA,KAAK,CAAC/M,IAAI,EAAEpG,IAAI,CAAC,CAAA;cACjBjD,IAAI,CAAC7B,IAAI,CAAC;AAAEkL,gBAAAA,IAAI,EAAJA,IAAAA;AAAI,eAAE,CAAC,CAAA;AACnB,cAAA,SAAA;AACD,aAAA;AAED;AACA,YAAA,IACGiN,eAAe,KAAKC,aAAa,KAC/BD,eAAe,KAAKD,OAAO,IAAIE,aAAa,KAAKG,SAAS,CAAC,IAC9DJ,eAAe,GAAGD,OAAO,IACzBE,aAAa,GAAGG,SAAS,IACxBH,aAAa,KAAKG,SAAS,IAAIA,SAAS,KAAK,CAAE,EAChD;cACA1W,IAAI,CAAC7B,IAAI,CAAC;AAAEkL,gBAAAA,IAAI,EAAJA,IAAAA;AAAI,eAAE,CAAC,CAAA;AACnB,cAAA,SAAA;AACD,aAAA;AAED;AACA;AACA;YACA,IAAIsN,MAAM,GAAGtN,IAAI,CAAA;AACjB,YAAA,IAAIT,MAAM,GAAA,KAAA,CAAA,CAAA;AACV,YAAA,IAAIiI,KAAK,GAAA,KAAA,CAAA,CAAA;YAET,IAAI0F,aAAa,GAAGF,OAAO,EAAE;AAC3B,cAAA,IAAMO,GAAG,GAAGL,aAAa,GAAGG,SAAS,CAAA;AACrC7F,cAAAA,KAAK,GAAG;AAAExH,gBAAAA,IAAI,EAAAzF,eAAA,CAAAA,eAAA,KAAO+S,MAAM,CAAA,EAAA,EAAA,EAAA;AAAE9O,kBAAAA,IAAI,EAAE8O,MAAM,CAAC9O,IAAI,CAAChK,KAAK,CAAC+Y,GAAG,CAAA;AAAC,iBAAA,CAAA;eAAI,CAAA;AAC7DD,cAAAA,MAAM,GAAA/S,eAAA,CAAAA,eAAA,KAAQ+S,MAAM,CAAA,EAAA,EAAA,EAAA;gBAAE9O,IAAI,EAAE8O,MAAM,CAAC9O,IAAI,CAAChK,KAAK,CAAC,CAAC,EAAE+Y,GAAG,CAAA;eAAG,CAAA,CAAA;AACxD,aAAA;YAED,IAAIN,eAAe,GAAGI,SAAS,EAAE;AAC/B,cAAA,IAAME,IAAG,GAAGN,eAAe,GAAGI,SAAS,CAAA;AACvC9N,cAAAA,MAAM,GAAG;AAAES,gBAAAA,IAAI,EAAAzF,eAAA,CAAAA,eAAA,KAAO+S,MAAM,CAAA,EAAA,EAAA,EAAA;kBAAE9O,IAAI,EAAE8O,MAAM,CAAC9O,IAAI,CAAChK,KAAK,CAAC,CAAC,EAAE+Y,IAAG,CAAA;AAAC,iBAAA,CAAA;eAAI,CAAA;AACjED,cAAAA,MAAM,GAAA/S,eAAA,CAAAA,eAAA,KAAQ+S,MAAM,CAAA,EAAA,EAAA,EAAA;AAAE9O,gBAAAA,IAAI,EAAE8O,MAAM,CAAC9O,IAAI,CAAChK,KAAK,CAAC+Y,IAAG,CAAA;eAAG,CAAA,CAAA;AACrD,aAAA;AAEDR,YAAAA,KAAK,CAACO,MAAM,EAAE1T,IAAI,CAAC,CAAA;AAEnB,YAAA,IAAI2F,MAAM,EAAE;AACV5I,cAAAA,IAAI,CAAC7B,IAAI,CAACyK,MAAM,CAAC,CAAA;AAClB,aAAA;YAED5I,IAAI,CAAC7B,IAAI,CAAC;AAAEkL,cAAAA,IAAI,EAAEsN,MAAAA;AAAQ,aAAA,CAAC,CAAA;AAE3B,YAAA,IAAI9F,KAAK,EAAE;AACT7Q,cAAAA,IAAI,CAAC7B,IAAI,CAAC0S,KAAK,CAAC,CAAA;AACjB,aAAA;AACF,WAAA;AAAA,SAAA,CAAA,OAAAlK,GAAA,EAAA;UAAAc,UAAA,CAAAb,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,SAAA,SAAA;AAAAc,UAAAA,UAAA,CAAAZ,CAAA,EAAA,CAAA;AAAA,SAAA;AAEDoP,QAAAA,MAAM,GAAGjW,IAAI,CAAA;AACd,OAAA;AAAA,KAAA,CAAA,OAAA2G,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AAED,IAAA,IAAIoP,MAAM,CAAC1Y,MAAM,GAAG,CAAC,EAAE;MACrB,IAAIsZ,aAAa,GAAG,CAAC,CAAA;MAAA,IAAAzP,UAAA,GAAAd,4BAAA,CACO2P,MAAM,CAACa,OAAO,EAAE,CAAA;QAAAxP,MAAA,CAAA;AAAA,MAAA,IAAA;QAA5C,KAAAF,UAAA,CAAAZ,CAAA,EAAAc,EAAAA,CAAAA,CAAAA,MAAA,GAAAF,UAAA,CAAAtI,CAAA,EAAA2H,EAAAA,IAAA,GAA8C;AAAA,UAAA,IAAAc,YAAA,GAAA5F,cAAA,CAAA2F,MAAA,CAAA9H,KAAA,EAAA,CAAA,CAAA;AAAlCuH,YAAAA,KAAK,GAAAQ,YAAA,CAAA,CAAA,CAAA;AAAEwP,YAAAA,IAAI,GAAAxP,YAAA,CAAA,CAAA,CAAA,CAAA;UACrB,IAAM1E,KAAK,GAAGgU,aAAa,CAAA;UAC3B,IAAMrV,GAAG,GAAGqB,KAAK,GAAGkU,IAAI,CAAC1N,IAAI,CAACxB,IAAI,CAACtK,MAAM,CAAA;AACzC,UAAA,IAAMuD,QAAQ,GAAiB;AAAE+B,YAAAA,KAAK,EAALA,KAAK;AAAErB,YAAAA,GAAG,EAAHA,GAAAA;WAAK,CAAA;UAE7C,IAAIuF,KAAK,KAAK,CAAC,EAAEjG,QAAQ,CAACkW,OAAO,GAAG,IAAI,CAAA;AACxC,UAAA,IAAIjQ,KAAK,KAAKkP,MAAM,CAAC1Y,MAAM,GAAG,CAAC,EAAEuD,QAAQ,CAACmW,MAAM,GAAG,IAAI,CAAA;UAEvDF,IAAI,CAACjW,QAAQ,GAAGA,QAAQ,CAAA;AACxB+V,UAAAA,aAAa,GAAGrV,GAAG,CAAA;AACpB,SAAA;AAAA,OAAA,CAAA,OAAAmF,GAAA,EAAA;QAAAS,UAAA,CAAAR,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAAS,QAAAA,UAAA,CAAAP,CAAA,EAAA,CAAA;AAAA,OAAA;AACF,KAAA;AAED,IAAA,OAAOoP,MAAM,CAAA;AACf,GAAA;;;;;AC5MK,IAAMiB,cAAc,GAAG,SAAjBA,cAAcA,CACzBC,EAAO,EACPpQ,KAAa,EAAA;EAAA,KAAAqQ,IAAAA,IAAA,GAAA9Z,SAAA,CAAAC,MAAA,EACV8Z,SAAc,OAAA5X,KAAA,CAAA2X,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAE,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA,EAAA,EAAA;AAAdD,IAAAA,SAAc,CAAAC,IAAA,GAAAha,CAAAA,CAAAA,GAAAA,SAAA,CAAAga,IAAA,CAAA,CAAA;AAAA,GAAA;EAAA,OAAApX,EAAAA,CAAAA,MAAA,CAAAU,kBAAA,CACVuW,EAAE,CAACtZ,KAAK,CAAC,CAAC,EAAEkJ,KAAK,CAAC,CAAKsQ,EAAAA,SAAS,EAAAzW,kBAAA,CAAKuW,EAAE,CAACtZ,KAAK,CAACkJ,KAAK,CAAC,CAAA,CAAA,CAAA;AAAA,CAAC,CAAA;AAEvD,IAAMwQ,eAAe,GAAG,SAAlBA,eAAeA,CAC1BJ,EAAO,EACPpQ,KAAa,EACbyQ,WAAmB,EAAA;EAAA,KAAAC,IAAAA,KAAA,GAAAna,SAAA,CAAAC,MAAA,EAChB8Z,SAAc,OAAA5X,KAAA,CAAAgY,KAAA,GAAAA,CAAAA,GAAAA,KAAA,WAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAdL,IAAAA,SAAc,CAAAK,KAAA,GAAApa,CAAAA,CAAAA,GAAAA,SAAA,CAAAoa,KAAA,CAAA,CAAA;AAAA,GAAA;EAAA,OAAAxX,EAAAA,CAAAA,MAAA,CAAAU,kBAAA,CACVuW,EAAE,CAACtZ,KAAK,CAAC,CAAC,EAAEkJ,KAAK,CAAC,GAAKsQ,SAAS,EAAAzW,kBAAA,CAAKuW,EAAE,CAACtZ,KAAK,CAACkJ,KAAK,GAAGyQ,WAAW,CAAC,CAAA,CAAA,CAAA;AAAA,CAAC,CAAA;AAErE,IAAM9O,cAAc,GAAG6O,eAAe,CAAA;AAE7C;;AAEG;AACI,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAC3B5R,IAAc,EACd3J,IAAU,EACVyK,CAAiB,EACf;AACF,EAAA,IAAIzK,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB,IAAA,MAAM,IAAI0C,KAAK,CAAC,0BAA0B,CAAC,CAAA;AAC5C,GAAA;EAED,IAAM+F,IAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAE3J,IAAI,CAAM,CAAA;AACtC,EAAA,IAAMwb,UAAU,GAAGxb,IAAI,CAACyB,KAAK,EAAE,CAAA;AAC/B,EAAA,IAAIga,YAAY,GAAShR,CAAC,CAACb,IAAI,CAAC,CAAA;AAEhC,EAAA,OAAO4R,UAAU,CAACra,MAAM,GAAG,CAAC,EAAE;AAC5B,IAAA,IAAMwJ,MAAK,GAAG6Q,UAAU,CAACE,GAAG,EAAG,CAAA;IAC/B,IAAMC,YAAY,GAAGlT,IAAI,CAACoB,GAAG,CAACF,IAAI,EAAE6R,UAAU,CAAa,CAAA;AAE3DC,IAAAA,YAAY,GAAAjU,eAAA,CAAAA,eAAA,KACPmU,YAAY,CAAA,EAAA,EAAA,EAAA;MACfhT,QAAQ,EAAEwS,eAAe,CAACQ,YAAY,CAAChT,QAAQ,EAAEgC,MAAK,EAAE,CAAC,EAAE8Q,YAAY,CAAA;KACxE,CAAA,CAAA;AACF,GAAA;AAED,EAAA,IAAM9Q,KAAK,GAAG6Q,UAAU,CAACE,GAAG,EAAG,CAAA;AAC/B/R,EAAAA,IAAI,CAAChB,QAAQ,GAAGwS,eAAe,CAACxR,IAAI,CAAChB,QAAQ,EAAEgC,KAAK,EAAE,CAAC,EAAE8Q,YAAY,CAAC,CAAA;AACxE,CAAC,CAAA;AAED;;AAEG;AACI,IAAMpP,cAAc,GAAG,SAAjBA,cAAcA,CACzB1C,IAAc,EACd3J,IAAU,EACVyK,CAA2C,EACzC;AACF,EAAA,IAAIzK,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;IACrBwI,IAAI,CAAChB,QAAQ,GAAG8B,CAAC,CAACd,IAAI,CAAChB,QAAQ,CAAC,CAAA;AACjC,GAAA,MAAM;AACL4S,IAAAA,gBAAgB,CAAU5R,IAAI,EAAE3J,IAAI,EAAE,UAAA4J,IAAI,EAAG;AAC3C,MAAA,IAAInB,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACrB,QAAA,MAAM,IAAI/F,KAAK,CAAA,kCAAA,CAAAC,MAAA,CACsB9D,IAAI,EAAA8D,sCAAAA,CAAAA,CAAAA,MAAA,CAAuCiG,QAAQ,CAACC,SAAS,CAC9FJ,IAAI,CACL,CAAE,CACJ,CAAA;AACF,OAAA;AAED,MAAA,OAAApC,eAAA,CAAAA,eAAA,CAAA,EAAA,EAAYoC,IAAI,CAAA,EAAA,EAAA,EAAA;AAAEjB,QAAAA,QAAQ,EAAE8B,CAAC,CAACb,IAAI,CAACjB,QAAQ,CAAA;AAAC,OAAA,CAAA,CAAA;AAC9C,KAAC,CAAC,CAAA;AACH,GAAA;AACH,CAAC,CAAA;AAED;;AAEG;AACI,IAAM4D,UAAU,GAAG,SAAbA,UAAUA,CACrB5C,IAAc,EACd3J,IAAU,EACVyK,CAAuB,EAAA;EAAA,OAEvB8Q,gBAAgB,CAAC5R,IAAI,EAAE3J,IAAI,EAAE,UAAA4J,IAAI,EAAG;AAClC,IAAA,IAAI,CAACnB,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACtB,MAAA,MAAM,IAAI/F,KAAK,CAAA,oCAAA,CAAAC,MAAA,CACwB9D,IAAI,EAAA8D,0CAAAA,CAAAA,CAAAA,MAAA,CAA2CiG,QAAQ,CAACC,SAAS,CACpGJ,IAAI,CACL,CAAE,CACJ,CAAA;AACF,KAAA;IAED,OAAOa,CAAC,CAACb,IAAI,CAAC,CAAA;AAChB,GAAC,CAAC,CAAA;AAAA,CAAA;;;;;;;ACpEJ;AACO,IAAMgS,iBAAiB,GAAsB;AAClDjc,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACyP,MAAc,EAAEvP,EAAa,EAAA;IACrC,IAAIgc,kBAAkB,GAAG,KAAK,CAAA;IAE9B,QAAQhc,EAAE,CAACqE,IAAI;AACb,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,IAAQlE,IAAI,GAAWH,EAAE,CAAjBG,IAAI;YAAE4J,IAAI,GAAK/J,EAAE,CAAX+J,IAAI,CAAA;AAElByC,UAAAA,cAAc,CAAC+C,MAAM,EAAEnP,IAAI,CAACkE,MAAM,CAACnE,IAAI,CAAC,EAAE,UAAA2I,QAAQ,EAAG;YACnD,IAAMgC,KAAK,GAAG3K,IAAI,CAACA,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;AAEnC,YAAA,IAAIwJ,KAAK,GAAGhC,QAAQ,CAACxH,MAAM,EAAE;AAC3B,cAAA,MAAM,IAAI0C,KAAK,CAAA,qDAAA,CAAAC,MAAA,CACuC9D,IAAI,2DAAwD,CACjH,CAAA;AACF,aAAA;AAED,YAAA,OAAO8a,cAAc,CAACnS,QAAQ,EAAEgC,KAAK,EAAEf,IAAI,CAAC,CAAA;AAC9C,WAAC,CAAC,CAAA;AAEFiS,UAAAA,kBAAkB,GAAG,IAAI,CAAA;AACzB,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,IAAQ7b,KAAI,GAAmBH,EAAE,CAAzBG,IAAI;YAAEyM,MAAM,GAAW5M,EAAE,CAAnB4M,MAAM;YAAEhB,IAAI,GAAK5L,EAAE,CAAX4L,IAAI,CAAA;AAC1B,UAAA,IAAIA,IAAI,CAACtK,MAAM,KAAK,CAAC,EAAE,MAAA;AAEvBoL,UAAAA,UAAU,CAAC6C,MAAM,EAAEpP,KAAI,EAAE,UAAA4J,IAAI,EAAG;YAC9B,IAAM4C,MAAM,GAAG5C,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAAC,CAAC,EAAEgL,MAAM,CAAC,CAAA;YACzC,IAAMgI,KAAK,GAAG7K,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAACgL,MAAM,CAAC,CAAA;AAErC,YAAA,OAAAjF,eAAA,CAAAA,eAAA,CAAA,EAAA,EACKoC,IAAI,CAAA,EAAA,EAAA,EAAA;AACP6B,cAAAA,IAAI,EAAEe,MAAM,GAAGf,IAAI,GAAGgJ,KAAAA;AAAK,aAAA,CAAA,CAAA;AAE/B,WAAC,CAAC,CAAA;AAEFoH,UAAAA,kBAAkB,GAAG,IAAI,CAAA;AACzB,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;AACjB,UAAA,IAAQ7b,MAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;UACZ,IAAM2K,KAAK,GAAG3K,MAAI,CAACA,MAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;AACnC,UAAA,IAAM2a,QAAQ,GAAG7b,IAAI,CAACmE,QAAQ,CAACpE,MAAI,CAAC,CAAA;UACpC,IAAM+b,SAAS,GAAGD,QAAQ,CAACA,QAAQ,CAAC3a,MAAM,GAAG,CAAC,CAAC,CAAA;AAE/CkL,UAAAA,cAAc,CAAC+C,MAAM,EAAEnP,IAAI,CAACkE,MAAM,CAACnE,MAAI,CAAC,EAAE,UAAA2I,QAAQ,EAAG;AACnD,YAAA,IAAMiB,IAAI,GAAGjB,QAAQ,CAACgC,KAAK,CAAC,CAAA;AAC5B,YAAA,IAAMqR,IAAI,GAAGrT,QAAQ,CAACoT,SAAS,CAAC,CAAA;AAChC,YAAA,IAAIE,OAAmB,CAAA;AAEvB,YAAA,IAAIxT,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,IAAInB,IAAI,CAACqB,MAAM,CAACkS,IAAI,CAAC,EAAE;AAC1CC,cAAAA,OAAO,GAAAzU,eAAA,CAAAA,eAAA,KAAQwU,IAAI,CAAA,EAAA,EAAA,EAAA;AAAEvQ,gBAAAA,IAAI,EAAEuQ,IAAI,CAACvQ,IAAI,GAAG7B,IAAI,CAAC6B,IAAAA;eAAM,CAAA,CAAA;AACnD,aAAA,MAAM,IAAIhD,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,IAAInB,IAAI,CAACP,SAAS,CAAC8T,IAAI,CAAC,EAAE;AACvDC,cAAAA,OAAO,GAAAzU,eAAA,CAAAA,eAAA,KAAQwU,IAAI,CAAA,EAAA,EAAA,EAAA;gBAAErT,QAAQ,EAAEqT,IAAI,CAACrT,QAAQ,CAAC7E,MAAM,CAAC8F,IAAI,CAACjB,QAAQ,CAAA;eAAG,CAAA,CAAA;AACrE,aAAA,MAAM;cACL,MAAM,IAAI9E,KAAK,CAAA,mDAAA,CAAAC,MAAA,CACqC9D,MAAI,EAAA8D,sCAAAA,CAAAA,CAAAA,MAAA,CAAuCiG,QAAQ,CAACC,SAAS,CAC7GJ,IAAI,CACL,EAAA9F,GAAAA,CAAAA,CAAAA,MAAA,CAAIiG,QAAQ,CAACC,SAAS,CAACgS,IAAI,CAAC,CAAE,CAChC,CAAA;AACF,aAAA;YAED,OAAOb,eAAe,CAACxS,QAAQ,EAAEoT,SAAS,EAAE,CAAC,EAAEE,OAAO,CAAC,CAAA;AACzD,WAAC,CAAC,CAAA;AAEFJ,UAAAA,kBAAkB,GAAG,IAAI,CAAA;AACzB,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,WAAW;AAAE,QAAA;AAChB,UAAA,IAAQ7b,MAAI,GAAcH,EAAE,CAApBG,IAAI;YAAE4E,OAAO,GAAK/E,EAAE,CAAd+E,OAAO,CAAA;UACrB,IAAM+F,MAAK,GAAG3K,MAAI,CAACA,MAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;UAEnC,IAAIlB,IAAI,CAAC4C,UAAU,CAAC7C,MAAI,EAAE4E,OAAO,CAAC,EAAE;YAClC,MAAM,IAAIf,KAAK,CAAA,sBAAA,CAAAC,MAAA,CACU9D,MAAI,EAAA,iBAAA,CAAA,CAAA8D,MAAA,CAAkBc,OAAO,EAAA,6CAAA,CAA6C,CAClG,CAAA;AACF,WAAA;UAED,IAAMgF,KAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,MAAI,CAAC,CAAA;UAEnCqM,cAAc,CAAC+C,MAAM,EAAEnP,IAAI,CAACkE,MAAM,CAACnE,MAAI,CAAC,EAAE,UAAA2I,QAAQ,EAAA;AAAA,YAAA,OAChD2D,cAAc,CAAC3D,QAAQ,EAAEgC,MAAK,EAAE,CAAC,CAAC,CAAA;WACnC,CAAA,CAAA;AAED;AACA;AACA;AACA;AACA;AACA;UACA,IAAMuR,QAAQ,GAAGjc,IAAI,CAACN,SAAS,CAACK,MAAI,EAAEH,EAAE,CAAE,CAAA;UAC1C,IAAMsc,QAAQ,GAAGD,QAAQ,CAACA,QAAQ,CAAC/a,MAAM,GAAG,CAAC,CAAC,CAAA;UAE9CkL,cAAc,CAAC+C,MAAM,EAAEnP,IAAI,CAACkE,MAAM,CAAC+X,QAAQ,CAAC,EAAE,UAAAvT,QAAQ,EAAA;AAAA,YAAA,OACpDmS,cAAc,CAACnS,QAAQ,EAAEwT,QAAQ,EAAEvS,KAAI,CAAC,CAAA;WACzC,CAAA,CAAA;AAEDiS,UAAAA,kBAAkB,GAAG,IAAI,CAAA;AACzB,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,IAAQ7b,MAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;UACZ,IAAM2K,OAAK,GAAG3K,MAAI,CAACA,MAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;UAEnCkL,cAAc,CAAC+C,MAAM,EAAEnP,IAAI,CAACkE,MAAM,CAACnE,MAAI,CAAC,EAAE,UAAA2I,QAAQ,EAAA;AAAA,YAAA,OAChD2D,cAAc,CAAC3D,QAAQ,EAAEgC,OAAK,EAAE,CAAC,CAAC,CAAA;WACnC,CAAA,CAAA;AAED;AACA;UACA,IAAIyE,MAAM,CAACC,SAAS,EAAE;AACpB,YAAA,IAAIA,SAAS,GAAA7H,eAAA,KAAmB4H,MAAM,CAACC,SAAS,CAAE,CAAA;YAAA,IAAApF,SAAA,GAAAC,4BAAA,CAEvB3J,KAAK,CAACsH,MAAM,CAACwH,SAAS,CAAC,CAAA;cAAAlF,KAAA,CAAA;AAAA,YAAA,IAAA;cAAlD,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAAoD;AAAA,gBAAA,IAAA+R,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AAAxChD,kBAAAA,KAAK,GAAAgc,WAAA,CAAA,CAAA,CAAA;AAAE1S,kBAAAA,GAAG,GAAA0S,WAAA,CAAA,CAAA,CAAA,CAAA;gBACpB,IAAMnD,MAAM,GAAG5Y,KAAK,CAACV,SAAS,CAACS,KAAK,EAAEP,EAAE,CAAC,CAAA;AAEzC,gBAAA,IAAIwP,SAAS,IAAI,IAAI,IAAI4J,MAAM,IAAI,IAAI,EAAE;AACvC5J,kBAAAA,SAAS,CAAC3F,GAAG,CAAC,GAAGuP,MAAM,CAAA;AACxB,iBAAA,MAAM;AACL,kBAAA,IAAI+C,IAAiC,GAAA,KAAA,CAAA,CAAA;AACrC,kBAAA,IAAIpY,IAAiC,GAAA,KAAA,CAAA,CAAA;kBAAA,IAAAoH,UAAA,GAAAd,4BAAA,CAEhBzB,IAAI,CAACuF,KAAK,CAACoB,MAAM,CAAC,CAAA;oBAAAlE,MAAA,CAAA;AAAA,kBAAA,IAAA;oBAAvC,KAAAF,UAAA,CAAAZ,CAAA,EAAAc,EAAAA,CAAAA,CAAAA,MAAA,GAAAF,UAAA,CAAAtI,CAAA,EAAA2H,EAAAA,IAAA,GAAyC;AAAA,sBAAA,IAAAc,YAAA,GAAA5F,cAAA,CAAA2F,MAAA,CAAA9H,KAAA,EAAA,CAAA,CAAA;AAA7BV,wBAAAA,CAAC,GAAAyI,YAAA,CAAA,CAAA,CAAA;AAAE5G,wBAAAA,CAAC,GAAA4G,YAAA,CAAA,CAAA,CAAA,CAAA;sBACd,IAAIlL,IAAI,CAAC+B,OAAO,CAACuC,CAAC,EAAEvE,MAAI,CAAC,KAAK,CAAC,CAAC,EAAE;AAChCgc,wBAAAA,IAAI,GAAG,CAACtZ,CAAC,EAAE6B,CAAC,CAAC,CAAA;AACd,uBAAA,MAAM;AACLX,wBAAAA,IAAI,GAAG,CAAClB,CAAC,EAAE6B,CAAC,CAAC,CAAA;AACb,wBAAA,MAAA;AACD,uBAAA;AACF,qBAAA;AAAA,mBAAA,CAAA,OAAAgG,GAAA,EAAA;oBAAAS,UAAA,CAAAR,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,mBAAA,SAAA;AAAAS,oBAAAA,UAAA,CAAAP,CAAA,EAAA,CAAA;AAAA,mBAAA;kBAED,IAAI4R,UAAU,GAAG,KAAK,CAAA;kBACtB,IAAIL,IAAI,IAAIpY,IAAI,EAAE;oBAChB,IAAI3D,IAAI,CAACsD,SAAS,CAACyY,IAAI,CAAC,CAAC,CAAC,EAAEhc,MAAI,CAAC,EAAE;AACjCqc,sBAAAA,UAAU,GAAG,KAAK,CAAA;AACnB,qBAAA,MAAM,IAAIpc,IAAI,CAACqC,MAAM,CAACsB,IAAI,CAAC,CAAC,CAAC,EAAE5D,MAAI,CAAC,EAAE;AACrCqc,sBAAAA,UAAU,GAAG,IAAI,CAAA;AAClB,qBAAA,MAAM;sBACLA,UAAU,GACRpc,IAAI,CAACyB,MAAM,CAACsa,IAAI,CAAC,CAAC,CAAC,EAAEhc,MAAI,CAAC,CAACmB,MAAM,GACjClB,IAAI,CAACyB,MAAM,CAACkC,IAAI,CAAC,CAAC,CAAC,EAAE5D,MAAI,CAAC,CAACmB,MAAM,CAAA;AACpC,qBAAA;AACF,mBAAA;AAED,kBAAA,IAAI6a,IAAI,IAAI,CAACK,UAAU,EAAE;oBACvBhN,SAAU,CAAC3F,GAAG,CAAC,GAAG;AAAE1J,sBAAAA,IAAI,EAAEgc,IAAI,CAAC,CAAC,CAAC;AAAEvP,sBAAAA,MAAM,EAAEuP,IAAI,CAAC,CAAC,CAAC,CAACvQ,IAAI,CAACtK,MAAAA;qBAAQ,CAAA;mBACjE,MAAM,IAAIyC,IAAI,EAAE;oBACfyL,SAAU,CAAC3F,GAAG,CAAC,GAAG;AAAE1J,sBAAAA,IAAI,EAAE4D,IAAI,CAAC,CAAC,CAAC;AAAE6I,sBAAAA,MAAM,EAAE,CAAA;qBAAG,CAAA;AAC/C,mBAAA,MAAM;AACL4C,oBAAAA,SAAS,GAAG,IAAI,CAAA;AACjB,mBAAA;AACF,iBAAA;AACF,eAAA;AAAA,aAAA,CAAA,OAAA9E,GAAA,EAAA;cAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,aAAA,SAAA;AAAAN,cAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,aAAA;AAED,YAAA,IAAI,CAAC4E,SAAS,IAAI,CAAC9O,KAAK,CAAC+B,MAAM,CAAC+M,SAAS,EAAED,MAAM,CAACC,SAAS,CAAC,EAAE;cAC5DD,MAAM,CAACC,SAAS,GAAGA,SAAS,CAAA;AAC7B,aAAA;AACF,WAAA;AAED,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,aAAa;AAAE,QAAA;AAClB,UAAA,IAAQrP,MAAI,GAAmBH,EAAE,CAAzBG,IAAI;YAAEyM,OAAM,GAAW5M,EAAE,CAAnB4M,MAAM;YAAEhB,KAAI,GAAK5L,EAAE,CAAX4L,IAAI,CAAA;AAC1B,UAAA,IAAIA,KAAI,CAACtK,MAAM,KAAK,CAAC,EAAE,MAAA;AAEvBoL,UAAAA,UAAU,CAAC6C,MAAM,EAAEpP,MAAI,EAAE,UAAA4J,IAAI,EAAG;YAC9B,IAAM4C,MAAM,GAAG5C,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAAC,CAAC,EAAEgL,OAAM,CAAC,CAAA;AACzC,YAAA,IAAMgI,KAAK,GAAG7K,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAACgL,OAAM,GAAGhB,KAAI,CAACtK,MAAM,CAAC,CAAA;AAEnD,YAAA,OAAAqG,eAAA,CAAAA,eAAA,CAAA,EAAA,EACKoC,IAAI,CAAA,EAAA,EAAA,EAAA;cACP6B,IAAI,EAAEe,MAAM,GAAGiI,KAAAA;AAAK,aAAA,CAAA,CAAA;AAExB,WAAC,CAAC,CAAA;AAEFoH,UAAAA,kBAAkB,GAAG,IAAI,CAAA;AACzB,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,UAAU;AAAE,QAAA;AACf,UAAA,IAAQ7b,MAAI,GAAgCH,EAAE,CAAtCG,IAAI;YAAE0L,UAAU,GAAoB7L,EAAE,CAAhC6L,UAAU;YAAE8C,aAAa,GAAK3O,EAAE,CAApB2O,aAAa,CAAA;AAEvC,UAAA,IAAIxO,MAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;YACrB,MAAM,IAAI0C,KAAK,CAAA,yCAA0C,CAAC,CAAA;AAC3D,WAAA;AAED0X,UAAAA,gBAAgB,CAACnM,MAAM,EAAEpP,MAAI,EAAE,UAAA4J,IAAI,EAAG;AACpC,YAAA,IAAMqS,OAAO,GAAAzU,eAAA,CAAA,EAAA,EAAQoC,IAAI,CAAE,CAAA;AAE3B,YAAA,KAAK,IAAMF,IAAG,IAAI8E,aAAa,EAAE;AAC/B,cAAA,IAAI9E,IAAG,KAAK,UAAU,IAAIA,IAAG,KAAK,MAAM,EAAE;AACxC,gBAAA,MAAM,IAAI7F,KAAK,CAAA,mBAAA,CAAAC,MAAA,CAAoB4F,IAAG,0BAAsB,CAAC,CAAA;AAC9D,eAAA;AAED,cAAA,IAAMtG,KAAK,GAAGoL,aAAa,CAAa9E,IAAG,CAAC,CAAA;cAE5C,IAAItG,KAAK,IAAI,IAAI,EAAE;gBACjB,OAAO6Y,OAAO,CAAavS,IAAG,CAAC,CAAA;AAChC,eAAA,MAAM;AACLuS,gBAAAA,OAAO,CAAavS,IAAG,CAAC,GAAGtG,KAAK,CAAA;AACjC,eAAA;AACF,aAAA;AAED;AACA,YAAA,KAAK,IAAMsG,KAAG,IAAIgC,UAAU,EAAE;AAC5B,cAAA,IAAI,CAAC8C,aAAa,CAACmL,cAAc,CAACjQ,KAAG,CAAC,EAAE;gBACtC,OAAOuS,OAAO,CAAavS,KAAG,CAAC,CAAA;AAChC,eAAA;AACF,aAAA;AAED,YAAA,OAAOuS,OAAO,CAAA;AAChB,WAAC,CAAC,CAAA;AAEF,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,eAAe;AAAE,QAAA;AACpB,UAAA,IAAQzN,cAAa,GAAK3O,EAAE,CAApB2O,aAAa,CAAA;UAErB,IAAIA,cAAa,IAAI,IAAI,EAAE;YACzBY,MAAM,CAACC,SAAS,GAAG,IAAI,CAAA;AACvB,YAAA,MAAA;AACD,WAAA;AAED,UAAA,IAAID,MAAM,CAACC,SAAS,IAAI,IAAI,EAAE;YAC5B,IAAI,EAAEb,cAAa,CAACvJ,MAAM,IAAIuJ,cAAa,CAACtJ,KAAK,CAAC,EAAE;AAClD,cAAA,MAAM,IAAIrB,KAAK,CAAAC,oEAAAA,CAAAA,MAAA,CACsDiG,QAAQ,CAACC,SAAS,CACnFwE,cAAa,CACd,EAAA,sCAAA,CAAsC,CACxC,CAAA;AACF,aAAA;AAEDY,YAAAA,MAAM,CAACC,SAAS,GAAA7H,eAAA,CAAA,EAAA,EAASgH,cAAuB,CAAE,CAAA;AAClD,YAAA,MAAA;AACD,WAAA;AAED,UAAA,IAAMa,UAAS,GAAA7H,eAAA,KAAQ4H,MAAM,CAACC,SAAS,CAAE,CAAA;AAEzC,UAAA,KAAK,IAAM3F,KAAG,IAAI8E,cAAa,EAAE;AAC/B,YAAA,IAAMpL,KAAK,GAAGoL,cAAa,CAAc9E,KAAG,CAAC,CAAA;YAE7C,IAAItG,KAAK,IAAI,IAAI,EAAE;AACjB,cAAA,IAAIsG,KAAG,KAAK,QAAQ,IAAIA,KAAG,KAAK,OAAO,EAAE;AACvC,gBAAA,MAAM,IAAI7F,KAAK,CAAA,sBAAA,CAAAC,MAAA,CAAuB4F,KAAG,0BAAsB,CAAC,CAAA;AACjE,eAAA;cAED,OAAO2F,UAAS,CAAc3F,KAAG,CAAC,CAAA;AACnC,aAAA,MAAM;AACL2F,cAAAA,UAAS,CAAc3F,KAAG,CAAC,GAAGtG,KAAK,CAAA;AACpC,aAAA;AACF,WAAA;UAEDgM,MAAM,CAACC,SAAS,GAAGA,UAAS,CAAA;AAE5B,UAAA,MAAA;AACD,SAAA;AAED,MAAA,KAAK,YAAY;AAAE,QAAA;AACjB,UAAA,IAAQrP,MAAI,GAA2BH,EAAE,CAAjCG,IAAI;YAAE0E,QAAQ,GAAiB7E,EAAE,CAA3B6E,QAAQ;YAAEgH,WAAU,GAAK7L,EAAE,CAAjB6L,UAAU,CAAA;UAClC,IAAMf,OAAK,GAAG3K,MAAI,CAACA,MAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;AAEnC,UAAA,IAAInB,MAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB,YAAA,MAAM,IAAI0C,KAAK,CAAA,mDAAA,CAAAC,MAAA,CACqC9D,MAAI,6CAA0C,CACjG,CAAA;AACF,WAAA;AAEDqM,UAAAA,cAAc,CAAC+C,MAAM,EAAEnP,IAAI,CAACkE,MAAM,CAACnE,MAAI,CAAC,EAAE,UAAA2I,QAAQ,EAAG;AACnD,YAAA,IAAMiB,IAAI,GAAGjB,QAAQ,CAACgC,OAAK,CAAC,CAAA;AAC5B,YAAA,IAAIsR,OAAmB,CAAA;AACvB,YAAA,IAAIK,QAAoB,CAAA;AAExB,YAAA,IAAI7T,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;cACrB,IAAM4C,MAAM,GAAG5C,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAAC,CAAC,EAAEiD,QAAQ,CAAC,CAAA;cAC3C,IAAM+P,KAAK,GAAG7K,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAACiD,QAAQ,CAAC,CAAA;AACvCuX,cAAAA,OAAO,GAAAzU,eAAA,CAAAA,eAAA,KACFoC,IAAI,CAAA,EAAA,EAAA,EAAA;AACP6B,gBAAAA,IAAI,EAAEe,MAAAA;eACP,CAAA,CAAA;AACD8P,cAAAA,QAAQ,GAAA9U,eAAA,CAAAA,eAAA,KACFkE,WAA4B,CAAA,EAAA,EAAA,EAAA;AAChCD,gBAAAA,IAAI,EAAEgJ,KAAAA;eACP,CAAA,CAAA;AACF,aAAA,MAAM;cACL,IAAMjI,OAAM,GAAG5C,IAAI,CAACjB,QAAQ,CAAClH,KAAK,CAAC,CAAC,EAAEiD,QAAQ,CAAC,CAAA;cAC/C,IAAM+P,MAAK,GAAG7K,IAAI,CAACjB,QAAQ,CAAClH,KAAK,CAACiD,QAAQ,CAAC,CAAA;AAC3CuX,cAAAA,OAAO,GAAAzU,eAAA,CAAAA,eAAA,KACFoC,IAAI,CAAA,EAAA,EAAA,EAAA;AACPjB,gBAAAA,QAAQ,EAAE6D,OAAAA;eACX,CAAA,CAAA;AACD8P,cAAAA,QAAQ,GAAA9U,eAAA,CAAAA,eAAA,KACFkE,WAA+B,CAAA,EAAA,EAAA,EAAA;AACnC/C,gBAAAA,QAAQ,EAAE8L,MAAAA;eACX,CAAA,CAAA;AACF,aAAA;YAED,OAAO0G,eAAe,CAACxS,QAAQ,EAAEgC,OAAK,EAAE,CAAC,EAAEsR,OAAO,EAAEK,QAAQ,CAAC,CAAA;AAC/D,WAAC,CAAC,CAAA;AAEFT,UAAAA,kBAAkB,GAAG,IAAI,CAAA;AACzB,UAAA,MAAA;AACD,SAAA;AACF,KAAA;AAED,IAAA,IAAIA,kBAAkB,IAAIzM,MAAM,CAACC,SAAS,EAAE;AAC1C,MAAA,IAAMA,WAAS,GAAA7H,eAAA,KAAQ4H,MAAM,CAACC,SAAS,CAAE,CAAA;MAAA,IAAAhE,UAAA,GAAAnB,4BAAA,CAEd3J,KAAK,CAACsH,MAAM,CAACwH,WAAS,CAAC,CAAA;QAAA/D,MAAA,CAAA;AAAA,MAAA,IAAA;QAAlD,KAAAD,UAAA,CAAAjB,CAAA,EAAAkB,EAAAA,CAAAA,CAAAA,MAAA,GAAAD,UAAA,CAAA3I,CAAA,EAAA2H,EAAAA,IAAA,GAAoD;AAAA,UAAA,IAAAkB,YAAA,GAAAhG,cAAA,CAAA+F,MAAA,CAAAlI,KAAA,EAAA,CAAA,CAAA;AAAxChD,YAAAA,MAAK,GAAAmL,YAAA,CAAA,CAAA,CAAA;AAAE7B,YAAAA,KAAG,GAAA6B,YAAA,CAAA,CAAA,CAAA,CAAA;UACpB8D,WAAS,CAAC3F,KAAG,CAAC,GAAGrJ,KAAK,CAACV,SAAS,CAACS,MAAK,EAAEP,EAAE,CAAE,CAAA;AAC7C,SAAA;AAAA,OAAA,CAAA,OAAA0K,GAAA,EAAA;QAAAc,UAAA,CAAAb,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAAc,QAAAA,UAAA,CAAAZ,CAAA,EAAA,CAAA;AAAA,OAAA;MAED,IAAI,CAAClK,KAAK,CAAC+B,MAAM,CAAC+M,WAAS,EAAED,MAAM,CAACC,SAAS,CAAC,EAAE;QAC9CD,MAAM,CAACC,SAAS,GAAGA,WAAS,CAAA;AAC7B,OAAA;AACF,KAAA;AACH,GAAA;CACD;;AC/LD;AACO,IAAMkN,cAAc,GAAmB;AAC5C7G,EAAAA,WAAW,WAAAA,WAACtG,CAAAA,MAAM,EAAEnE,KAAK,EAAEhK,OAAO,EAAA;AAChCmO,IAAAA,MAAM,CAACsG,WAAW,CAACzK,KAAK,EAAEhK,OAAO,CAAC,CAAA;GACnC;AACDsV,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACnH,MAAM,EAAEnO,OAAO,EAAA;AACvBmO,IAAAA,MAAM,CAACmH,SAAS,CAACtV,OAAO,CAAC,CAAA;GAC1B;AACDwV,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAACrH,MAAM,EAAEnO,OAAO,EAAA;AACxBmO,IAAAA,MAAM,CAACqH,UAAU,CAACxV,OAAO,CAAC,CAAA;GAC3B;AACD0V,EAAAA,SAAS,EAAAA,SAAAA,SAAAA,CAACvH,MAAM,EAAEnO,OAAO,EAAA;AACvBmO,IAAAA,MAAM,CAACuH,SAAS,CAAC1V,OAAO,CAAC,CAAA;GAC1B;AACDsW,EAAAA,WAAW,EAAAA,SAAAA,WAAAA,CAACnI,MAAM,EAAEnO,OAAO,EAAA;AACzBmO,IAAAA,MAAM,CAACmI,WAAW,CAACtW,OAAO,CAAC,CAAA;GAC5B;AACDwW,EAAAA,QAAQ,WAAAA,QAACrI,CAAAA,MAAM,EAAEhG,KAAK,EAAEnI,OAAO,EAAA;AAC7BmO,IAAAA,MAAM,CAACqI,QAAQ,CAACrO,KAAK,EAAEnI,OAAO,CAAC,CAAA;GAChC;AACD8W,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CAAC3I,MAAM,EAAEnO,OAAO,EAAA;AACxBmO,IAAAA,MAAM,CAAC2I,UAAU,CAAC9W,OAAO,CAAC,CAAA;GAC3B;AACDgX,EAAAA,UAAU,WAAAA,UAAC7I,CAAAA,MAAM,EAAEhG,KAAK,EAAEnI,OAAO,EAAA;AAC/BmO,IAAAA,MAAM,CAAC6I,UAAU,CAAC7O,KAAK,EAAEnI,OAAO,CAAC,CAAA;GAClC;AACDiX,EAAAA,WAAW,EAAAA,SAAAA,WAAAA,CAAC9I,MAAM,EAAEnO,OAAO,EAAA;AACzBmO,IAAAA,MAAM,CAAC8I,WAAW,CAACjX,OAAO,CAAC,CAAA;GAC5B;AACDmX,EAAAA,SAAS,WAAAA,SAAChJ,CAAAA,MAAM,EAAE3F,OAAO,EAAExI,OAAO,EAAA;AAChCmO,IAAAA,MAAM,CAACgJ,SAAS,CAAC3O,OAAO,EAAExI,OAAO,CAAC,CAAA;AACpC,GAAA;CACD;;AC7ID;AACO,IAAMub,mBAAmB,GAAwB;AACtD9H,EAAAA,QAAQ,EAAAA,SAAAA,QAAAA,CAACtF,MAAM,EAAEnO,OAAO,EAAA;AACtBmO,IAAAA,MAAM,CAACsF,QAAQ,CAACzT,OAAO,CAAC,CAAA;GACzB;EACD6T,QAAQ,EAAA,SAAAA,QAAC1F,CAAAA,MAAM,EAAA;IACbA,MAAM,CAAC0F,QAAQ,EAAE,CAAA;GAClB;AACD4B,EAAAA,IAAI,EAAAA,SAAAA,IAAAA,CAACtH,MAAM,EAAEnO,OAAO,EAAA;AAClBmO,IAAAA,MAAM,CAACsH,IAAI,CAACzV,OAAO,CAAC,CAAA;GACrB;AACDuW,EAAAA,MAAM,EAAAA,SAAAA,MAAAA,CAACpI,MAAM,EAAE3J,MAAM,EAAA;AACnB2J,IAAAA,MAAM,CAACoI,MAAM,CAAC/R,MAAM,CAAC,CAAA;GACtB;AACDkS,EAAAA,QAAQ,WAAAA,QAACvI,CAAAA,MAAM,EAAEhG,KAAK,EAAEnI,OAAO,EAAA;AAC7BmO,IAAAA,MAAM,CAACuI,QAAQ,CAACvO,KAAK,EAAEnI,OAAO,CAAC,CAAA;GAChC;AACD2W,EAAAA,YAAY,EAAAA,SAAAA,YAAAA,CAACxI,MAAM,EAAEhG,KAAK,EAAA;AACxBgG,IAAAA,MAAM,CAACwI,YAAY,CAACxO,KAAK,CAAC,CAAA;AAC5B,GAAA;CACD;;ACtBD;AACO,IAAMqT,cAAc,GAAmB;AAAA,EAAA,QAAA,EAAA,SAAAC,OACrCtN,CAAAA,MAAM,EAAEnO,OAAO,EAAA;IACpBmO,MAAM,CAAA,QAAA,CAAO,CAACnO,OAAO,CAAC,CAAA;GACvB;AACDuU,EAAAA,cAAc,WAAAA,cAACpG,CAAAA,MAAM,EAAEvD,QAAQ,EAAE5K,OAAO,EAAA;AACtCmO,IAAAA,MAAM,CAACoG,cAAc,CAAC3J,QAAQ,EAAE5K,OAAO,CAAC,CAAA;GACzC;AACD2U,EAAAA,UAAU,EAAAA,SAAAA,UAAAA,CACRxG,MAAc,EACd3D,IAAY,EACuB;AAAA,IAAA,IAAnCxK,8EAAiC,EAAE,CAAA;AAEnC6L,IAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,MAAA,IAAAuN,cAAA,GAA0B1b,OAAO,CAAzB2b,KAAK;AAALA,QAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACrB,MAAA,IAAAE,WAAA,GAAgD5b,OAAO,CAAjD6Q,EAAE;QAAFA,EAAE,GAAA+K,WAAA,KAAG1N,KAAAA,CAAAA,GAAAA,wBAAwB,CAACC,MAAM,CAAC,GAAAyN,WAAA,CAAA;AAE3C,MAAA,IAAIhX,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;QACvBA,EAAE,GAAGhF,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAC9B,OAAA;AAED,MAAA,IAAIjM,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;AACxB,QAAA,IAAIvR,KAAK,CAACkH,WAAW,CAACqK,EAAE,CAAC,EAAE;UACzBA,EAAE,GAAGA,EAAE,CAAC7M,MAAM,CAAA;AACf,SAAA,MAAM;AACL,UAAA,IAAMG,GAAG,GAAG7E,KAAK,CAAC6E,GAAG,CAAC0M,EAAE,CAAC,CAAA;AACzB,UAAA,IAAI,CAAC8K,KAAK,IAAI9P,MAAM,CAAK,MAAA,CAAA,CAACsC,MAAM,EAAE;AAAE0C,YAAAA,EAAE,EAAE1M,GAAAA;AAAG,WAAE,CAAC,EAAE;AAC9C,YAAA,OAAA;AACD,WAAA;AACD,UAAA,IAAMqB,KAAK,GAAGlG,KAAK,CAACkG,KAAK,CAACqL,EAAE,CAAC,CAAA;UAC7B,IAAMgL,QAAQ,GAAGhQ,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAE3I,KAAK,CAAC,CAAA;UAC/C,IAAMsW,MAAM,GAAGjQ,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAEhK,GAAG,CAAC,CAAA;UAC3C4X,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAE0C,YAAAA,EAAE,EAAFA,EAAE;AAAE8K,YAAAA,KAAK,EAALA,KAAAA;AAAO,WAAA,CAAC,CAAA;AACxC,UAAA,IAAMK,UAAU,GAAGH,QAAQ,CAAC5c,KAAK,EAAE,CAAA;AACnC,UAAA,IAAMgd,QAAQ,GAAGH,MAAM,CAAC7c,KAAK,EAAE,CAAA;UAE/B4R,EAAE,GAAGmL,UAAU,IAAIC,QAAS,CAAA;AAC5BF,UAAAA,UAAU,CAACpF,YAAY,CAACxI,MAAM,EAAE;AAAEnK,YAAAA,MAAM,EAAE6M,EAAE;AAAE5M,YAAAA,KAAK,EAAE4M,EAAAA;AAAE,WAAE,CAAC,CAAA;AAC3D,SAAA;AACF,OAAA;AAED,MAAA,IACG,CAAC8K,KAAK,IAAI9P,MAAM,CAAK,MAAA,CAAA,CAACsC,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAFA,EAAAA;AAAE,OAAE,CAAC,IACtChF,MAAM,CAACiI,eAAe,CAAC3F,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAFA,EAAAA;AAAI,OAAA,CAAC,EACtC;AACA,QAAA,OAAA;AACD,OAAA;MAED,IAAAqL,GAAA,GAAyBrL,EAAE;QAAnB9R,IAAI,GAAAmd,GAAA,CAAJnd,IAAI;QAAEyM,MAAM,GAAA0Q,GAAA,CAAN1Q,MAAM,CAAA;MACpB,IAAIhB,IAAI,CAACtK,MAAM,GAAG,CAAC,EACjBiO,MAAM,CAAC7G,KAAK,CAAC;AAAErE,QAAAA,IAAI,EAAE,aAAa;AAAElE,QAAAA,IAAI,EAAJA,IAAI;AAAEyM,QAAAA,MAAM,EAANA,MAAM;AAAEhB,QAAAA,IAAI,EAAJA,IAAAA;AAAI,OAAE,CAAC,CAAA;AAC7D,KAAC,CAAC,CAAA;AACJ,GAAA;CACD;;;;ICpGYuR,UAAU,GAAAxV,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAA,EAAA,EAIlBoU,iBAAiB,CACjBW,EAAAA,cAAc,GACdC,mBAAmB,CAAA,EACnBC,cAAc;;ACZnB;AAIA,IAAMW,oBAAoB,GAA6B,IAAI3c,OAAO,EAAE,CAAA;AAE7D,IAAM4c,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIjO,MAAc,EAAI;AACrD,EAAA,OAAOgO,oBAAoB,CAACvT,GAAG,CAACuF,MAAM,CAAC,IAAI,KAAK,CAAA;AAClD,CAAC,CAAA;AAEM,IAAMkO,eAAe,GAAG,SAAlBA,eAAeA,CAC1BlO,MAAc,EACduJ,EAAc,EACd4E,MAAkB,EAChB;EACF,IAAMna,KAAK,GAAGga,oBAAoB,CAACvT,GAAG,CAACuF,MAAM,CAAC,IAAI,KAAK,CAAA;AACvDgO,EAAAA,oBAAoB,CAACI,GAAG,CAACpO,MAAM,EAAE,IAAI,CAAC,CAAA;EACtC,IAAI;AACFuJ,IAAAA,EAAE,EAAE,CAAA;AACJ4E,IAAAA,MAAM,EAAE,CAAA;AACT,GAAA,SAAS;AACRH,IAAAA,oBAAoB,CAACI,GAAG,CAACpO,MAAM,EAAEhM,KAAK,CAAC,CAAA;AACxC,GAAA;AACH,CAAC;;;;;ACnBD;;;;;AAKG;SACaqa,gBAAgBA,CAC9BrO,MAAc,EACdsO,aAAqB,EACrB/d,SAAoC,EAAA;EAEpC,IAAMge,aAAa,GAAGnd,WAAW,CAACqJ,GAAG,CAACuF,MAAM,CAAC,IAAI,EAAE,CAAA;AACnD,EAAA,IAAMwO,gBAAgB,GAAGld,eAAe,CAACmJ,GAAG,CAACuF,MAAM,CAAC,IAAI,IAAI3B,GAAG,EAAE,CAAA;AACjE,EAAA,IAAIoQ,UAAkB,CAAA;AACtB,EAAA,IAAIC,aAA0B,CAAA;AAE9B,EAAA,IAAMpQ,GAAG,GAAG,SAANA,GAAGA,CAAI1N,IAAiB,EAAI;AAChC,IAAA,IAAIA,IAAI,EAAE;AACR,MAAA,IAAM0J,GAAG,GAAG1J,IAAI,CAAC+N,IAAI,CAAC,GAAG,CAAC,CAAA;AAE1B,MAAA,IAAI,CAAC+P,aAAa,CAACnR,GAAG,CAACjD,GAAG,CAAC,EAAE;AAC3BoU,QAAAA,aAAa,CAACpQ,GAAG,CAAChE,GAAG,CAAC,CAAA;AACtBmU,QAAAA,UAAU,CAAC9b,IAAI,CAAC/B,IAAI,CAAC,CAAA;AACtB,OAAA;AACF,KAAA;GACF,CAAA;AAED,EAAA,IAAIL,SAAS,EAAE;AACbke,IAAAA,UAAU,GAAG,EAAE,CAAA;AACfC,IAAAA,aAAa,GAAG,IAAIrQ,GAAG,EAAE,CAAA;AAAA,IAAA,IAAAxD,SAAA,GAAAC,4BAAA,CACNyT,aAAa,CAAA;MAAAxT,KAAA,CAAA;AAAA,IAAA,IAAA;MAAhC,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAAkC;AAAA,QAAA,IAAvBrK,IAAI,GAAAmK,KAAA,CAAA/G,KAAA,CAAA;AACb,QAAA,IAAMwB,OAAO,GAAGjF,SAAS,CAACK,IAAI,CAAC,CAAA;QAC/B0N,GAAG,CAAC9I,OAAO,CAAC,CAAA;AACb,OAAA;AAAA,KAAA,CAAA,OAAA2F,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AACF,GAAA,MAAM;AACLoT,IAAAA,UAAU,GAAGF,aAAa,CAAA;AAC1BG,IAAAA,aAAa,GAAGF,gBAAgB,CAAA;AACjC,GAAA;AAAA,EAAA,IAAA5S,UAAA,GAAAd,4BAAA,CAEkBwT,aAAa,CAAA;IAAAxS,MAAA,CAAA;AAAA,EAAA,IAAA;IAAhC,KAAAF,UAAA,CAAAZ,CAAA,EAAAc,EAAAA,CAAAA,CAAAA,MAAA,GAAAF,UAAA,CAAAtI,CAAA,EAAA2H,EAAAA,IAAA,GAAkC;AAAA,MAAA,IAAvBrK,KAAI,GAAAkL,MAAA,CAAA9H,KAAA,CAAA;MACbsK,GAAG,CAAC1N,KAAI,CAAC,CAAA;AACV,KAAA;AAAA,GAAA,CAAA,OAAAuK,GAAA,EAAA;IAAAS,UAAA,CAAAR,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAS,IAAAA,UAAA,CAAAP,CAAA,EAAA,CAAA;AAAA,GAAA;AAEDjK,EAAAA,WAAW,CAACgd,GAAG,CAACpO,MAAM,EAAEyO,UAAU,CAAC,CAAA;AACnCnd,EAAAA,eAAe,CAAC8c,GAAG,CAACpO,MAAM,EAAE0O,aAAa,CAAC,CAAA;AAC5C;;;;;ACtCO,IAAMvV,KAAK,GAAwC,SAA7CA,KAAKA,CAAyC6G,MAAM,EAAEvP,EAAE,EAAI;EAAA,IAAAoK,SAAA,GAAAC,4BAAA,CACrD4C,MAAM,CAACkK,QAAQ,CAAC5H,MAAM,CAAC,CAAA;IAAAjF,KAAA,CAAA;AAAA,EAAA,IAAA;IAAzC,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAA2C;AAAA,MAAA,IAAhCzK,GAAG,GAAAuK,KAAA,CAAA/G,KAAA,CAAA;AACZ1D,MAAAA,OAAO,CAACC,SAAS,CAACC,GAAG,EAAEC,EAAE,CAAC,CAAA;AAC3B,KAAA;AAAA,GAAA,CAAA,OAAA0K,GAAA,EAAA;IAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAN,IAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,GAAA;EAAA,IAAAO,UAAA,GAAAd,4BAAA,CAEiB4C,MAAM,CAACoK,SAAS,CAAC9H,MAAM,CAAC,CAAA;IAAAlE,MAAA,CAAA;AAAA,EAAA,IAAA;IAA1C,KAAAF,UAAA,CAAAZ,CAAA,EAAAc,EAAAA,CAAAA,CAAAA,MAAA,GAAAF,UAAA,CAAAtI,CAAA,EAAA2H,EAAAA,IAAA,GAA4C;AAAA,MAAA,IAAjCzK,IAAG,GAAAsL,MAAA,CAAA9H,KAAA,CAAA;AACZjD,MAAAA,QAAQ,CAACR,SAAS,CAACC,IAAG,EAAEC,EAAE,CAAC,CAAA;AAC5B,KAAA;AAAA,GAAA,CAAA,OAAA0K,GAAA,EAAA;IAAAS,UAAA,CAAAR,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAS,IAAAA,UAAA,CAAAP,CAAA,EAAA,CAAA;AAAA,GAAA;EAAA,IAAAY,UAAA,GAAAnB,4BAAA,CAEiB4C,MAAM,CAACuK,SAAS,CAACjI,MAAM,CAAC,CAAA;IAAA9D,MAAA,CAAA;AAAA,EAAA,IAAA;IAA1C,KAAAD,UAAA,CAAAjB,CAAA,EAAAkB,EAAAA,CAAAA,CAAAA,MAAA,GAAAD,UAAA,CAAA3I,CAAA,EAAA2H,EAAAA,IAAA,GAA4C;AAAA,MAAA,IAAjCzK,KAAG,GAAA0L,MAAA,CAAAlI,KAAA,CAAA;AACZ9C,MAAAA,QAAQ,CAACX,SAAS,CAACC,KAAG,EAAEC,EAAE,CAAC,CAAA;AAC5B,KAAA;AAED;AAAA,GAAA,CAAA,OAAA0K,GAAA,EAAA;IAAAc,UAAA,CAAAb,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAc,IAAAA,UAAA,CAAAZ,CAAA,EAAA,CAAA;AAAA,GAAA;AACA,EAAA,IAAI,CAAC4S,oBAAoB,CAACjO,MAAM,CAAC,EAAE;IACjC,IAAMzP,SAAS,GAAGM,IAAI,CAAC+D,yBAAyB,CAACnE,EAAE,CAAC,GAChD,UAAC0E,CAAO,EAAA;AAAA,MAAA,OAAKtE,IAAI,CAACN,SAAS,CAAC4E,CAAC,EAAE1E,EAAE,CAAC,CAAA;AAAA,KAAA,GAClCuB,SAAS,CAAA;IACbqc,gBAAgB,CAACrO,MAAM,EAAEA,MAAM,CAAC4F,aAAa,CAACnV,EAAE,CAAC,EAAEF,SAAS,CAAC,CAAA;AAC9D,GAAA;AAEDqd,EAAAA,UAAU,CAACrd,SAAS,CAACyP,MAAM,EAAEvP,EAAE,CAAC,CAAA;AAChCuP,EAAAA,MAAM,CAACkJ,UAAU,CAACvW,IAAI,CAAClC,EAAE,CAAC,CAAA;AAC1BiN,EAAAA,MAAM,CAAC8J,SAAS,CAACxH,MAAM,EAAE;AACvBnL,IAAAA,SAAS,EAAEpE,EAAAA;AACZ,GAAA,CAAC,CAAA;AAEF;AACA,EAAA,IAAIA,EAAE,CAACqE,IAAI,KAAK,eAAe,EAAE;IAC/BkL,MAAM,CAACiJ,KAAK,GAAG,IAAI,CAAA;AACpB,GAAA;AAED,EAAA,IAAI,CAAC1X,QAAQ,CAACkJ,GAAG,CAACuF,MAAM,CAAC,EAAE;AACzBzO,IAAAA,QAAQ,CAAC6c,GAAG,CAACpO,MAAM,EAAE,IAAI,CAAC,CAAA;AAE1B2O,IAAAA,OAAO,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,YAAK;AAC1Btd,MAAAA,QAAQ,CAAC6c,GAAG,CAACpO,MAAM,EAAE,KAAK,CAAC,CAAA;MAC3BA,MAAM,CAAC0H,QAAQ,CAAC;AAAE7S,QAAAA,SAAS,EAAEpE,EAAAA;AAAI,OAAA,CAAC,CAAA;MAClCuP,MAAM,CAACkJ,UAAU,GAAG,EAAE,CAAA;AACxB,KAAC,CAAC,CAAA;AACH,GAAA;AACH;;;;;AC/CA;;AAEG;AACI,IAAMtD,aAAa,GAAgD,SAA7DA,aAAaA,CACxB5F,MAAM,EACNvP,EAAE,EACA;EACF,QAAQA,EAAE,CAACqE,IAAI;AACb,IAAA,KAAK,aAAa,CAAA;AAClB,IAAA,KAAK,aAAa,CAAA;AAClB,IAAA,KAAK,UAAU;AAAE,MAAA;AACf,QAAA,IAAQlE,IAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;AACZ,QAAA,OAAOC,IAAI,CAACuB,MAAM,CAACxB,IAAI,CAAC,CAAA;AACzB,OAAA;AAED,IAAA,KAAK,aAAa;AAAE,MAAA;AAClB,QAAA,IAAQ4J,IAAI,GAAW/J,EAAE,CAAjB+J,IAAI;UAAE5J,KAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;AAClB,QAAA,IAAMwB,MAAM,GAAGvB,IAAI,CAACuB,MAAM,CAACxB,KAAI,CAAC,CAAA;QAChC,IAAM+K,WAAW,GAAGtC,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,GACjC,EAAE,GACFvG,KAAK,CAACiK,IAAI,CAAC7E,IAAI,CAACwC,KAAK,CAACrB,IAAI,CAAC,EAAE,UAAAzB,IAAA,EAAA;AAAA,UAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,YAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,UAAA,OAAM7I,KAAI,CAAC8D,MAAM,CAACS,CAAC,CAAC,CAAA;SAAC,CAAA,CAAA;QAE3D,OAAAT,EAAAA,CAAAA,MAAA,CAAAU,kBAAA,CAAWhD,MAAM,CAAAgD,EAAAA,kBAAA,CAAKuG,WAAW,CAAA,CAAA,CAAA;AAClC,OAAA;AAED,IAAA,KAAK,YAAY;AAAE,MAAA;AACjB,QAAA,IAAQ/K,MAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;AACZ,QAAA,IAAMgB,SAAS,GAAGf,IAAI,CAACe,SAAS,CAAChB,MAAI,CAAC,CAAA;AACtC,QAAA,IAAMke,YAAY,GAAGje,IAAI,CAACmE,QAAQ,CAACpE,MAAI,CAAC,CAAA;AACxC,QAAA,OAAA,EAAA,CAAA8D,MAAA,CAAAU,kBAAA,CAAWxD,SAAS,IAAEkd,YAAY,CAAA,CAAA,CAAA;AACnC,OAAA;AAED,IAAA,KAAK,WAAW;AAAE,MAAA;AAChB,QAAA,IAAQle,MAAI,GAAcH,EAAE,CAApBG,IAAI;UAAE4E,OAAO,GAAK/E,EAAE,CAAd+E,OAAO,CAAA;QAErB,IAAI3E,IAAI,CAACqC,MAAM,CAACtC,MAAI,EAAE4E,OAAO,CAAC,EAAE;AAC9B,UAAA,OAAO,EAAE,CAAA;AACV,SAAA;QAED,IAAMuZ,YAAY,GAAW,EAAE,CAAA;QAC/B,IAAMC,YAAY,GAAW,EAAE,CAAA;QAAA,IAAAnU,SAAA,GAAAC,4BAAA,CAERjK,IAAI,CAACe,SAAS,CAAChB,MAAI,CAAC,CAAA;UAAAmK,KAAA,CAAA;AAAA,QAAA,IAAA;UAA3C,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAA6C;AAAA,YAAA,IAAlC/F,QAAQ,GAAA6F,KAAA,CAAA/G,KAAA,CAAA;YACjB,IAAMmB,CAAC,GAAGtE,IAAI,CAACN,SAAS,CAAC2E,QAAQ,EAAEzE,EAAE,CAAC,CAAA;AACtCse,YAAAA,YAAY,CAACpc,IAAI,CAACwC,CAAE,CAAC,CAAA;AACtB,WAAA;AAAA,SAAA,CAAA,OAAAgG,GAAA,EAAA;UAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,SAAA,SAAA;AAAAN,UAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,SAAA;QAAA,IAAAO,UAAA,GAAAd,4BAAA,CAEsBjK,IAAI,CAACe,SAAS,CAAC4D,OAAO,CAAC,CAAA;UAAAsG,MAAA,CAAA;AAAA,QAAA,IAAA;UAA9C,KAAAF,UAAA,CAAAZ,CAAA,EAAAc,EAAAA,CAAAA,CAAAA,MAAA,GAAAF,UAAA,CAAAtI,CAAA,EAAA2H,EAAAA,IAAA,GAAgD;AAAA,YAAA,IAArC/F,SAAQ,GAAA4G,MAAA,CAAA9H,KAAA,CAAA;YACjB,IAAMmB,EAAC,GAAGtE,IAAI,CAACN,SAAS,CAAC2E,SAAQ,EAAEzE,EAAE,CAAC,CAAA;AACtCue,YAAAA,YAAY,CAACrc,IAAI,CAACwC,EAAE,CAAC,CAAA;AACtB,WAAA;AAAA,SAAA,CAAA,OAAAgG,GAAA,EAAA;UAAAS,UAAA,CAAAR,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,SAAA,SAAA;AAAAS,UAAAA,UAAA,CAAAP,CAAA,EAAA,CAAA;AAAA,SAAA;QAED,IAAM4T,SAAS,GAAGD,YAAY,CAACA,YAAY,CAACjd,MAAM,GAAG,CAAC,CAAC,CAAA;QACvD,IAAMgb,QAAQ,GAAGvX,OAAO,CAACA,OAAO,CAACzD,MAAM,GAAG,CAAC,CAAC,CAAA;AAC5C,QAAA,IAAMmd,UAAU,GAAGD,SAAS,CAACva,MAAM,CAACqY,QAAQ,CAAC,CAAA;AAE7C,QAAA,OAAA,EAAA,CAAArY,MAAA,CAAWqa,YAAY,EAAKC,YAAY,GAAEE,UAAU,CAAA,CAAA,CAAA;AACrD,OAAA;AAED,IAAA,KAAK,aAAa;AAAE,MAAA;AAClB,QAAA,IAAQte,MAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;AACZ,QAAA,IAAMgB,UAAS,GAAGf,IAAI,CAACe,SAAS,CAAChB,MAAI,CAAC,CAAA;QACtC,OAAAwE,kBAAA,CAAWxD,UAAS,CAAA,CAAA;AACrB,OAAA;AAED,IAAA,KAAK,YAAY;AAAE,MAAA;AACjB,QAAA,IAAQhB,MAAI,GAAKH,EAAE,CAAXG,IAAI,CAAA;AACZ,QAAA,IAAMwB,OAAM,GAAGvB,IAAI,CAACuB,MAAM,CAACxB,MAAI,CAAC,CAAA;AAChC,QAAA,IAAMue,QAAQ,GAAGte,IAAI,CAAC2D,IAAI,CAAC5D,MAAI,CAAC,CAAA;AAChC,QAAA,OAAA,EAAA,CAAA8D,MAAA,CAAAU,kBAAA,CAAWhD,OAAM,IAAE+c,QAAQ,CAAA,CAAA,CAAA;AAC5B,OAAA;AAED,IAAA;AAAS,MAAA;AACP,QAAA,OAAO,EAAE,CAAA;AACV,OAAA;AACF,GAAA;AACH;;IC9EatJ,WAAW,GAEpB,SAFSA,WAAWA,CAEpB7F,MAAM,EAAG;AACX,EAAA,IAAQC,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;AAEjB,EAAA,IAAIA,SAAS,EAAE;AACb,IAAA,OAAO5G,IAAI,CAACoD,QAAQ,CAACuD,MAAM,EAAEC,SAAS,CAAC,CAAA;AACxC,GAAA;AACD,EAAA,OAAO,EAAE,CAAA;AACX;;ACAO,IAAMwH,aAAa,GAAgD,SAA7DA,aAAaA,CACxBzH,MAAM,EACN9E,KAAK,EACLrJ,OAAO,EACL;AACF,EAAA,IAAAud,MAAA,GAAAjZ,cAAA,CAAqB+E,KAAmB,EAAA,CAAA,CAAA;AAAjCV,IAAAA,IAAI,GAAA4U,MAAA,CAAA,CAAA,CAAA;IAAExe,IAAI,GAAAwe,MAAA,CAAA,CAAA,CAAA,CAAuB;AAExC;AACA,EAAA,IAAI/V,IAAI,CAACqB,MAAM,CAACF,IAAY,CAAC,EAAE;AAC7B,IAAA,OAAA;AACD,GAAA;AAED,EAAA,IAAI,EAAE,UAAU,IAAIA,IAAI,CAAC,EAAE;IASvBA,IAAgB,CAACjB,QAAQ,GAAG,EAAE,CAAA;AACjC,GAAA;AACD,EAAA,IAAIc,OAAO,GAAGG,IAAgB,CAAA;AAE9B;EACA,IAAIH,OAAO,KAAK2F,MAAM,IAAI3F,OAAO,CAACd,QAAQ,CAACxH,MAAM,KAAK,CAAC,EAAE;AACvD,IAAA,IAAMuJ,KAAK,GAAG;AAAEe,MAAAA,IAAI,EAAE,EAAA;KAAI,CAAA;AAC1BuR,IAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAE1E,KAAK,EAAE;AAAEoH,MAAAA,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAAC,CAAC,CAAC;AAAE8Y,MAAAA,KAAK,EAAE,IAAA;AAAM,KAAA,CAAC,CAAA;IAC1EnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAY,CAAA;AAC5C,GAAA;AAED;AACA;AACA;AACA;AACA;AACA,EAAA,IAAMye,iBAAiB,GACrB,EAAEhV,OAAO,KAAK2F,MAAM,CAAC,KACpBA,MAAM,CAAC8G,QAAQ,CAACzM,OAAO,CAAC,IACvBhB,IAAI,CAACqB,MAAM,CAACL,OAAO,CAACd,QAAQ,CAAC,CAAC,CAAC,CAAC,IAChCyG,MAAM,CAAC8G,QAAQ,CAACzM,OAAO,CAACd,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;AAEzC,EAAA,IAAI8V,iBAAiB,EAAE;AACrB;AACA,IAAA,KAAK,IAAI/b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+G,OAAO,CAACd,QAAQ,CAACxH,MAAM,EAAEuB,CAAC,EAAE,EAAE;AAChD,MAAA,IAAMgI,MAAK,GAAGjB,OAAO,CAACd,QAAQ,CAACjG,CAAC,CAAC,CAAA;MACjC,IAAMsZ,IAAI,GAAGvS,OAAO,CAACd,QAAQ,CAACjG,CAAC,GAAG,CAAC,CAA2B,CAAA;AAE9D,MAAA,IAAI+F,IAAI,CAACqB,MAAM,CAACY,MAAK,CAAC,EAAE;QACtB,IAAIsR,IAAI,IAAI,IAAI,IAAIvT,IAAI,CAACqB,MAAM,CAACkS,IAAI,CAAC,EAAE;AACrC;AACA,UAAA,IAAItR,MAAK,CAACe,IAAI,KAAK,EAAE,EAAE;AACrBuR,YAAAA,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;AAC7B0C,cAAAA,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,CAAC,CAAC;AAClBka,cAAAA,KAAK,EAAE,IAAA;AACR,aAAA,CAAC,CAAA;YACFnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAY,CAAA;AAC3C0C,YAAAA,CAAC,EAAE,CAAA;AACJ,WAAA,MAAM,IAAIsZ,IAAI,CAACvQ,IAAI,KAAK,EAAE,EAAE;AAC3BuR,YAAAA,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;cAC7B0C,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,CAAC,GAAG,CAAC,CAAC;AACtBka,cAAAA,KAAK,EAAE,IAAA;AACR,aAAA,CAAC,CAAA;YACFnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAY,CAAA;AAC3C0C,YAAAA,CAAC,EAAE,CAAA;WACJ,MAAM,IAAImK,IAAI,CAACvK,MAAM,CAACoI,MAAK,EAAEsR,IAAI,EAAE;AAAEzC,YAAAA,KAAK,EAAE,IAAA;AAAI,WAAE,CAAC,EAAE;AACpDyD,YAAAA,UAAU,CAACvG,UAAU,CAACrH,MAAM,EAAE;AAAE0C,cAAAA,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,CAAC,CAAC;AAAEka,cAAAA,KAAK,EAAE,IAAA;AAAI,aAAE,CAAC,CAAA;YAClEnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAY,CAAA;AAC3C0C,YAAAA,CAAC,EAAE,CAAA;AACJ,WAAA;AACF,SAAA;AACF,OAAA,MAAM;AACL,QAAA,IAAI0M,MAAM,CAAC8G,QAAQ,CAACxL,MAAK,CAAC,EAAE;AAC1B;UACA,IAAIsR,IAAI,IAAI,IAAI,IAAI,CAACvT,IAAI,CAACqB,MAAM,CAACkS,IAAI,CAAC,EAAE;AACtC,YAAA,IAAM0C,QAAQ,GAAG;AAAEjT,cAAAA,IAAI,EAAE,EAAA;aAAI,CAAA;AAC7BuR,YAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAEsP,QAAQ,EAAE;AACvC5M,cAAAA,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,CAAC,CAAC;AAClBka,cAAAA,KAAK,EAAE,IAAA;AACR,aAAA,CAAC,CAAA;YACFnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAY,CAAA;AAC3C0C,YAAAA,CAAC,EAAE,CAAA;AACJ,WAAA;UACD,IAAIA,CAAC,KAAK+G,OAAO,CAACd,QAAQ,CAACxH,MAAM,GAAG,CAAC,EAAE;AACrC,YAAA,IAAMud,SAAQ,GAAG;AAAEjT,cAAAA,IAAI,EAAE,EAAA;aAAI,CAAA;AAC7BuR,YAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAEsP,SAAQ,EAAE;cACvC5M,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,CAAC,GAAG,CAAC,CAAC;AACtBka,cAAAA,KAAK,EAAE,IAAA;AACR,aAAA,CAAC,CAAA;YACFnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAY,CAAA;AAC3C0C,YAAAA,CAAC,EAAE,CAAA;AACJ,WAAA;AACF,SAAA,MAAM;AACL;AACA;AACAsa,UAAAA,UAAU,CAAC9E,WAAW,CAAC9I,MAAM,EAAE;AAAE0C,YAAAA,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,CAAC,CAAC;AAAEka,YAAAA,KAAK,EAAE,IAAA;AAAI,WAAE,CAAC,CAAA;UACnEnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAY,CAAA;AAC3C0C,UAAAA,CAAC,EAAE,CAAA;AACJ,SAAA;AACF,OAAA;AACF,KAAA;AACF,GAAA,MAAM;AACL;AACA,IAAA,KAAK,IAAIA,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG+G,OAAO,CAACd,QAAQ,CAACxH,MAAM,EAAEuB,EAAC,EAAE,EAAE;AAChD,MAAA,IAAMgI,OAAK,GAAGjB,OAAO,CAACd,QAAQ,CAACjG,EAAC,CAAC,CAAA;AAEjC;AACA,MAAA,IAAI+F,IAAI,CAACqB,MAAM,CAACY,OAAK,CAAC,IAAI0E,MAAM,CAAC8G,QAAQ,CAACxL,OAAK,CAAC,EAAE;AAChD,QAAA,IAAIzJ,OAAO,KAAPA,IAAAA,IAAAA,OAAO,eAAPA,OAAO,CAAE0d,eAAe,EAAE;UAC5B3B,UAAU,CAAC5E,SAAS,CAAChJ,MAAM,EAAEnO,OAAO,CAAC0d,eAAe,EAAE,EAAE;AACtD7M,YAAAA,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,EAAC,CAAC;AAClBka,YAAAA,KAAK,EAAE,IAAA;AACR,WAAA,CAAC,CAAA;AACH,SAAA,MAAM;AACLI,UAAAA,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;AAAE0C,YAAAA,EAAE,EAAE9R,IAAI,CAAC8D,MAAM,CAACpB,EAAC,CAAC;AAAEka,YAAAA,KAAK,EAAE,IAAA;AAAI,WAAE,CAAC,CAAA;AACpE,SAAA;QACDnT,OAAO,GAAGhB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAa,CAAA;AAC5C0C,QAAAA,EAAC,EAAE,CAAA;AACJ,OAAA;AACF,KAAA;AACF,GAAA;AACH;;ACnIO,IAAMoV,eAAe,GAAkD,SAAjEA,eAAeA,CAC1B1I,MAAM,EAAAjH,IAAA,EAEJ;AAAA,EAAA,IADAyW,SAAS,GAAAzW,IAAA,CAATyW,SAAS;IAAEC,uBAAuB,GAAA1W,IAAA,CAAvB0W,uBAAuB,CAAA;AAEpC,EAAA,IAAMC,aAAa,GAAGD,uBAAuB,GAAG,EAAE,CAAA;EAElD,IAAID,SAAS,GAAGE,aAAa,EAAE;AAC7B,IAAA,MAAM,IAAIjb,KAAK,CAAA,kDAAA,CAAAC,MAAA,CACsCgb,aAAa,8GAA2G,CAC5K,CAAA;AACF,GAAA;AAED,EAAA,OAAO,IAAI,CAAA;AACb;;ICZavK,KAAK,GAA6B,SAAlCA,KAAKA,CAA8BnF,MAAM,EAAkB;AAAA,EAAA,IAAhBnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAClE,EAAA,IAAAyb,cAAA,GAKI1b,OAAO,CAJT2b,KAAK;AAALA,IAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;IAAAoC,aAAA,GAIX9d,OAAO,CAHT+d,IAAI;AAAJA,IAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;IAAAlC,WAAA,GAGb5b,OAAO,CAFT6Q,EAAE;AAAFA,IAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;IACrBxI,KAAK,GACHpT,OAAO,CADToT,KAAK,CAAA;EAGP,IAAI,CAACvC,EAAE,EAAE;AACP,IAAA,OAAA;AACD,GAAA;EAED,IAAI9R,IAAI,GAAG8M,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAElC;AACA;EACA,IAAI,CAACjM,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,IAAI7R,IAAI,CAACqC,MAAM,CAACwP,EAAE,CAAC5M,KAAK,CAAClF,IAAI,EAAE8R,EAAE,CAAC7M,MAAM,CAACjF,IAAI,CAAC,EAAE;AACvE,IAAA,IAAIA,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE,OAAA;AACvBnB,IAAAA,IAAI,GAAGC,IAAI,CAACkE,MAAM,CAACnE,IAAI,CAAC,CAAA;AACzB,GAAA;AAED,EAAA,IAAMsB,OAAO,GAAG0d,IAAI,KAAK,QAAQ,CAAA;AAEjC,EAAA,IAAAC,cAAA,GAAqBnS,MAAM,CAACtL,MAAM,CAAC4N,MAAM,EAAE;AACzC0C,MAAAA,EAAE,EAAE9R,IAAI;AACR4c,MAAAA,KAAK,EAALA,KAAK;AACLvI,MAAAA,KAAK,EAALA,KAAK;AACL/S,MAAAA,OAAO,EAAPA,OAAAA;AACD,KAAA,CAAC;IAAA4d,eAAA,GAAA3Z,cAAA,CAAA0Z,cAAA,EAAA,CAAA,CAAA;AALKE,IAAAA,UAAU,GAAAD,eAAA,CAAA,CAAA,CAAA,CAAA;EAMjB,OAAOC,UAAU,CAAA;AACnB;;;;AC3BO,IAAM3K,OAAO,GAA+B,SAAtCA,OAAOA,CAAgCpF,MAAM,EAAE1F,GAAG,EAAEtG,KAAK,EAAI;AACxE,EAAA,IAAQiM,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;AAEjB,EAAA,IAAIA,SAAS,EAAE;IACb,IAAMgF,KAAK,GAAG,SAARA,KAAKA,CAAIzK,IAAU,EAAE5J,IAAU,EAAI;AACvC,MAAA,IAAI,CAACyI,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;QACtB,OAAO,KAAK,CAAA;AACb,OAAA;;MACDwV,IAAAA,cAAA,GAAiCtS,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAEpP,IAAI,CAAC,CAAA;QAAAqf,eAAA,GAAA9Z,cAAA,CAAA6Z,cAAA,EAAA,CAAA,CAAA,CAAA;AAArDE,QAAAA,UAAU,GAAAD,eAAA,CAAA,CAAA,CAAA,CAAA;AAAEzR,QAAUyR,eAAA,CAAA,CAAA,EAAA;AAC7B,MAAA,OAAO,CAACjQ,MAAM,CAACkH,MAAM,CAACgJ,UAAU,CAAC,IAAIlQ,MAAM,CAACoH,YAAY,CAAC8I,UAAU,CAAC,CAAA;KACrE,CAAA;AACD,IAAA,IAAMC,iBAAiB,GAAGhf,KAAK,CAACmH,UAAU,CAAC2H,SAAS,CAAC,CAAA;IACrD,IAAImQ,yBAAyB,GAAG,KAAK,CAAA;IACrC,IAAI,CAACD,iBAAiB,EAAE;MACtB,IAAAhQ,YAAA,GAAqCzC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEC,SAAS,CAAC;QAAAG,aAAA,GAAAjK,cAAA,CAAAgK,YAAA,EAAA,CAAA,CAAA;AAA5DkQ,QAAAA,YAAY,GAAAjQ,aAAA,CAAA,CAAA,CAAA;AAAEkQ,QAAAA,YAAY,GAAAlQ,aAAA,CAAA,CAAA,CAAA,CAAA;MACjC,IAAIiQ,YAAY,IAAIpL,KAAK,CAACoL,YAAY,EAAEC,YAAY,CAAC,EAAE;QACrD,IAAAC,eAAA,GAAqB7S,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAEsQ,YAAY,CAAC;UAAAE,eAAA,GAAAra,cAAA,CAAAoa,eAAA,EAAA,CAAA,CAAA;AAAjDL,UAAAA,UAAU,GAAAM,eAAA,CAAA,CAAA,CAAA,CAAA;QACjBJ,yBAAyB,GACvBF,UAAU,IAAIlQ,MAAM,CAACoH,YAAY,CAAC8I,UAAU,CAAC,CAAA;AAChD,OAAA;AACF,KAAA;IACD,IAAIC,iBAAiB,IAAIC,yBAAyB,EAAE;MAClDxC,UAAU,CAACvF,QAAQ,CACjBrI,MAAM,EAAAyQ,eAAA,CACHnW,EAAAA,EAAAA,GAAG,EAAGtG,KAAK,CACd,EAAA;AACEiR,QAAAA,KAAK,EAALA,KAAK;AACLyL,QAAAA,KAAK,EAAE,IAAI;AACXlD,QAAAA,KAAK,EAAE,IAAA;AACR,OAAA,CACF,CAAA;AACF,KAAA,MAAM;MACL,IAAMvE,KAAK,GAAA7Q,eAAA,CAAAA,eAAA,CACLsF,EAAAA,EAAAA,MAAM,CAACuL,KAAK,CAACjJ,MAAM,CAAC,IAAI,EAAE,CAAA,EAAA,EAAA,EAAAyQ,eAAA,CAC7BnW,EAAAA,EAAAA,GAAG,EAAGtG,KAAK,CACb,CAAA,CAAA;MAEDgM,MAAM,CAACiJ,KAAK,GAAGA,KAAK,CAAA;AACpB,MAAA,IAAI,CAAC1X,QAAQ,CAACkJ,GAAG,CAACuF,MAAM,CAAC,EAAE;QACzBA,MAAM,CAAC0H,QAAQ,EAAE,CAAA;AAClB,OAAA;AACF,KAAA;AACF,GAAA;AACH;;;;;;;AChDO,IAAMrC,KAAK,GAA6B,SAAlCA,KAAKA,CAA8BrF,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACtE,IAAM+D,MAAM,GAAG6H,MAAM,CAAC1M,KAAK,CAACgP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,IAAAA,IAAI,EAAE,KAAA;AAAK,GAAE,CAAC,CAAA;EACxD,IAAM7a,KAAK,GAAG4H,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE,EAAE,CAAC,CAAA;AACpC,EAAA,IAAMpK,KAAK,GAAG;AAAEC,IAAAA,MAAM,EAANA,MAAM;AAAEC,IAAAA,KAAK,EAALA,KAAAA;GAAO,CAAA;AAC/B,EAAA,IAAA8a,iBAAA,GAAyB/e,OAAO,CAAxBkP,QAAQ;AAARA,IAAAA,QAAQ,GAAA6P,iBAAA,KAAG,KAAA,CAAA,GAAA,CAAC,GAAAA,iBAAA,CAAA;EACpB,IAAIC,CAAC,GAAG,CAAC,CAAA;AACT,EAAA,IAAIxa,MAAM,CAAA;AAAA,EAAA,IAAAwE,SAAA,GAAAC,4BAAA,CAEM4C,MAAM,CAACqK,SAAS,CAAC/H,MAAM,EAAA5H,eAAA,CAAAA,eAAA,KAClCvG,OAAO,CAAA,EAAA,EAAA,EAAA;AACV6Q,MAAAA,EAAE,EAAE9M,KAAAA;AAAK,KAAA,CACV,CAAC,CAAA;IAAAmF,KAAA,CAAA;AAAA,EAAA,IAAA;IAHF,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAGI;AAAA,MAAA,IAHO9F,CAAC,GAAA4F,KAAA,CAAA/G,KAAA,CAAA;MAIV,IAAI6c,CAAC,GAAG9P,QAAQ,EAAE;AAChB,QAAA,MAAA;AACD,OAAA;MAED,IAAI8P,CAAC,KAAK,CAAC,EAAE;AACXxa,QAAAA,MAAM,GAAGlB,CAAC,CAAA;AACX,OAAA;AAED0b,MAAAA,CAAC,EAAE,CAAA;AACJ,KAAA;AAAA,GAAA,CAAA,OAAA1V,GAAA,EAAA;IAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAN,IAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,GAAA;AAED,EAAA,OAAOhF,MAAM,CAAA;AACf;;;;;;;ACxBO,IAAM+G,MAAM,GAA8B,SAApCA,MAAMA,CAA+B4C,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACxE,IAAM+D,MAAM,GAAG6H,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAE,EAAE,CAAC,CAAA;EACvC,IAAMlK,KAAK,GAAG4H,MAAM,CAAC1M,KAAK,CAACgP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,IAAAA,IAAI,EAAE,OAAA;AAAO,GAAE,CAAC,CAAA;AACzD,EAAA,IAAM/a,KAAK,GAAG;AAAEC,IAAAA,MAAM,EAANA,MAAM;AAAEC,IAAAA,KAAK,EAALA,KAAAA;GAAO,CAAA;AAC/B,EAAA,IAAA8a,iBAAA,GAAyB/e,OAAO,CAAxBkP,QAAQ;AAARA,IAAAA,QAAQ,GAAA6P,iBAAA,KAAG,KAAA,CAAA,GAAA,CAAC,GAAAA,iBAAA,CAAA;EACpB,IAAIC,CAAC,GAAG,CAAC,CAAA;AACT,EAAA,IAAIxa,MAAM,CAAA;AAAA,EAAA,IAAAwE,SAAA,GAAAC,4BAAA,CAEM4C,MAAM,CAACqK,SAAS,CAAC/H,MAAM,EAAA5H,eAAA,CAAAA,eAAA,KAClCvG,OAAO,CAAA,EAAA,EAAA,EAAA;AACV6Q,MAAAA,EAAE,EAAE9M,KAAK;AACT1D,MAAAA,OAAO,EAAE,IAAA;AAAI,KAAA,CACd,CAAC,CAAA;IAAA6I,KAAA,CAAA;AAAA,EAAA,IAAA;IAJF,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAII;AAAA,MAAA,IAJO9F,CAAC,GAAA4F,KAAA,CAAA/G,KAAA,CAAA;MAKV,IAAI6c,CAAC,GAAG9P,QAAQ,EAAE;AAChB,QAAA,MAAA;AACD,OAAA;MAED,IAAI8P,CAAC,KAAK,CAAC,EAAE;AACXxa,QAAAA,MAAM,GAAGlB,CAAC,CAAA;AACX,OAAA;AAED0b,MAAAA,CAAC,EAAE,CAAA;AACJ,KAAA;AAAA,GAAA,CAAA,OAAA1V,GAAA,EAAA;IAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAN,IAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,GAAA;AAED,EAAA,OAAOhF,MAAM,CAAA;AACf;;ACtBO,IAAMkP,cAAc,GAAiD,SAA/DA,cAAcA,CACzBvF,MAAM,EACNoJ,IAAI,EACF;AACF,EAAA,IAAQnJ,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;EAEjB,IAAIA,SAAS,IAAI9O,KAAK,CAACkH,WAAW,CAAC4H,SAAS,CAAC,EAAE;IAC7C2N,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAEoJ,MAAAA,IAAI,EAAJA,IAAI;AAAElX,MAAAA,OAAO,EAAE,IAAA;AAAI,KAAE,CAAC,CAAA;AACnD,GAAA;AACH;;ACTO,IAAMsT,aAAa,GAAgD,SAA7DA,aAAaA,CACxBxF,MAAM,EACNoJ,IAAI,EACF;AACF,EAAA,IAAQnJ,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;EAEjB,IAAIA,SAAS,IAAI9O,KAAK,CAACkH,WAAW,CAAC4H,SAAS,CAAC,EAAE;IAC7C2N,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAEoJ,MAAAA,IAAI,EAAJA,IAAAA;AAAM,KAAA,CAAC,CAAA;AACpC,GAAA;AACH;;ICVa3D,cAAc,GAAsC,SAApDA,cAAcA,CACzBzF,MAAM,EAEJ;AAAA,EAAA,IAAAjH,IAAA,GAAAjH,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAD0B,EAAE;IAAAgf,cAAA,GAAA/X,IAAA,CAA5BgY,SAAS;AAATA,IAAAA,SAAS,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,SAAS,GAAAA,cAAA,CAAA;AAEvB,EAAA,IAAQ7Q,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;EAEjB,IAAIA,SAAS,IAAI9O,KAAK,CAACmH,UAAU,CAAC2H,SAAS,CAAC,EAAE;IAC5C2N,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;MAAE9N,OAAO,EAAE6e,SAAS,KAAK,UAAA;AAAU,KAAE,CAAC,CAAA;AACjE,GAAA;AACH;;ACXO,IAAMpb,KAAK,GAA6B,SAAlCA,KAAKA,CAA8BqK,MAAM,EAAE0C,EAAE,EAAI;AAC5D,EAAA,OAAO,CAAChF,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAE0C,EAAE,CAAC,EAAEhF,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE0C,EAAE,CAAC,CAAC,CAAA;AAC3D;;;;ICDaiD,eAAe,GAAuC,SAAtDA,eAAeA,CAC1B3F,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAEZ,OAAO4L,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAA5H,eAAA,CAAAA,eAAA,CAAA,EAAA,EACrBvG,OAAO,CAAA,EAAA,EAAA,EAAA;IACVoT,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,MAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAACiJ,iBAAiB,CAAC3G,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,KAAA;AAAA,GAAA,CACrE,CAAC,CAAA;AACJ;;ACTO,IAAM0C,GAAG,GAA2B,SAA9BA,GAAGA,CAA4BgK,MAAM,EAAE0C,EAAE,EAAI;AACxD,EAAA,OAAOhF,MAAM,CAAC1M,KAAK,CAACgP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,IAAAA,IAAI,EAAE,KAAA;AAAK,GAAE,CAAC,CAAA;AAClD;;ACFO,IAAMnU,KAAK,GAA6B,SAAlCA,KAAKA,CAA8BwD,MAAM,EAAE0C,EAAE,EAAI;EAC5D,IAAM9R,IAAI,GAAG8M,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,IAAAA,IAAI,EAAE,OAAA;AAAO,GAAE,CAAC,CAAA;AACvD,EAAA,OAAOjT,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEpP,IAAI,CAAC,CAAA;AAClC;;ACFO,IAAM6L,QAAQ,GAAgC,SAAxCA,QAAQA,CAAiCuD,MAAM,EAAE0C,EAAE,EAAI;EAClE,IAAM9M,KAAK,GAAG8H,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAE0C,EAAE,CAAC,CAAA;AACtC,EAAA,OAAOrJ,IAAI,CAACoD,QAAQ,CAACuD,MAAM,EAAEpK,KAAK,CAAC,CAAA;AACrC;;;;ICHaob,OAAO,GAA4B,SAAnCA,OAAOA,CAA6BhR,MAAM,EAAkB;AAAA,EAAA,IAAhBnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACnE,OAAO4L,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAA5H,eAAA,CAAAA,eAAA,CAAA,EAAA,EACrBvG,OAAO,CAAA,EAAA,EAAA,EAAA;IACVoT,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,MAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAACwJ,MAAM,CAAClH,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,KAAA;AAAA,GAAA,CAC1D,CAAC,CAAA;AACJ;;ACLO,IAAMyS,SAAS,GAAiC,SAA1CA,SAASA,CAAkC/F,MAAM,EAAE3F,OAAO,EAAI;AACzE,EAAA,OAAOA,OAAO,CAACd,QAAQ,CAAC0X,IAAI,CAC1B,UAAA3d,CAAC,EAAA;AAAA,IAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;GACpD,CAAA,CAAA;AACH;;ACJO,IAAM0S,UAAU,GAAkC,SAA5CA,UAAUA,CAAmChG,MAAM,EAAE3F,OAAO,EAAI;AAC3E,EAAA,OAAOA,OAAO,CAACd,QAAQ,CAAC0X,IAAI,CAC1B,UAAA3d,CAAC,EAAA;AAAA,IAAA,OAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,CAAA;GAClD,CAAA,CAAA;AACH;;ACJO,IAAM2S,OAAO,GAA+B,SAAtCA,OAAOA,CAAgCjG,MAAM,EAAEpP,IAAI,EAAI;AAClE,EAAA,OAAOyI,IAAI,CAACkE,GAAG,CAACyC,MAAM,EAAEpP,IAAI,CAAC,CAAA;AAC/B;;ACFO,IAAMsV,QAAQ,GAAgC,SAAxCA,QAAQA,CAAiClG,MAAM,EAAE3F,OAAO,EAAI;AACvE,EAAA,OAAOA,OAAO,CAACd,QAAQ,CAAClG,KAAK,CAAC,UAAAC,CAAC,EAAA;AAAA,IAAA,OAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,CAAA;GAAC,CAAA,CAAA;AACpD;;ICFa6S,WAAW,GAAmC,SAA9CA,WAAWA,CAAmCnG,MAAM,EAAG;AAClE4N,EAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAAEkR,IAAAA,MAAM,EAAE,IAAA;AAAM,GAAA,CAAC,CAAA;AACjD;;ACFO,IAAM7K,UAAU,GAAkC,SAA5CA,UAAUA,CACrBrG,MAAM,EACNxF,IAAI,EACJ3I,OAAO,EACL;EACF+b,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAExF,IAAI,EAAE3I,OAAO,CAAC,CAAA;AAC/C;;ICNa0U,eAAe,GAAuC,SAAtDA,eAAeA,CAAuCvG,MAAM,EAAG;AAC1E4N,EAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAAEkR,IAAAA,MAAM,EAAE,IAAA;AAAM,GAAA,CAAC,CAAA;AACjD;;;;ACFO,IAAM1K,UAAU,GAAkC,SAA5CA,UAAUA,CACrBxG,MAAM,EACN3D,IAAI,EAEF;AAAA,EAAA,IADFxK,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAQmO,SAAS,GAAYD,MAAM,CAA3BC,SAAS;IAAEgJ,KAAK,GAAKjJ,MAAM,CAAhBiJ,KAAK,CAAA;AAExB,EAAA,IAAIhJ,SAAS,EAAE;AACb,IAAA,IAAIgJ,KAAK,EAAE;MACT,IAAMzO,IAAI,GAAApC,eAAA,CAAA;AAAKiE,QAAAA,IAAI,EAAJA,IAAAA;AAAI,OAAA,EAAK4M,KAAK,CAAE,CAAA;AAC/B2E,MAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAExF,IAAI,EAAE;QACnCkI,EAAE,EAAE7Q,OAAO,CAAC6Q,EAAE;QACd8K,KAAK,EAAE3b,OAAO,CAAC2b,KAAAA;AAChB,OAAA,CAAC,CAAA;AACH,KAAA,MAAM;MACLI,UAAU,CAACpH,UAAU,CAACxG,MAAM,EAAE3D,IAAI,EAAExK,OAAO,CAAC,CAAA;AAC7C,KAAA;IAEDmO,MAAM,CAACiJ,KAAK,GAAG,IAAI,CAAA;AACpB,GAAA;AACH;;ACrBO,IAAMxC,OAAO,GAA+B,SAAtCA,OAAOA,CAAgCzG,MAAM,EAAEhM,KAAK,EAAI;AACnE,EAAA,OAAO,CAACgM,MAAM,CAAC8G,QAAQ,CAAC9S,KAAK,CAAC,CAAA;AAChC;;ACFO,IAAM0S,MAAM,GAA8B,SAApCA,MAAMA,CAA+B1G,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,EAAI;EACrE,OAAOhF,MAAM,CAACuJ,OAAO,CAACjH,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,CAAC,IAAIhF,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,CAAC,CAAA;AAC7E;;ACDO,IAAMkE,OAAO,GAA+B,SAAtCA,OAAOA,CAAgC5G,MAAM,EAAE3F,OAAO,EAAI;AACrE,EAAA,IAAQd,QAAQ,GAAKc,OAAO,CAApBd,QAAQ,CAAA;AAChB,EAAA,IAAA4X,SAAA,GAAAhb,cAAA,CAAgBoD,QAAQ,EAAA,CAAA,CAAA;AAAjBiD,IAAAA,KAAK,GAAA2U,SAAA,CAAA,CAAA,CAAA,CAAA;AACZ,EAAA,OACE5X,QAAQ,CAACxH,MAAM,KAAK,CAAC,IACpBwH,QAAQ,CAACxH,MAAM,KAAK,CAAC,IACpBsH,IAAI,CAACqB,MAAM,CAAC8B,KAAK,CAAC,IAClBA,KAAK,CAACH,IAAI,KAAK,EAAE,IACjB,CAAC2D,MAAM,CAACkH,MAAM,CAAC7M,OAAO,CAAE,CAAA;AAE9B;;ACVO,IAAMwM,KAAK,GAA6B,SAAlCA,KAAKA,CAA8B7G,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,EAAI;EACnE,IAAM1M,GAAG,GAAG0H,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAClC,EAAA,OAAOzR,KAAK,CAACiC,MAAM,CAAClC,KAAK,EAAEgF,GAAG,CAAC,CAAA;AACjC;;ICHa+Q,aAAa,GAAqC,SAAAA,aAAAA,CAAA/G,MAAM,EAAG;AACtE,EAAA,IAAM+G,aAAa,GAAGvV,WAAW,CAACiJ,GAAG,CAACuF,MAAM,CAAC,CAAA;AAC7C,EAAA,OAAO+G,aAAa,KAAK/U,SAAS,GAAG,IAAI,GAAG+U,aAAa,CAAA;AAC3D;;ACHO,IAAME,OAAO,GAA+B,SAAtCA,OAAOA,CAAgCjH,MAAM,EAAEhP,KAAK,EAAE0R,EAAE,EAAI;AACvE;AACA,EAAA,IAAI1R,KAAK,CAACqM,MAAM,KAAK,CAAC,EAAE;AACtB,IAAA,OAAO,KAAK,CAAA;AACb,GAAA;EAED,IAAMhG,KAAK,GAAGqG,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAE0C,EAAE,CAAC,CAAA;AACtC,EAAA,OAAOzR,KAAK,CAACiC,MAAM,CAAClC,KAAK,EAAEqG,KAAK,CAAC,CAAA;AACnC;;ACTO,IAAM1C,IAAI,GAA4B,SAAhCA,IAAIA,CAA6BqL,MAAM,EAAE0C,EAAE,EAAI;EAC1D,IAAM9R,IAAI,GAAG8M,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,IAAAA,IAAI,EAAE,KAAA;AAAK,GAAE,CAAC,CAAA;AACrD,EAAA,OAAOjT,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEpP,IAAI,CAAC,CAAA;AAClC;;ACFO,IAAMiN,IAAI,GAA4B,SAAhCA,IAAIA,CAA6BmC,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACpE,IAAMlB,IAAI,GAAG8M,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,CAAC,CAAA;EAC7C,IAAM2I,IAAI,GAAGnB,IAAI,CAACwE,IAAI,CAACmC,MAAM,EAAEpP,IAAI,CAAC,CAAA;AACpC,EAAA,OAAO,CAAC4J,IAAI,EAAE5J,IAAI,CAAC,CAAA;AACrB;;;;;ACJM,SAAWwB,MAAMA,CACrB4N,MAAc,EAAA;AAAA,EAAA,IACdnO,8EAAkC,EAAE,CAAA;EAAA,OAAA,aAAA;AAEpC,IAAA,IAAA4b,WAAA,GAAkE5b,OAAO,CAAjE6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAAxb,gBAAA,GAAqCJ,OAAO,CAA1CK,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAsb,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AAC7D,IAAA,IAAMtI,KAAK,GAAKpT,OAAO,CAAjBoT,KAAK,CAAA;IAEX,IAAIA,KAAK,IAAI,IAAI,EAAE;MACjBA,KAAK,GAAG,SAAAA,KAAA,GAAA;AAAA,QAAA,OAAM,IAAI,CAAA;AAAA,OAAA,CAAA;AACnB,KAAA;IAED,IAAI,CAACvC,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAMtQ,MAAM,GAAmB,EAAE,CAAA;IACjC,IAAMxB,IAAI,GAAG8M,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,CAAC,CAAA;IAAA,IAAA7H,SAAA,GAAAC,4BAAA,CAEfzB,IAAI,CAACjH,MAAM,CAAC4N,MAAM,EAAEpP,IAAI,CAAC,CAAA;MAAAmK,KAAA,CAAA;AAAA,IAAA,IAAA;MAA9C,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAAgD;AAAA,QAAA,IAAA+R,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AAApCV,UAAAA,CAAC,GAAA0Z,WAAA,CAAA,CAAA,CAAA;AAAE7X,UAAAA,CAAC,GAAA6X,WAAA,CAAA,CAAA,CAAA,CAAA;AACd,QAAA,IAAI,CAAC/H,KAAK,CAAC3R,CAAC,EAAE6B,CAAC,CAAC,EAAE;AAChB,UAAA,SAAA;AACD,SAAA;QAED/C,MAAM,CAACO,IAAI,CAAC,CAACW,CAAC,EAAE6B,CAAC,CAAiB,CAAC,CAAA;AAEnC,QAAA,IAAI,CAACqY,KAAK,IAAInU,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAACwJ,MAAM,CAAClH,MAAM,EAAE1M,CAAC,CAAC,EAAE;AAC3D,UAAA,MAAA;AACD,SAAA;AACF,OAAA;AAAA,KAAA,CAAA,OAAA6H,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AAED,IAAA,IAAInJ,OAAO,EAAE;MACXE,MAAM,CAACF,OAAO,EAAE,CAAA;AACjB,KAAA;AAED,IAAA,OAAOE,MAAM,CAAA;GACd,EAAA,CAAA;AAAA;;;;IChCY6W,KAAK,GAA6B,SAAAA,KAAAA,CAACjJ,MAAM,EAAkB;AACtE,EAAA,IAAQiJ,KAAK,GAAgBjJ,MAAM,CAA3BiJ,KAAK;IAAEhJ,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;EAExB,IAAI,CAACA,SAAS,EAAE;AACd,IAAA,OAAO,IAAI,CAAA;AACZ,GAAA;AACD,EAAA,IAAMpK,MAAM,GAAYoK,SAAS,CAA3BpK,MAAM;IAAEC,KAAK,GAAKmK,SAAS,CAAnBnK,KAAK,CAAA;AAEnB,EAAA,IAAImT,KAAK,EAAE;AACT,IAAA,OAAOA,KAAK,CAAA;AACb,GAAA;AAED,EAAA,IAAI9X,KAAK,CAACmH,UAAU,CAAC2H,SAAS,CAAC,EAAE;AAC/B,IAAA,IAAMlK,UAAU,GAAG5E,KAAK,CAAC4E,UAAU,CAACkK,SAAS,CAAC,CAAA;AAC9C,IAAA,IAAIlK,UAAU,EAAE;AACb,MAAA,IAAAgD,IAAA,GAAkB,CAAClD,MAAM,EAAEC,KAAK,CAAC,CAAA;AAAhCA,MAAAA,KAAK,GAAAiD,IAAA,CAAA,CAAA,CAAA,CAAA;AAAElD,MAAAA,MAAM,GAAAkD,IAAA,CAAA,CAAA,CAAA,CAAA;AAChB,KAAA;AACD;;;AAGG;AACH,IAAA,IAAM8N,KAAK,GAAGnJ,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAEnK,MAAM,EAAEA,MAAM,CAACjF,IAAI,CAAC,CAAA;AACvD,IAAA,IAAIiW,KAAK,EAAE;MACT,IAAMxB,KAAK,GAAG3H,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAEnK,MAAe,CAAC,CAAA;AACnD,MAAA,IAAIwP,KAAK,EAAE;AACTxP,QAAAA,MAAM,GAAGwP,KAAK,CAAA;AACf,OAAA;AACF,KAAA;AAED,IAAA,IAAA+L,aAAA,GAAgB1T,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;QACnCiF,KAAK,EAAE5L,IAAI,CAACqB,MAAM;AAClBgI,QAAAA,EAAE,EAAE;AACF7M,UAAAA,MAAM,EAANA,MAAM;AACNC,UAAAA,KAAK,EAALA,KAAAA;AACD,SAAA;AACF,OAAA,CAAC;MAAAub,cAAA,GAAAlb,cAAA,CAAAib,aAAA,EAAA,CAAA,CAAA;AANKnM,MAAAA,KAAK,GAAAoM,cAAA,CAAA,CAAA,CAAA,CAAA;AAQZ,IAAA,IAAIpM,KAAK,EAAE;AACT,MAAA,IAAAqM,MAAA,GAAAnb,cAAA,CAAe8O,KAAK,EAAA,CAAA,CAAA;AAAbzK,QAAAA,KAAI,GAAA8W,MAAA,CAAA,CAAA,CAAA,CAAA;AACX,MAA0B9W,KAAI,CAAtB6B,IAAI,CAAA;AAAK5E,YAAAA,KAAI,GAAAC,wBAAA,CAAK8C,KAAI,EAAA7C,WAAA,EAAA;AAC9B,MAAA,OAAOF,KAAI,CAAA;AACZ,KAAA,MAAM;AACL,MAAA,OAAO,EAAE,CAAA;AACV,KAAA;AACF,GAAA;EAED,IAAA8Z,OAAA,GAAiB1b,MAAM;IAAfjF,IAAI,GAAA2gB,OAAA,CAAJ3gB,IAAI,CAAA;EAEZ,IAAA4gB,YAAA,GAAa9T,MAAM,CAACG,IAAI,CAACmC,MAAM,EAAEpP,IAAI,CAAC;IAAA6gB,aAAA,GAAAtb,cAAA,CAAAqb,YAAA,EAAA,CAAA,CAAA;AAAjChX,IAAAA,IAAI,GAAAiX,aAAA,CAAA,CAAA,CAAA,CAAA;AAET,EAAA,IAAI5b,MAAM,CAACwH,MAAM,KAAK,CAAC,EAAE;AACvB,IAAA,IAAMuP,IAAI,GAAGlP,MAAM,CAAC1I,QAAQ,CAACgL,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAE9R,IAAI;MAAEqU,KAAK,EAAE5L,IAAI,CAACqB,MAAAA;AAAM,KAAE,CAAC,CAAA;AACtE,IAAA,IAAMgX,UAAU,GAAGhU,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;MACtCiF,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;QAAA,OACN+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAACwJ,MAAM,CAAClH,MAAM,EAAE1M,CAAC,CAAC,IAAI0M,MAAM,CAACoH,YAAY,CAAC9T,CAAC,CAAC,CAAA;AAAA,OAAA;AAC1E,KAAA,CAAC,CAAA;IACF,IAAI,CAACoe,UAAU,EAAE;AACf,MAAA,IAAMC,KAAK,GAAGjU,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;QACjCiF,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,UAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,SAAA;AAC3D,OAAA,CAAC,CAAA;MAEF,IAAIsZ,IAAI,IAAI+E,KAAK,EAAE;AACjB,QAAA,IAAAC,KAAA,GAAAzb,cAAA,CAA6ByW,IAAI,EAAA,CAAA,CAAA;AAA1BpD,UAAAA,QAAQ,GAAAoI,KAAA,CAAA,CAAA,CAAA;AAAElF,UAAAA,QAAQ,GAAAkF,KAAA,CAAA,CAAA,CAAA,CAAA;AACzB,QAAA,IAAAC,MAAA,GAAA1b,cAAA,CAAsBwb,KAAK,EAAA,CAAA,CAAA;AAAlBG,UAAAA,SAAS,GAAAD,MAAA,CAAA,CAAA,CAAA,CAAA;QAElB,IAAIhhB,IAAI,CAAC4C,UAAU,CAACqe,SAAS,EAAEpF,QAAQ,CAAC,EAAE;AACxClS,UAAAA,IAAI,GAAGgP,QAAQ,CAAA;AAChB,SAAA;AACF,OAAA;AACF,KAAA;AACF,GAAA;EAEDuI,IAAAA,MAAA,GAA0BvX,IAAI,CAAA;IAAlBuX,MAAA,CAAJ1V,IAAI,CAAA;AAAK5E,QAAAA,IAAI,GAAAC,wBAAA,CAAAqa,MAAA,EAAAxV,YAAA,EAAA;AACrB,EAAA,OAAO9E,IAAI,CAAA;AACb;;IC7EajD,IAAI,GAA4B,SAAAA,IAAAA,CAACwL,MAAM,EAAkB;AAAA,EAAA,IAAhBnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAChE,EAAA,IAAA6d,aAAA,GAA2C9d,OAAO,CAA1C+d,IAAI;AAAJA,IAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;IAAApC,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,IAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACtC,EAAA,IAAMtI,KAAK,GAA4BpT,OAAO,CAAxCoT,KAAK;IAAAwI,WAAA,GAA4B5b,OAAO,CAAjC6Q,EAAE;AAAFA,IAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA,CAAA;EAElC,IAAI,CAAC/K,EAAE,EAAE;AACP,IAAA,OAAA;AACD,GAAA;EAED,IAAMsP,kBAAkB,GAAGtU,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,IAAAA,KAAK,EAALA,KAAAA;AAAK,GAAE,CAAC,CAAA;EAE9D,IAAI,CAACwE,kBAAkB,EAAE,OAAA;EAEzB,IAAAC,YAAA,GAAevU,MAAM,CAAC/I,IAAI,CAACqL,MAAM,EAAE,EAAE,CAAC;IAAAkS,aAAA,GAAA/b,cAAA,CAAA8b,YAAA,EAAA,CAAA,CAAA;AAA7B9T,IAAAA,EAAE,GAAA+T,aAAA,CAAA,CAAA,CAAA,CAAA;EAEX,IAAMC,IAAI,GAAS,CAACH,kBAAkB,CAACphB,IAAI,EAAEuN,EAAE,CAAC,CAAA;AAEhD,EAAA,IAAI1H,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,IAAIA,EAAE,CAAC3Q,MAAM,KAAK,CAAC,EAAE;IAC1C,MAAM,IAAI0C,KAAK,CAAA,8CAA+C,CAAC,CAAA;AAChE,GAAA;EAED,IAAIwQ,KAAK,IAAI,IAAI,EAAE;AACjB,IAAA,IAAIxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;MACvB,IAAAsN,cAAA,GAAiBtS,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAE0C,EAAE,CAAC;QAAAuN,eAAA,GAAA9Z,cAAA,CAAA6Z,cAAA,EAAA,CAAA,CAAA;AAAnCjb,QAAAA,MAAM,GAAAkb,eAAA,CAAA,CAAA,CAAA,CAAA;MACbhL,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAIyB,MAAM,CAACwE,QAAQ,CAAC/C,QAAQ,CAAClD,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AACzC,KAAA,MAAM;MACL2R,KAAK,GAAG,SAAAA,KAAA,GAAA;AAAA,QAAA,OAAM,IAAI,CAAA;AAAA,OAAA,CAAA;AACnB,KAAA;AACF,GAAA;AAED,EAAA,IAAAmM,aAAA,GAAe1T,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAEyP,IAAI;AAAElN,MAAAA,KAAK,EAALA,KAAK;AAAE2K,MAAAA,IAAI,EAAJA,IAAI;AAAEpC,MAAAA,KAAK,EAALA,KAAAA;AAAO,KAAA,CAAC;IAAA6D,cAAA,GAAAlb,cAAA,CAAAib,aAAA,EAAA,CAAA,CAAA;AAA9D5c,IAAAA,IAAI,GAAA6c,cAAA,CAAA,CAAA,CAAA,CAAA;AACX,EAAA,OAAO7c,IAAI,CAAA;AACb;;AC/BO,IAAMgG,IAAI,GAA4B,SAAAA,KAACwF,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACpE,IAAMlB,IAAI,GAAG8M,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,CAAC,CAAA;EAC7C,IAAM2I,IAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAC,CAAA;AACnC,EAAA,OAAO,CAAC4J,IAAI,EAAE5J,IAAI,CAAC,CAAA;AACrB;;;;;ACFM,SAAWiL,KAAKA,CACpBmE,MAAc,EAAA;AAAA,EAAA,IACdnO,8EAAiC,EAAE,CAAA;EAAA,OAAA,aAAA;AAEnC,IAAA,IAAA4b,WAAA,GAOI5b,OAAO,CANT6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAAkC,aAAA,GAMnB9d,OAAO,CALT+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,aAAA;MAAAyC,kBAAA,GAKVvgB,OAAO,CAJTwgB,SAAS;AAATA,MAAAA,SAAS,GAAAD,kBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,kBAAA;MAAAngB,gBAAA,GAIfJ,OAAO,CAHTK,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAsb,cAAA,GAGb1b,OAAO,CAFT2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;MACb3Q,KAAI,GACF/K,OAAO,CADT+K,IAAI,CAAA;AAEN,IAAA,IAAMqI,KAAK,GAAKpT,OAAO,CAAjBoT,KAAK,CAAA;IAEX,IAAI,CAACA,KAAK,EAAE;MACVA,KAAK,GAAG,SAAAA,KAAA,GAAA;AAAA,QAAA,OAAM,IAAI,CAAA;AAAA,OAAA,CAAA;AACnB,KAAA;IAED,IAAI,CAACvC,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;AAED,IAAA,IAAIxE,IAAI,CAAA;AACR,IAAA,IAAIC,EAAE,CAAA;AAEN,IAAA,IAAI1H,QAAQ,CAACkT,MAAM,CAACjH,EAAE,CAAC,EAAE;AACvBxE,MAAAA,IAAI,GAAGwE,EAAE,CAAC,CAAC,CAAC,CAAA;AACZvE,MAAAA,EAAE,GAAGuE,EAAE,CAAC,CAAC,CAAC,CAAA;AACX,KAAA,MAAM;MACL,IAAMlG,KAAK,GAAGkB,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,QAAAA,IAAI,EAAE,OAAA;AAAO,OAAE,CAAC,CAAA;MACxD,IAAMhc,IAAI,GAAG+I,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,QAAAA,IAAI,EAAE,KAAA;AAAK,OAAE,CAAC,CAAA;AACrDzS,MAAAA,IAAI,GAAGhM,OAAO,GAAGyC,IAAI,GAAG6H,KAAK,CAAA;AAC7B2B,MAAAA,EAAE,GAAGjM,OAAO,GAAGsK,KAAK,GAAG7H,IAAI,CAAA;AAC5B,KAAA;AAED,IAAA,IAAMgI,WAAW,GAAGtD,IAAI,CAACwC,KAAK,CAACmE,MAAM,EAAE;AACrC9N,MAAAA,OAAO,EAAPA,OAAO;AACPgM,MAAAA,IAAI,EAAJA,IAAI;AACJC,MAAAA,EAAE,EAAFA,EAAE;AACFvB,MAAAA,IAAI,EAAE,SAAAA,IAAA7D,CAAAA,IAAA,EAAiB;AAAA,QAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAfyB,UAAAA,IAAI,GAAAf,KAAA,CAAA,CAAA,CAAA;AAAE7I,UAAAA,IAAI,GAAA6I,KAAA,CAAA,CAAA,CAAA,CAAA;AAChB,QAAA,IAAImD,KAAI,IAAIA,KAAI,CAAC,CAACpC,IAAI,EAAE5J,IAAI,CAAC,CAAC,EAAE,OAAO,IAAI,CAAA;QAC3C,IAAI,CAACyI,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,EAAE,OAAO,KAAK,CAAA;QACvC,IACE,CAACgT,KAAK,KACL9P,MAAM,CAACwJ,MAAM,CAAClH,MAAM,EAAExF,IAAI,CAAC,IAAIkD,MAAM,CAACiJ,iBAAiB,CAAC3G,MAAM,EAAExF,IAAI,CAAC,CAAC,EAEvE,OAAO,IAAI,CAAA;AAEb,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;AACD,KAAA,CAAC,CAAA;IAEF,IAAMJ,OAAO,GAAmB,EAAE,CAAA;AAClC,IAAA,IAAIkY,GAA6B,CAAA;AAAA,IAAA,IAAAzX,SAAA,GAAAC,4BAAA,CAEN6B,WAAW,CAAA;MAAA5B,KAAA,CAAA;AAAA,IAAA,IAAA;MAAtC,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAAwC;AAAA,QAAA,IAAA+R,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AAA5BwG,UAAAA,IAAI,GAAAwS,WAAA,CAAA,CAAA,CAAA;AAAEpc,UAAAA,IAAI,GAAAoc,WAAA,CAAA,CAAA,CAAA,CAAA;AACpB,QAAA,IAAMuF,OAAO,GAAGD,GAAG,IAAIzhB,IAAI,CAAC+B,OAAO,CAAChC,IAAI,EAAE0hB,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAA;AAEvD;AACA,QAAA,IAAI1C,IAAI,KAAK,SAAS,IAAI2C,OAAO,EAAE;AACjC,UAAA,SAAA;AACD,SAAA;AAED,QAAA,IAAI,CAACtN,KAAK,CAACzK,IAAI,EAAE5J,IAAI,CAAC,EAAE;AACtB;AACA;AACA;UACA,IAAIyhB,SAAS,IAAI,CAACE,OAAO,IAAIlZ,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AAC9C,YAAA,OAAA;AACD,WAAA,MAAM;AACL,YAAA,SAAA;AACD,WAAA;AACF,SAAA;AAED;AACA,QAAA,IAAIoV,IAAI,KAAK,QAAQ,IAAI2C,OAAO,EAAE;AAChCD,UAAAA,GAAG,GAAG,CAAC9X,IAAI,EAAE5J,IAAI,CAAiB,CAAA;AAClC,UAAA,SAAA;AACD,SAAA;AAED;AACA,QAAA,IAAM4hB,IAAI,GACR5C,IAAI,KAAK,QAAQ,GAAG0C,GAAG,GAAI,CAAC9X,IAAI,EAAE5J,IAAI,CAAkB,CAAA;AAE1D,QAAA,IAAI4hB,IAAI,EAAE;AACR,UAAA,IAAIH,SAAS,EAAE;AACbjY,YAAAA,OAAO,CAACzH,IAAI,CAAC6f,IAAI,CAAC,CAAA;AACnB,WAAA,MAAM;AACL,YAAA,MAAMA,IAAI,CAAA;AACX,WAAA;AACF,SAAA;AAEDF,QAAAA,GAAG,GAAG,CAAC9X,IAAI,EAAE5J,IAAI,CAAiB,CAAA;AACnC,OAAA;AAED;AAAA,KAAA,CAAA,OAAAuK,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AACA,IAAA,IAAIuU,IAAI,KAAK,QAAQ,IAAI0C,GAAG,EAAE;AAC5B,MAAA,IAAID,SAAS,EAAE;AACbjY,QAAAA,OAAO,CAACzH,IAAI,CAAC2f,GAAG,CAAC,CAAA;AAClB,OAAA,MAAM;AACL,QAAA,MAAMA,GAAG,CAAA;AACV,OAAA;AACF,KAAA;AAED;AACA;AACA,IAAA,IAAID,SAAS,EAAE;AACb,MAAA,OAAOjY,OAAO,CAAA;AACf,KAAA;GACF,EAAA,CAAA;AAAA;;;;;IC7GYoN,SAAS,GAAiC,SAA1CA,SAASA,CACpBxH,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAA2gB,cAAA,GAAqC5gB,OAAO,CAApC6gB,KAAK;AAALA,IAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;IAAE5d,SAAS,GAAKhD,OAAO,CAArBgD,SAAS,CAAA;AAChC,EAAA,IAAM+Q,aAAa,GAAG,SAAhBA,aAAaA,CAAI5F,MAAc,EAAI;AACvC,IAAA,OAAO5O,WAAW,CAACqJ,GAAG,CAACuF,MAAM,CAAC,IAAI,EAAE,CAAA;GACrC,CAAA;AAED,EAAA,IAAM2S,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAI3S,MAAc,EAAI;IAC1C,OAAO1O,eAAe,CAACmJ,GAAG,CAACuF,MAAM,CAAC,IAAI,IAAI3B,GAAG,EAAE,CAAA;GAChD,CAAA;AAED,EAAA,IAAMuU,YAAY,GAAG,SAAfA,YAAYA,CAAI5S,MAAc,EAAU;IAC5C,IAAMpP,IAAI,GAAGgV,aAAa,CAAC5F,MAAM,CAAC,CAACsM,GAAG,EAAG,CAAA;AACzC,IAAA,IAAMhS,GAAG,GAAG1J,IAAI,CAAC+N,IAAI,CAAC,GAAG,CAAC,CAAA;AAC1BgU,IAAAA,gBAAgB,CAAC3S,MAAM,CAAC,CAAO,QAAA,CAAA,CAAC1F,GAAG,CAAC,CAAA;AACpC,IAAA,OAAO1J,IAAI,CAAA;GACZ,CAAA;AAED,EAAA,IAAI,CAAC8M,MAAM,CAACqJ,aAAa,CAAC/G,MAAM,CAAC,EAAE;AACjC,IAAA,OAAA;AACD,GAAA;AAED,EAAA,IAAI0S,KAAK,EAAE;AACT,IAAA,IAAMG,QAAQ,GAAG5e,KAAK,CAACiK,IAAI,CAAC7E,IAAI,CAACwC,KAAK,CAACmE,MAAM,CAAC,EAAE,UAAAjH,IAAA,EAAA;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,QAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,OAAMtE,CAAC,CAAA;KAAC,CAAA,CAAA;IAC7D,IAAM2d,WAAW,GAAG,IAAIzU,GAAG,CAACwU,QAAQ,CAACnU,GAAG,CAAC,UAAAvJ,CAAC,EAAA;AAAA,MAAA,OAAIA,CAAC,CAACwJ,IAAI,CAAC,GAAG,CAAC,CAAA;AAAA,KAAA,CAAC,CAAC,CAAA;AAC3DvN,IAAAA,WAAW,CAACgd,GAAG,CAACpO,MAAM,EAAE6S,QAAQ,CAAC,CAAA;AACjCvhB,IAAAA,eAAe,CAAC8c,GAAG,CAACpO,MAAM,EAAE8S,WAAW,CAAC,CAAA;AACzC,GAAA;EAED,IAAIlN,aAAa,CAAC5F,MAAM,CAAC,CAACjO,MAAM,KAAK,CAAC,EAAE;AACtC,IAAA,OAAA;AACD,GAAA;AAED2L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC;;;;AAIE;AAJF,IAAA,IAAAnF,SAAA,GAAAC,4BAAA,CAKwB8K,aAAa,CAAC5F,MAAM,CAAC,CAAA;MAAAjF,KAAA,CAAA;AAAA,IAAA,IAAA;MAA7C,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAA+C;AAAA,QAAA,IAApC8X,UAAS,GAAAhY,KAAA,CAAA/G,KAAA,CAAA;QAClB,IAAIqF,IAAI,CAACkE,GAAG,CAACyC,MAAM,EAAE+S,UAAS,CAAC,EAAE;UAC/B,IAAM7X,MAAK,GAAGwC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAE+S,UAAS,CAAC,CAAA;AAC5C,UAAA,IAAAC,OAAA,GAAA7c,cAAA,CAAkB+E,MAAK,EAAA,CAAA,CAAA;AAAhBV,YAAAA,IAAI,GAAAwY,OAAA,CAAA,CAAA,CAAA;AAAEC,YAAAA,CAAC,GAAAD,OAAA,CAAA,CAAA,CAAA,CAAA;AAEd;;;;;;AAOA,UAAA,IAAI3Z,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,IAAIA,IAAI,CAACjB,QAAQ,CAACxH,MAAM,KAAK,CAAC,EAAE;AACtDiO,YAAAA,MAAM,CAACyH,aAAa,CAACvM,MAAK,EAAE;AAAErG,cAAAA,SAAS,EAATA,SAAAA;AAAW,aAAA,CAAC,CAAA;AAC3C,WAAA;AACF,SAAA;AACF,OAAA;AAAA,KAAA,CAAA,OAAAsG,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AAED,IAAA,IAAIoT,UAAU,GAAG7I,aAAa,CAAC5F,MAAM,CAAC,CAAA;AACtC,IAAA,IAAMyP,uBAAuB,GAAGhB,UAAU,CAAC1c,MAAM,CAAA;IACjD,IAAIyd,SAAS,GAAG,CAAC,CAAA;AAEjB,IAAA,OAAOf,UAAU,CAAC1c,MAAM,KAAK,CAAC,EAAE;AAC9B,MAAA,IACE,CAACiO,MAAM,CAAC0I,eAAe,CAAC;AACtB+F,QAAAA,UAAU,EAAVA,UAAU;AACVe,QAAAA,SAAS,EAATA,SAAS;AACTC,QAAAA,uBAAuB,EAAvBA,uBAAuB;AACvB5a,QAAAA,SAAS,EAATA,SAAAA;AACD,OAAA,CAAC,EACF;AACA,QAAA,OAAA;AACD,OAAA;AAED,MAAA,IAAMke,SAAS,GAAGH,YAAY,CAAC5S,MAAM,CAAC,CAAA;AAEtC;MACA,IAAI3G,IAAI,CAACkE,GAAG,CAACyC,MAAM,EAAE+S,SAAS,CAAC,EAAE;QAC/B,IAAM7X,KAAK,GAAGwC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAE+S,SAAS,CAAC,CAAA;AAC5C/S,QAAAA,MAAM,CAACyH,aAAa,CAACvM,KAAK,EAAE;AAAErG,UAAAA,SAAS,EAATA,SAAAA;AAAW,SAAA,CAAC,CAAA;AAC3C,OAAA;AACD2a,MAAAA,SAAS,EAAE,CAAA;AACXf,MAAAA,UAAU,GAAG7I,aAAa,CAAC5F,MAAM,CAAC,CAAA;AACnC,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;ACvFO,IAAMjL,MAAM,GAA8B,SAApCA,MAAMA,CAA+BiL,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACxE,IAAMlB,IAAI,GAAG8M,MAAM,CAAC9M,IAAI,CAACoP,MAAM,EAAE0C,EAAE,EAAE7Q,OAAO,CAAC,CAAA;AAC7C,EAAA,IAAM2M,UAAU,GAAG3N,IAAI,CAACkE,MAAM,CAACnE,IAAI,CAAC,CAAA;EACpC,IAAMsK,KAAK,GAAGwC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAExB,UAAU,CAAC,CAAA;AAC7C,EAAA,OAAOtD,KAA4B,CAAA;AACrC;;ACNO,IAAMyM,OAAO,GAA+B,SAAtCA,OAAOA,CAClB3H,MAAM,EACNpP,IAAI,EAEF;AAAA,EAAA,IADFiB,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAAuD,iBAAA,GAAiCxD,OAAO,CAAhClB,QAAQ;AAARA,IAAAA,QAAQ,GAAA0E,iBAAA,KAAG,KAAA,CAAA,GAAA,SAAS,GAAAA,iBAAA,CAAA;AAC5B,EAAA,IAAM7E,GAAG,GAAY;AACnBE,IAAAA,OAAO,EAAEE,IAAI;AACbD,IAAAA,QAAQ,EAARA,QAAQ;IACRG,KAAK,EAAA,SAAAA,QAAA;AACH,MAAA,IAAQJ,OAAO,GAAKF,GAAG,CAAfE,OAAO,CAAA;AACf,MAAA,IAAMkX,QAAQ,GAAGlK,MAAM,CAACkK,QAAQ,CAAC5H,MAAM,CAAC,CAAA;MACxC4H,QAAQ,CAAA,QAAA,CAAO,CAACpX,GAAG,CAAC,CAAA;MACpBA,GAAG,CAACE,OAAO,GAAG,IAAI,CAAA;AAClB,MAAA,OAAOA,OAAO,CAAA;AAChB,KAAA;GACD,CAAA;AAED,EAAA,IAAMwiB,IAAI,GAAGxV,MAAM,CAACkK,QAAQ,CAAC5H,MAAM,CAAC,CAAA;AACpCkT,EAAAA,IAAI,CAAC5U,GAAG,CAAC9N,GAAG,CAAC,CAAA;AACb,EAAA,OAAOA,GAAG,CAAA;AACZ;;ICrBaoX,QAAQ,GAAgC,SAAxCA,QAAQA,CAAgC5H,MAAM,EAAG;AAC5D,EAAA,IAAIkT,IAAI,GAAGzhB,SAAS,CAACgJ,GAAG,CAACuF,MAAM,CAAC,CAAA;EAEhC,IAAI,CAACkT,IAAI,EAAE;AACTA,IAAAA,IAAI,GAAG,IAAI7U,GAAG,EAAE,CAAA;AAChB5M,IAAAA,SAAS,CAAC2c,GAAG,CAACpO,MAAM,EAAEkT,IAAI,CAAC,CAAA;AAC5B,GAAA;AAED,EAAA,OAAOA,IAAI,CAAA;AACb;;ACVO,IAAMtiB,IAAI,GAA4B,SAAhCA,IAAIA,CAA6BoP,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACpE,EAAA,IAAQqhB,KAAK,GAAWthB,OAAO,CAAvBshB,KAAK;IAAExC,IAAI,GAAK9e,OAAO,CAAhB8e,IAAI,CAAA;AAEnB,EAAA,IAAIla,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;IACvB,IAAIiO,IAAI,KAAK,OAAO,EAAE;MACpB,IAAAyC,WAAA,GAAsB/Z,IAAI,CAACmD,KAAK,CAACwD,MAAM,EAAE0C,EAAE,CAAC;QAAA2Q,YAAA,GAAAld,cAAA,CAAAid,WAAA,EAAA,CAAA,CAAA;AAAnCE,QAAAA,SAAS,GAAAD,YAAA,CAAA,CAAA,CAAA,CAAA;AAClB3Q,MAAAA,EAAE,GAAG4Q,SAAS,CAAA;AACf,KAAA,MAAM,IAAI3C,IAAI,KAAK,KAAK,EAAE;MACzB,IAAA4C,UAAA,GAAqBla,IAAI,CAAC1E,IAAI,CAACqL,MAAM,EAAE0C,EAAE,CAAC;QAAA8Q,WAAA,GAAArd,cAAA,CAAAod,UAAA,EAAA,CAAA,CAAA;AAAjCE,QAAAA,QAAQ,GAAAD,WAAA,CAAA,CAAA,CAAA,CAAA;AACjB9Q,MAAAA,EAAE,GAAG+Q,QAAQ,CAAA;AACd,KAAA;AACF,GAAA;AAED,EAAA,IAAIhd,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;IACxB,IAAIiO,IAAI,KAAK,OAAO,EAAE;AACpBjO,MAAAA,EAAE,GAAGvR,KAAK,CAACkG,KAAK,CAACqL,EAAE,CAAC,CAAA;AACrB,KAAA,MAAM,IAAIiO,IAAI,KAAK,KAAK,EAAE;AACzBjO,MAAAA,EAAE,GAAGvR,KAAK,CAAC6E,GAAG,CAAC0M,EAAE,CAAC,CAAA;AACnB,KAAA,MAAM;AACLA,MAAAA,EAAE,GAAG7R,IAAI,CAACyB,MAAM,CAACoQ,EAAE,CAAC7M,MAAM,CAACjF,IAAI,EAAE8R,EAAE,CAAC5M,KAAK,CAAClF,IAAI,CAAC,CAAA;AAChD,KAAA;AACF,GAAA;AAED,EAAA,IAAI6F,QAAQ,CAACe,OAAO,CAACkL,EAAE,CAAC,EAAE;IACxBA,EAAE,GAAGA,EAAE,CAAC9R,IAAI,CAAA;AACb,GAAA;EAED,IAAIuiB,KAAK,IAAI,IAAI,EAAE;IACjBzQ,EAAE,GAAGA,EAAE,CAACrQ,KAAK,CAAC,CAAC,EAAE8gB,KAAK,CAAC,CAAA;AACxB,GAAA;AAED,EAAA,OAAOzQ,EAAE,CAAA;AACX;;AC/BO,IAAMmF,QAAQ,GAAgC,SAAxCA,QAAQA,CACnB7H,MAAM,EACNhP,KAAK,EAEH;AAAA,EAAA,IADFa,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAAuD,iBAAA,GAAiCxD,OAAO,CAAhClB,QAAQ;AAARA,IAAAA,QAAQ,GAAA0E,iBAAA,KAAG,KAAA,CAAA,GAAA,SAAS,GAAAA,iBAAA,CAAA;AAC5B,EAAA,IAAM7E,GAAG,GAAa;AACpBE,IAAAA,OAAO,EAAEM,KAAK;AACdL,IAAAA,QAAQ,EAARA,QAAQ;IACRG,KAAK,EAAA,SAAAA,QAAA;AACH,MAAA,IAAQJ,OAAO,GAAKF,GAAG,CAAfE,OAAO,CAAA;AACf,MAAA,IAAMoX,SAAS,GAAGpK,MAAM,CAACoK,SAAS,CAAC9H,MAAM,CAAC,CAAA;MAC1C8H,SAAS,CAAA,QAAA,CAAO,CAACtX,GAAG,CAAC,CAAA;MACrBA,GAAG,CAACE,OAAO,GAAG,IAAI,CAAA;AAClB,MAAA,OAAOA,OAAO,CAAA;AAChB,KAAA;GACD,CAAA;AAED,EAAA,IAAMwiB,IAAI,GAAGxV,MAAM,CAACoK,SAAS,CAAC9H,MAAM,CAAC,CAAA;AACrCkT,EAAAA,IAAI,CAAC5U,GAAG,CAAC9N,GAAG,CAAC,CAAA;AACb,EAAA,OAAOA,GAAG,CAAA;AACZ;;ICrBasX,SAAS,GAAiC,SAA1CA,SAASA,CAAiC9H,MAAM,EAAG;AAC9D,EAAA,IAAIkT,IAAI,GAAGxhB,UAAU,CAAC+I,GAAG,CAACuF,MAAM,CAAC,CAAA;EAEjC,IAAI,CAACkT,IAAI,EAAE;AACTA,IAAAA,IAAI,GAAG,IAAI7U,GAAG,EAAE,CAAA;AAChB3M,IAAAA,UAAU,CAAC0c,GAAG,CAACpO,MAAM,EAAEkT,IAAI,CAAC,CAAA;AAC7B,GAAA;AAED,EAAA,OAAOA,IAAI,CAAA;AACb;;ACPO,IAAMliB,KAAK,GAA6B,SAAlCA,KAAKA,CAA8BgP,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACtE,EAAA,IAAA4hB,aAAA,GAA2B7hB,OAAO,CAA1B8e,IAAI;AAAJA,IAAAA,IAAI,GAAA+C,aAAA,KAAG,KAAA,CAAA,GAAA,OAAO,GAAAA,aAAA,CAAA;AAEtB,EAAA,IAAIjd,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;AACvB,IAAA,IAAI9R,IAAI,CAAA;IAER,IAAI+f,IAAI,KAAK,KAAK,EAAE;MAClB,IAAA4C,UAAA,GAAqBla,IAAI,CAAC1E,IAAI,CAACqL,MAAM,EAAE0C,EAAE,CAAC;QAAA8Q,WAAA,GAAArd,cAAA,CAAAod,UAAA,EAAA,CAAA,CAAA;AAAjCE,QAAAA,QAAQ,GAAAD,WAAA,CAAA,CAAA,CAAA,CAAA;AACjB5iB,MAAAA,IAAI,GAAG6iB,QAAQ,CAAA;AAChB,KAAA,MAAM;MACL,IAAAL,WAAA,GAAsB/Z,IAAI,CAACmD,KAAK,CAACwD,MAAM,EAAE0C,EAAE,CAAC;QAAA2Q,YAAA,GAAAld,cAAA,CAAAid,WAAA,EAAA,CAAA,CAAA;AAAnCE,QAAAA,SAAS,GAAAD,YAAA,CAAA,CAAA,CAAA,CAAA;AAClBziB,MAAAA,IAAI,GAAG0iB,SAAS,CAAA;AACjB,KAAA;IAED,IAAM9Y,IAAI,GAAGnB,IAAI,CAACoB,GAAG,CAACuF,MAAM,EAAEpP,IAAI,CAAC,CAAA;AAEnC,IAAA,IAAI,CAACyI,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACtB,MAAA,MAAM,IAAI/F,KAAK,CAAAC,iBAAAA,CAAAA,MAAA,CACKic,IAAI,EAAA,8BAAA,CAAA,CAAAjc,MAAA,CAA+BgO,EAAE,EAAAhO,sBAAAA,CAAAA,CAAAA,MAAA,CAAuBic,IAAI,gBAAa,CAChG,CAAA;AACF,KAAA;IAED,OAAO;AAAE/f,MAAAA,IAAI,EAAJA,IAAI;MAAEyM,MAAM,EAAEsT,IAAI,KAAK,KAAK,GAAGnW,IAAI,CAAC6B,IAAI,CAACtK,MAAM,GAAG,CAAA;KAAG,CAAA;AAC/D,GAAA;AAED,EAAA,IAAI0E,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;AACxB,IAAA,IAAAzM,YAAA,GAAqB9E,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;MAAAxM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAA7BoB,MAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,MAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;AACjB,IAAA,OAAOya,IAAI,KAAK,OAAO,GAAGtZ,KAAK,GAAGrB,GAAG,CAAA;AACtC,GAAA;AAED,EAAA,OAAO0M,EAAE,CAAA;AACX;;;;;ACzBM,SAAWqF,SAASA,CACxB/H,MAAc,EAAA;AAAA,EAAA,IACdnO,8EAAkC,EAAE,CAAA;EAAA,OAAA,aAAA;AAEpC,IAAA,IAAA4b,WAAA,GAKI5b,OAAO,CAJT6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAAtE,aAAA,GAInBtX,OAAO,CAHTuX,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAAlX,gBAAA,GAGbJ,OAAO,CAFTK,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAsb,cAAA,GAEb1b,OAAO,CADT2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;IAGf,IAAI,CAAC7K,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;AAED;;;;;;;;;;;;;;;;AAgBG;IAEH,IAAM9M,KAAK,GAAG8H,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAE0C,EAAE,CAAC,CAAA;AACtC,IAAA,IAAAzM,YAAA,GAAqB9E,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;MAAAM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAhCoB,MAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,MAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;AACjB,IAAA,IAAMsG,KAAK,GAAGtK,OAAO,GAAG8D,GAAG,GAAGqB,KAAK,CAAA;IACnC,IAAIsc,UAAU,GAAG,KAAK,CAAA;IACtB,IAAIC,SAAS,GAAG,EAAE,CAAA;AAClB,IAAA,IAAI7S,QAAQ,GAAG,CAAC,CAAA;IAChB,IAAI8S,iBAAiB,GAAG,CAAC,CAAA;IACzB,IAAIC,cAAc,GAAG,CAAC,CAAA;IACtB,IAAMC,YAAY,GAAW,EAAE,CAAA;AAE/B;AACA;AACA;AACA;AACA;AACA;IAAA,IAAAlZ,SAAA,GAAAC,4BAAA,CAC2B4C,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAC9C0C,QAAAA,EAAE,EAAFA,EAAE;AACFxQ,QAAAA,OAAO,EAAPA,OAAO;AACPsb,QAAAA,KAAK,EAALA,KAAAA;AACD,OAAA,CAAC,CAAA;MAAAzS,KAAA,CAAA;AAAA,IAAA,IAAA;MAAA,IAAAgC,KAAA,GAAAA,UAAAA,KAAAA,GAAE;AAAA,UAAA,IAAAiQ,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AAJQwG,YAAAA,IAAI,GAAAwS,WAAA,CAAA,CAAA,CAAA;AAAEpc,YAAAA,IAAI,GAAAoc,WAAA,CAAA,CAAA,CAAA,CAAA;AAKpB;AACA;AACA,UAAA,IAAMgH,kBAAkB,GAAGD,YAAY,CAAC9C,IAAI,CAAC,UAAA9b,CAAC,EAAA;AAAA,YAAA,OAAItE,IAAI,CAAC4C,UAAU,CAAC0B,CAAC,EAAEvE,IAAI,CAAC,CAAA;WAAC,CAAA,CAAA;UAE3E,UAAUqjB,UAAUA,CAACjjB,KAAY,EAAA;YAC/B,IAAI,CAACgjB,kBAAkB,EAAE;AACvB,cAAA,MAAMhjB,KAAK,CAAA;AACZ,aAAA;AACH,WAAA;AAEA;;AAEG;AACH,UAAA,IAAIqI,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,EAAE;AACxB,YAAA,IAAI,CAACwF,MAAM,CAACgH,YAAY,CAACxM,IAAI,CAAC,EAAE;AAC9B;;AAEG;AACHuZ,cAAAA,YAAY,CAACphB,IAAI,CAAC/B,IAAI,CAAC,CAAA;AACvB,cAAA,IAAIsB,OAAO,EAAE;AACX,gBAAA,IAAIrB,IAAI,CAAC0C,WAAW,CAAC3C,IAAI,CAAC,EAAE;AAC1B,kBAAA,OAAOqjB,UAAU,CAACvW,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAEnP,IAAI,CAACmE,QAAQ,CAACpE,IAAI,CAAC,CAAC,CAAC,CAAA;AAC3D,iBAAA;AAAA,gBAAA,OAAA,CAAA,CAAA;AAEF,eAAA,MAAM;AACL,gBAAA,IAAMue,QAAQ,GAAGte,IAAI,CAAC2D,IAAI,CAAC5D,IAAI,CAAC,CAAA;gBAChC,IAAI8M,MAAM,CAACuI,OAAO,CAACjG,MAAM,EAAEmP,QAAQ,CAAC,EAAE;kBACpC,OAAO8E,UAAU,CAACvW,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAEmP,QAAQ,CAAC,CAAC,CAAA;AAClD,iBAAA;AAAA,gBAAA,OAAA,CAAA,CAAA;AAEF,eAAA;AACF,aAAA;AAED;AACA;AACA;AACA,YAAA,IAAI,CAAC3B,KAAK,KAAKxN,MAAM,CAACkH,MAAM,CAAC1M,IAAI,CAAC,IAAIwF,MAAM,CAAC2G,iBAAiB,CAACnM,IAAI,CAAC,CAAC,EAAE;cACrE,OAAOyZ,UAAU,CAACvW,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAEpP,IAAI,CAAC,CAAC,CAAA;AAAA,cAAA,OAAA,CAAA,CAAA;AAE9C,aAAA;AAED;AACA;AACA;AACA,YAAA,IAAIoP,MAAM,CAAC8G,QAAQ,CAACtM,IAAI,CAAC,EAAA,OAAA,CAAA,CAAA;AAEzB;YACA,IAAIkD,MAAM,CAACsI,UAAU,CAAChG,MAAM,EAAExF,IAAI,CAAC,EAAE;AACnC;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;cACA,IAAMY,CAAC,GAAGvK,IAAI,CAAC4C,UAAU,CAAC7C,IAAI,EAAEoF,GAAG,CAACpF,IAAI,CAAC,GACrCoF,GAAG,GACH0H,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAEpP,IAAI,CAAC,CAAA;cAC5B,IAAMoK,CAAC,GAAGnK,IAAI,CAAC4C,UAAU,CAAC7C,IAAI,EAAEyG,KAAK,CAACzG,IAAI,CAAC,GACvCyG,KAAK,GACLqG,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAEpP,IAAI,CAAC,CAAA;AAE9BgjB,cAAAA,SAAS,GAAGlW,MAAM,CAACe,MAAM,CAACuB,MAAM,EAAE;AAAEnK,gBAAAA,MAAM,EAAEmF,CAAC;AAAElF,gBAAAA,KAAK,EAAEsF,CAAAA;AAAC,eAAE,EAAE;AAAEoS,gBAAAA,KAAK,EAALA,KAAAA;AAAO,eAAA,CAAC,CAAA;AACrEmG,cAAAA,UAAU,GAAG,IAAI,CAAA;AAClB,aAAA;AACF,WAAA;AAED;;;AAGG;AACH,UAAA,IAAIta,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;YACrB,IAAMgR,OAAO,GAAG3a,IAAI,CAACqC,MAAM,CAACtC,IAAI,EAAE4L,KAAK,CAAC5L,IAAI,CAAC,CAAA;AAE7C;AACA;AACA;AACA;AAEA;AACA,YAAA,IAAI4a,OAAO,EAAE;AACXqI,cAAAA,iBAAiB,GAAG3hB,OAAO,GACvBsK,KAAK,CAACa,MAAM,GACZ7C,IAAI,CAAC6B,IAAI,CAACtK,MAAM,GAAGyK,KAAK,CAACa,MAAM,CAAA;AACnCyW,cAAAA,cAAc,GAAGtX,KAAK,CAACa,MAAM,CAAA;AAC9B,aAAA,MAAM;AACLwW,cAAAA,iBAAiB,GAAGrZ,IAAI,CAAC6B,IAAI,CAACtK,MAAM,CAAA;AACpC+hB,cAAAA,cAAc,GAAG5hB,OAAO,GAAG2hB,iBAAiB,GAAG,CAAC,CAAA;AACjD,aAAA;AAED;AACA,YAAA,IAAIrI,OAAO,IAAImI,UAAU,IAAIvK,IAAI,KAAK,QAAQ,EAAE;AAC9C,cAAA,OAAO6K,UAAU,CAAC;AAAErjB,gBAAAA,IAAI,EAAJA,IAAI;AAAEyM,gBAAAA,MAAM,EAAEyW,cAAAA;AAAgB,eAAA,CAAC,CAAA;AACnDH,cAAAA,UAAU,GAAG,KAAK,CAAA;AACnB,aAAA;AAED;AACA,YAAA,OAAO,IAAI,EAAE;AACX;AACA;AACA;cACA,IAAI5S,QAAQ,KAAK,CAAC,EAAE;gBAClB,IAAI6S,SAAS,KAAK,EAAE,EAAE,MAAA;gBACtB7S,QAAQ,GAAGmT,YAAY,CAACN,SAAS,EAAExK,IAAI,EAAElX,OAAO,CAAC,CAAA;AACjD;AACA;gBACA0hB,SAAS,GAAGtR,wBAAwB,CAACsR,SAAS,EAAE7S,QAAQ,EAAE7O,OAAO,CAAC,CAAC,CAAC,CAAC,CAAA;AACtE,eAAA;AAED;cACA4hB,cAAc,GAAG5hB,OAAO,GACpB4hB,cAAc,GAAG/S,QAAQ,GACzB+S,cAAc,GAAG/S,QAAQ,CAAA;cAC7B8S,iBAAiB,GAAGA,iBAAiB,GAAG9S,QAAQ,CAAA;AAEhD;AACA;AACA;cACA,IAAI8S,iBAAiB,GAAG,CAAC,EAAE;gBACzB9S,QAAQ,GAAG,CAAC8S,iBAAiB,CAAA;AAC7B,gBAAA,MAAA;AACD,eAAA;AAED;AACA;AACA;AACA9S,cAAAA,QAAQ,GAAG,CAAC,CAAA;AACZ,cAAA,OAAOkT,UAAU,CAAC;AAAErjB,gBAAAA,IAAI,EAAJA,IAAI;AAAEyM,gBAAAA,MAAM,EAAEyW,cAAAA;AAAgB,eAAA,CAAC,CAAA;AACpD,aAAA;AACF,WAAA;SACF;QAAAK,IAAA,CAAA;MA3ID,KAAAtZ,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA,EAAA2H,IAAA,GAAA;AAAAkZ,QAAAA,IAAA,UAAApX,KAAA,EAAA,CAAA;AAAA,QAAA,IAAAoX,IAAA,KA4BQ,CAAA,EAAA,SAAA;AAAQ,OAAA;AAgHhB;AACA;AACA;AAEA;AACA;AAAA,KAAA,CAAA,OAAAhZ,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AACA,IAAA,SAAS6Y,YAAYA,CAAC7X,IAAY,EAAE+M,IAAY,EAAElX,OAAiB,EAAA;MACjE,IAAIkX,IAAI,KAAK,WAAW,EAAE;AACxB,QAAA,OAAO/I,oBAAoB,CAAChE,IAAI,EAAEnK,OAAO,CAAC,CAAA;AAC3C,OAAA,MAAM,IAAIkX,IAAI,KAAK,MAAM,EAAE;AAC1B,QAAA,OAAOnH,eAAe,CAAC5F,IAAI,EAAEnK,OAAO,CAAC,CAAA;OACtC,MAAM,IAAIkX,IAAI,KAAK,MAAM,IAAIA,IAAI,KAAK,OAAO,EAAE;QAC9C,OAAO/M,IAAI,CAACtK,MAAM,CAAA;AACnB,OAAA;AACD,MAAA,OAAO,CAAC,CAAA;AACV,KAAA;GACD,EAAA,CAAA;AAAA;;ICrNYiD,QAAQ,GAAgC,SAAAA,QAAAA,CAACgL,MAAM,EAAkB;AAAA,EAAA,IAAhBnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACxE,EAAA,IAAA6d,aAAA,GAA2C9d,OAAO,CAA1C+d,IAAI;AAAJA,IAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;IAAApC,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,IAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACtC,EAAA,IAAMtI,KAAK,GAA4BpT,OAAO,CAAxCoT,KAAK;IAAAwI,WAAA,GAA4B5b,OAAO,CAAjC6Q,EAAE;AAAFA,IAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA,CAAA;EAElC,IAAI,CAAC/K,EAAE,EAAE;AACP,IAAA,OAAA;AACD,GAAA;EAED,IAAM0R,mBAAmB,GAAG1W,MAAM,CAACN,MAAM,CAAC4C,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,IAAAA,KAAK,EAALA,KAAAA;AAAK,GAAE,CAAC,CAAA;EAEhE,IAAI,CAAC4G,mBAAmB,EAAE;AACxB,IAAA,OAAA;AACD,GAAA;EAED,IAAAC,aAAA,GAAe3W,MAAM,CAAClB,KAAK,CAACwD,MAAM,EAAE,EAAE,CAAC;IAAAsU,cAAA,GAAAne,cAAA,CAAAke,aAAA,EAAA,CAAA,CAAA;AAA9BlW,IAAAA,EAAE,GAAAmW,cAAA,CAAA,CAAA,CAAA,CAAA;AAEX;AACA;EACA,IAAMnC,IAAI,GAAS,CAACiC,mBAAmB,CAACxjB,IAAI,EAAEuN,EAAE,CAAC,CAAA;AAEjD,EAAA,IAAI1H,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,IAAIA,EAAE,CAAC3Q,MAAM,KAAK,CAAC,EAAE;IAC1C,MAAM,IAAI0C,KAAK,CAAA,kDAAmD,CAAC,CAAA;AACpE,GAAA;EAED,IAAIwQ,KAAK,IAAI,IAAI,EAAE;AACjB,IAAA,IAAIxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;MACvB,IAAAsN,cAAA,GAAiBtS,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAE0C,EAAE,CAAC;QAAAuN,eAAA,GAAA9Z,cAAA,CAAA6Z,cAAA,EAAA,CAAA,CAAA;AAAnCjb,QAAAA,MAAM,GAAAkb,eAAA,CAAA,CAAA,CAAA,CAAA;MACbhL,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAIyB,MAAM,CAACwE,QAAQ,CAAC/C,QAAQ,CAAClD,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AACzC,KAAA,MAAM;MACL2R,KAAK,GAAG,SAAAA,KAAA,GAAA;AAAA,QAAA,OAAM,IAAI,CAAA;AAAA,OAAA,CAAA;AACnB,KAAA;AACF,GAAA;AAED,EAAA,IAAAmM,aAAA,GAAmB1T,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AACtC9N,MAAAA,OAAO,EAAE,IAAI;AACbwQ,MAAAA,EAAE,EAAEyP,IAAI;AACRlN,MAAAA,KAAK,EAALA,KAAK;AACL2K,MAAAA,IAAI,EAAJA,IAAI;AACJpC,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC;IAAA6D,cAAA,GAAAlb,cAAA,CAAAib,aAAA,EAAA,CAAA,CAAA;AANKpc,IAAAA,QAAQ,GAAAqc,cAAA,CAAA,CAAA,CAAA,CAAA;AAQf,EAAA,OAAOrc,QAAQ,CAAA;AACjB;;AC1CO,IAAMgT,QAAQ,GAAgC,SAAxCA,QAAQA,CACnBhI,MAAM,EACNpK,KAAK,EAEH;AAAA,EAAA,IADF/D,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAAuD,iBAAA,GAAiCxD,OAAO,CAAhClB,QAAQ;AAARA,IAAAA,QAAQ,GAAA0E,iBAAA,KAAG,KAAA,CAAA,GAAA,SAAS,GAAAA,iBAAA,CAAA;AAC5B,EAAA,IAAM7E,GAAG,GAAa;AACpBE,IAAAA,OAAO,EAAEkF,KAAK;AACdjF,IAAAA,QAAQ,EAARA,QAAQ;IACRG,KAAK,EAAA,SAAAA,QAAA;AACH,MAAA,IAAQJ,OAAO,GAAKF,GAAG,CAAfE,OAAO,CAAA;AACf,MAAA,IAAMuX,SAAS,GAAGvK,MAAM,CAACuK,SAAS,CAACjI,MAAM,CAAC,CAAA;MAC1CiI,SAAS,CAAA,QAAA,CAAO,CAACzX,GAAG,CAAC,CAAA;MACrBA,GAAG,CAACE,OAAO,GAAG,IAAI,CAAA;AAClB,MAAA,OAAOA,OAAO,CAAA;AAChB,KAAA;GACD,CAAA;AAED,EAAA,IAAMwiB,IAAI,GAAGxV,MAAM,CAACuK,SAAS,CAACjI,MAAM,CAAC,CAAA;AACrCkT,EAAAA,IAAI,CAAC5U,GAAG,CAAC9N,GAAG,CAAC,CAAA;AACb,EAAA,OAAOA,GAAG,CAAA;AACZ;;ICrBayX,SAAS,GAAiC,SAA1CA,SAASA,CAAiCjI,MAAM,EAAG;AAC9D,EAAA,IAAIkT,IAAI,GAAGvhB,UAAU,CAAC8I,GAAG,CAACuF,MAAM,CAAC,CAAA;EAEjC,IAAI,CAACkT,IAAI,EAAE;AACTA,IAAAA,IAAI,GAAG,IAAI7U,GAAG,EAAE,CAAA;AAChB1M,IAAAA,UAAU,CAACyc,GAAG,CAACpO,MAAM,EAAEkT,IAAI,CAAC,CAAA;AAC7B,GAAA;AAED,EAAA,OAAOA,IAAI,CAAA;AACb;;ACTO,IAAMtd,KAAK,GAA6B,SAAlCA,KAAKA,CAA8BoK,MAAM,EAAE0C,EAAE,EAAEvE,EAAE,EAAI;EAChE,IAAI1H,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,IAAI,CAACvE,EAAE,EAAE;AAC/B,IAAA,OAAOuE,EAAE,CAAA;AACV,GAAA;EAED,IAAMrL,KAAK,GAAGqG,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAE0C,EAAE,CAAC,CAAA;EACtC,IAAM1M,GAAG,GAAG0H,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE7B,EAAE,IAAIuE,EAAE,CAAC,CAAA;EACxC,OAAO;AAAE7M,IAAAA,MAAM,EAAEwB,KAAK;AAAEvB,IAAAA,KAAK,EAAEE,GAAAA;GAAK,CAAA;AACtC;;;;ACJO,IAAMkS,UAAU,GAAkC,SAA5CA,UAAUA,CAAmClI,MAAM,EAAE1F,GAAG,EAAI;AACvE,EAAA,IAAQ2F,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;AAEjB,EAAA,IAAIA,SAAS,EAAE;IACb,IAAMgF,KAAK,GAAG,SAARA,KAAKA,CAAIzK,IAAU,EAAE5J,IAAU,EAAI;AACvC,MAAA,IAAI,CAACyI,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;QACtB,OAAO,KAAK,CAAA;AACb,OAAA;;MACDwV,IAAAA,cAAA,GAAiCtS,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAEpP,IAAI,CAAC,CAAA;QAAAqf,eAAA,GAAA9Z,cAAA,CAAA6Z,cAAA,EAAA,CAAA,CAAA,CAAA;AAArDE,QAAAA,UAAU,GAAAD,eAAA,CAAA,CAAA,CAAA,CAAA;AAAEzR,QAAUyR,eAAA,CAAA,CAAA,EAAA;AAC7B,MAAA,OAAO,CAACjQ,MAAM,CAACkH,MAAM,CAACgJ,UAAU,CAAC,IAAIlQ,MAAM,CAACoH,YAAY,CAAC8I,UAAU,CAAC,CAAA;KACrE,CAAA;AACD,IAAA,IAAMC,iBAAiB,GAAGhf,KAAK,CAACmH,UAAU,CAAC2H,SAAS,CAAC,CAAA;IACrD,IAAImQ,yBAAyB,GAAG,KAAK,CAAA;IACrC,IAAI,CAACD,iBAAiB,EAAE;MACtB,IAAAhQ,YAAA,GAAqCzC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEC,SAAS,CAAC;QAAAG,aAAA,GAAAjK,cAAA,CAAAgK,YAAA,EAAA,CAAA,CAAA;AAA5DkQ,QAAAA,YAAY,GAAAjQ,aAAA,CAAA,CAAA,CAAA;AAAEkQ,QAAAA,YAAY,GAAAlQ,aAAA,CAAA,CAAA,CAAA,CAAA;MACjC,IAAIiQ,YAAY,IAAIpL,KAAK,CAACoL,YAAY,EAAEC,YAAY,CAAC,EAAE;QACrD,IAAAC,eAAA,GAAqB7S,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAEsQ,YAAY,CAAC;UAAAE,eAAA,GAAAra,cAAA,CAAAoa,eAAA,EAAA,CAAA,CAAA;AAAjDL,UAAAA,UAAU,GAAAM,eAAA,CAAA,CAAA,CAAA,CAAA;QACjBJ,yBAAyB,GACvBF,UAAU,IAAIlQ,MAAM,CAACoH,YAAY,CAAC8I,UAAU,CAAC,CAAA;AAChD,OAAA;AACF,KAAA;IACD,IAAIC,iBAAiB,IAAIC,yBAAyB,EAAE;AAClDxC,MAAAA,UAAU,CAAC/E,UAAU,CAAC7I,MAAM,EAAE1F,GAAG,EAAE;AACjC2K,QAAAA,KAAK,EAALA,KAAK;AACLyL,QAAAA,KAAK,EAAE,IAAI;AACXlD,QAAAA,KAAK,EAAE,IAAA;AACR,OAAA,CAAC,CAAA;AACH,KAAA,MAAM;AACL,MAAA,IAAMvE,KAAK,GAAA7Q,eAAA,CAAA,EAAA,EAASsF,MAAM,CAACuL,KAAK,CAACjJ,MAAM,CAAC,IAAI,EAAE,CAAG,CAAA;MACjD,OAAOiJ,KAAK,CAAa3O,GAAG,CAAC,CAAA;MAC7B0F,MAAM,CAACiJ,KAAK,GAAGA,KAAK,CAAA;AACpB,MAAA,IAAI,CAAC1X,QAAQ,CAACkJ,GAAG,CAACuF,MAAM,CAAC,EAAE;QACzBA,MAAM,CAAC0H,QAAQ,EAAE,CAAA;AAClB,OAAA;AACF,KAAA;AACF,GAAA;AACH;;ACxCO,IAAMY,cAAc,GAAsC,SAApDA,cAAcA,CACzBtI,MAAM,EACN+G,aAAa,EACX;AACFvV,EAAAA,WAAW,CAAC4c,GAAG,CAACpO,MAAM,EAAE+G,aAAa,CAAC,CAAA;AACxC;;ACNO,IAAM1P,KAAK,GAA6B,SAAlCA,KAAKA,CAA8B2I,MAAM,EAAE0C,EAAE,EAAI;AAC5D,EAAA,OAAOhF,MAAM,CAAC1M,KAAK,CAACgP,MAAM,EAAE0C,EAAE,EAAE;AAAEiO,IAAAA,IAAI,EAAE,OAAA;AAAO,GAAE,CAAC,CAAA;AACpD;;;;;ACCO,IAAMlS,MAAM,GAA8B,SAApCA,MAAMA,CAA+BuB,MAAM,EAAE0C,EAAE,EAAkB;AAAA,EAAA,IAAhB7Q,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACxE,EAAA,IAAAyb,cAAA,GAA0B1b,OAAO,CAAzB2b,KAAK;AAALA,IAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;EACrB,IAAM3X,KAAK,GAAG8H,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAE0C,EAAE,CAAC,CAAA;AACtC,EAAA,IAAAzM,YAAA,GAAqB9E,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;IAAAM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAhCoB,IAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,IAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;EACjB,IAAImG,IAAI,GAAG,EAAE,CAAA;EAAA,IAAAxB,SAAA,GAAAC,4BAAA,CAEc4C,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAC9C0C,MAAAA,EAAE,EAAE9M,KAAK;MACTqP,KAAK,EAAE5L,IAAI,CAACqB,MAAM;AAClB8S,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC,CAAA;IAAAzS,KAAA,CAAA;AAAA,EAAA,IAAA;IAJF,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAII;AAAA,MAAA,IAAA+R,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AAJQwG,QAAAA,IAAI,GAAAwS,WAAA,CAAA,CAAA,CAAA;AAAEpc,QAAAA,IAAI,GAAAoc,WAAA,CAAA,CAAA,CAAA,CAAA;AAKpB,MAAA,IAAIuH,CAAC,GAAG/Z,IAAI,CAAC6B,IAAI,CAAA;MAEjB,IAAIxL,IAAI,CAACqC,MAAM,CAACtC,IAAI,EAAEoF,GAAG,CAACpF,IAAI,CAAC,EAAE;QAC/B2jB,CAAC,GAAGA,CAAC,CAACliB,KAAK,CAAC,CAAC,EAAE2D,GAAG,CAACqH,MAAM,CAAC,CAAA;AAC3B,OAAA;MAED,IAAIxM,IAAI,CAACqC,MAAM,CAACtC,IAAI,EAAEyG,KAAK,CAACzG,IAAI,CAAC,EAAE;QACjC2jB,CAAC,GAAGA,CAAC,CAACliB,KAAK,CAACgF,KAAK,CAACgG,MAAM,CAAC,CAAA;AAC1B,OAAA;AAEDhB,MAAAA,IAAI,IAAIkY,CAAC,CAAA;AACV,KAAA;AAAA,GAAA,CAAA,OAAApZ,GAAA,EAAA;IAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAN,IAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,GAAA;AAED,EAAA,OAAOgB,IAAI,CAAA;AACb;;;;;ACzBO,IAAMuM,WAAW,GAAmC,SAA9CA,WAAWA,CACtB5I,MAAM,EACNpK,KAAK,EAEH;AAAA,EAAA,IADF/D,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAAyb,cAAA,GAA0B1b,OAAO,CAAzB2b,KAAK;AAALA,IAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACrB,EAAA,IAAAtX,YAAA,GAAmB9E,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;IAAAM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAhCoB,IAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,IAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;AAEf;EACA,IACEmB,KAAK,CAACgG,MAAM,KAAK,CAAC,IAClBrH,GAAG,CAACqH,MAAM,KAAK,CAAC,IAChBlM,KAAK,CAACkH,WAAW,CAACzC,KAAK,CAAC,IACxB/E,IAAI,CAAC0C,WAAW,CAACyC,GAAG,CAACpF,IAAI,CAAC,EAC1B;AACA,IAAA,OAAOgF,KAAK,CAAA;AACb,GAAA;AAED,EAAA,IAAM4e,QAAQ,GAAG9W,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;AACpC0C,IAAAA,EAAE,EAAE1M,GAAG;IACPiP,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,MAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,KAAA;AAC1Dka,IAAAA,KAAK,EAALA,KAAAA;AACD,GAAA,CAAC,CAAA;EACF,IAAMsE,SAAS,GAAG0C,QAAQ,GAAGA,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE,CAAA;EAC7C,IAAMhY,KAAK,GAAGkB,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAE3I,KAAK,CAAC,CAAA;AACzC,EAAA,IAAM+F,MAAM,GAAG;AAAEvH,IAAAA,MAAM,EAAE2G,KAAK;AAAE1G,IAAAA,KAAK,EAAEE,GAAAA;GAAK,CAAA;EAC5C,IAAIye,IAAI,GAAG,IAAI,CAAA;EAAA,IAAA5Z,SAAA,GAAAC,4BAAA,CAEY4C,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAC9C0C,MAAAA,EAAE,EAAEtF,MAAM;MACV6H,KAAK,EAAE5L,IAAI,CAACqB,MAAM;AAClBxI,MAAAA,OAAO,EAAE,IAAI;AACbsb,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC,CAAA;IAAAzS,KAAA,CAAA;AAAA,EAAA,IAAA;IALF,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAKI;AAAA,MAAA,IAAA+R,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AALQwG,QAAAA,IAAI,GAAAwS,WAAA,CAAA,CAAA,CAAA;AAAEpc,QAAAA,IAAI,GAAAoc,WAAA,CAAA,CAAA,CAAA,CAAA;AAMpB,MAAA,IAAIyH,IAAI,EAAE;AACRA,QAAAA,IAAI,GAAG,KAAK,CAAA;AACZ,QAAA,SAAA;AACD,OAAA;AAED,MAAA,IAAIja,IAAI,CAAC6B,IAAI,KAAK,EAAE,IAAIxL,IAAI,CAAC6C,QAAQ,CAAC9C,IAAI,EAAEkhB,SAAS,CAAC,EAAE;AACtD9b,QAAAA,GAAG,GAAG;AAAEpF,UAAAA,IAAI,EAAJA,IAAI;AAAEyM,UAAAA,MAAM,EAAE7C,IAAI,CAAC6B,IAAI,CAACtK,MAAAA;SAAQ,CAAA;AACxC,QAAA,MAAA;AACD,OAAA;AACF,KAAA;AAAA,GAAA,CAAA,OAAAoJ,GAAA,EAAA;IAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAN,IAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,GAAA;EAED,OAAO;AAAExF,IAAAA,MAAM,EAAEwB,KAAK;AAAEvB,IAAAA,KAAK,EAAEE,GAAAA;GAAK,CAAA;AACtC;;ACjDO,IAAM+S,kBAAkB,GAA0C,SAA5DA,kBAAkBA,CAC7B/I,MAAM,EACNuJ,EAAE,EACA;AACF,EAAA,IAAMvV,KAAK,GAAG0J,MAAM,CAACqJ,aAAa,CAAC/G,MAAM,CAAC,CAAA;AAC1CtC,EAAAA,MAAM,CAAC4K,cAAc,CAACtI,MAAM,EAAE,KAAK,CAAC,CAAA;EACpC,IAAI;AACFuJ,IAAAA,EAAE,EAAE,CAAA;AACL,GAAA,SAAS;AACR7L,IAAAA,MAAM,CAAC4K,cAAc,CAACtI,MAAM,EAAEhM,KAAK,CAAC,CAAA;AACrC,GAAA;AACD0J,EAAAA,MAAM,CAAC8J,SAAS,CAACxH,MAAM,CAAC,CAAA;AAC1B;;ACZO,IAAMyI,8BAA8B,GACzC,SADWA,8BAA8BA,CACxCzI,MAAM,EAAAjH,IAAA,EAAAU,KAAA,EAAkD;AAAA,EAAA,IAAAG,KAAA,GAAAzD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAA/CyQ,IAAAA,QAAQ,GAAA5P,KAAA,CAAA,CAAA,CAAA;AAAE8S,IAAAA,QAAQ,GAAA9S,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,EAAA,IAAA+D,KAAA,GAAAxH,cAAA,CAAAsD,KAAA,EAAA,CAAA,CAAA,CAAA;AAAIgQ,IAAO9L,KAAA,CAAA,CAAA,CAAA,CAAA;AAAE+W,IAAW/W,KAAA,CAAA,CAAA,EAAA;AAClD;AACA;AACA;AACA;AACA;AAEA,EAAA,OACGtE,IAAI,CAACP,SAAS,CAAC0Q,QAAQ,CAAC,IAAI9L,MAAM,CAACkJ,OAAO,CAAC5G,MAAM,EAAEwJ,QAAQ,CAAC,IAC5DnQ,IAAI,CAACqB,MAAM,CAAC8O,QAAQ,CAAC,IACpBA,QAAQ,CAACnN,IAAI,KAAK,EAAE,IACpBqQ,QAAQ,CAACA,QAAQ,CAAC3a,MAAM,GAAG,CAAC,CAAC,KAAK,CAAE,CAAA;AAE1C;;;;;ICPW4iB,UAAU,GAA6B,SAAvCA,UAAUA,CAA8B3U,MAAM,EAAkB;AAAA,EAAA,IAAhBnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACvE4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;IAAA,IAAA4U,YAAA,EAAAC,aAAA,CAAA;AACrC,IAAA,IAAA5iB,gBAAA,GAKIJ,OAAO,CAJTK,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAkX,aAAA,GAIbtX,OAAO,CAHTuX,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,WAAW,GAAAA,aAAA;MAAAyH,iBAAA,GAGhB/e,OAAO,CAFTkP,QAAQ;AAARA,MAAAA,QAAQ,GAAA6P,iBAAA,KAAG,KAAA,CAAA,GAAA,CAAC,GAAAA,iBAAA;MAAArD,cAAA,GAEV1b,OAAO,CADT2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AAEf,IAAA,IAAAE,WAAA,GAAiD5b,OAAO,CAAlD6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAAqH,gBAAA,GAAsBjjB,OAAO,CAA3BkjB,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA,CAAA;IAE5C,IAAI,CAACpS,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIrK,WAAW,GAAG,KAAK,CAAA;AACvB,IAAA,IAAI5B,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,IAAIvR,KAAK,CAACkH,WAAW,CAACqK,EAAE,CAAC,EAAE;AACjDrK,MAAAA,WAAW,GAAG,IAAI,CAAA;MAClBqK,EAAE,GAAGA,EAAE,CAAC7M,MAAM,CAAA;AACf,KAAA;AAED,IAAA,IAAIY,QAAQ,CAACe,OAAO,CAACkL,EAAE,CAAC,EAAE;AACxB,MAAA,IAAMsS,YAAY,GAAGtX,MAAM,CAAK,MAAA,CAAA,CAACsC,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAFA,EAAE;AAAEkN,QAAAA,IAAI,EAAE,SAAA;AAAS,OAAE,CAAC,CAAA;AAEjE,MAAA,IAAI,CAACpC,KAAK,IAAIwH,YAAY,EAAE;AAC1B,QAAA,IAAAC,aAAA,GAAA9e,cAAA,CAAqB6e,YAAY,EAAA,CAAA,CAAA;AAAxBE,UAAAA,QAAQ,GAAAD,aAAA,CAAA,CAAA,CAAA,CAAA;AACjBvS,QAAAA,EAAE,GAAGwS,QAAQ,CAAA;AACd,OAAA,MAAM;AACL,QAAA,IAAMC,IAAI,GAAG;AAAE/L,UAAAA,IAAI,EAAJA,IAAI;AAAErI,UAAAA,QAAQ,EAARA,QAAAA;SAAU,CAAA;AAC/B,QAAA,IAAM1K,MAAM,GAAGnE,OAAO,GAClBwL,MAAM,CAACN,MAAM,CAAC4C,MAAM,EAAE0C,EAAE,EAAEyS,IAAI,CAAC,IAAIzX,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAE,EAAE,CAAC,GAC3DtC,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAE0C,EAAE,EAAEyS,IAAI,CAAC,IAAIzX,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE,EAAE,CAAC,CAAA;AAC5D0C,QAAAA,EAAE,GAAG;AAAE7M,UAAAA,MAAM,EAAE6M,EAAE;AAAE5M,UAAAA,KAAK,EAAEO,MAAAA;SAAQ,CAAA;AAClC0e,QAAAA,OAAO,GAAG,IAAI,CAAA;AACf,OAAA;AACF,KAAA;AAED,IAAA,IAAIte,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;AACvBkL,MAAAA,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAFA,EAAE;AAAE8K,QAAAA,KAAK,EAALA,KAAAA;AAAO,OAAA,CAAC,CAAA;AAC7C,MAAA,OAAA;AACD,KAAA;AAED,IAAA,IAAIrc,KAAK,CAACkH,WAAW,CAACqK,EAAE,CAAC,EAAE;AACzB,MAAA,OAAA;AACD,KAAA;IAED,IAAI,CAACqS,OAAO,EAAE;AACZ,MAAA,IAAA9e,YAAA,GAAgB9E,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;QAAAxM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAtBD,QAAAA,IAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;MACZ,IAAMkf,QAAQ,GAAG1X,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE,EAAE,CAAC,CAAA;MAEvC,IAAI,CAAC/O,KAAK,CAACiC,MAAM,CAAC8C,IAAG,EAAEof,QAAQ,CAAC,EAAE;QAChC1S,EAAE,GAAGhF,MAAM,CAACkL,WAAW,CAAC5I,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAC/C,OAAA;AACF,KAAA;AAED,IAAA,IAAA7W,aAAA,GAAmBxF,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;MAAA9L,aAAA,GAAAT,cAAA,CAAAQ,aAAA,EAAA,CAAA,CAAA;AAA7BU,MAAAA,KAAK,GAAAT,aAAA,CAAA,CAAA,CAAA;AAAEZ,MAAAA,GAAG,GAAAY,aAAA,CAAA,CAAA,CAAA,CAAA;AACf,IAAA,IAAMye,UAAU,GAAG3X,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;MACtCiF,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AAC1DoP,MAAAA,EAAE,EAAErL,KAAK;AACTmW,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC,CAAA;AACF,IAAA,IAAMgH,QAAQ,GAAG9W,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;MACpCiF,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AAC1DoP,MAAAA,EAAE,EAAE1M,GAAG;AACPwX,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC,CAAA;IACF,IAAM8H,cAAc,GAClBD,UAAU,IAAIb,QAAQ,IAAI,CAAC3jB,IAAI,CAACqC,MAAM,CAACmiB,UAAU,CAAC,CAAC,CAAC,EAAEb,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;AACpE,IAAA,IAAMe,YAAY,GAAG1kB,IAAI,CAACqC,MAAM,CAACmE,KAAK,CAACzG,IAAI,EAAEoF,GAAG,CAACpF,IAAI,CAAC,CAAA;AACtD,IAAA,IAAM4kB,gBAAgB,GAAGhI,KAAK,GAC1B,IAAI,GAAA,CAAAoH,YAAA,GACJlX,MAAM,CAAA,MAAA,CAAK,CAACsC,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAErL,KAAK;AAAEuY,MAAAA,IAAI,EAAE,SAAA;KAAW,CAAC,MAAAgF,IAAAA,IAAAA,YAAA,KAAAA,KAAAA,CAAAA,GAAAA,YAAA,GACnDlX,MAAM,CAACiI,eAAe,CAAC3F,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAErL,KAAK;AAAEuY,MAAAA,IAAI,EAAE,SAAA;AAAS,KAAE,CAAC,CAAA;AAClE,IAAA,IAAM6F,cAAc,GAAGjI,KAAK,GACxB,IAAI,GAAA,CAAAqH,aAAA,GACJnX,MAAM,CAAA,MAAA,CAAK,CAACsC,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAE1M,GAAG;AAAE4Z,MAAAA,IAAI,EAAE,SAAA;KAAW,CAAC,MAAAiF,IAAAA,IAAAA,aAAA,KAAAA,KAAAA,CAAAA,GAAAA,aAAA,GACjDnX,MAAM,CAACiI,eAAe,CAAC3F,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAE1M,GAAG;AAAE4Z,MAAAA,IAAI,EAAE,SAAA;AAAS,KAAE,CAAC,CAAA;AAEhE;AACA,IAAA,IAAI4F,gBAAgB,EAAE;MACpB,IAAMpY,MAAM,GAAGM,MAAM,CAACN,MAAM,CAAC4C,MAAM,EAAE3I,KAAK,CAAC,CAAA;AAE3C,MAAA,IAAI+F,MAAM,IAAIiY,UAAU,IAAIxkB,IAAI,CAAC4C,UAAU,CAAC4hB,UAAU,CAAC,CAAC,CAAC,EAAEjY,MAAM,CAACxM,IAAI,CAAC,EAAE;AACvEyG,QAAAA,KAAK,GAAG+F,MAAM,CAAA;AACf,OAAA;AACF,KAAA;AAED,IAAA,IAAIqY,cAAc,EAAE;MAClB,IAAMpQ,KAAK,GAAG3H,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAEhK,GAAG,CAAC,CAAA;AAEvC,MAAA,IAAIqP,KAAK,IAAImP,QAAQ,IAAI3jB,IAAI,CAAC4C,UAAU,CAAC+gB,QAAQ,CAAC,CAAC,CAAC,EAAEnP,KAAK,CAACzU,IAAI,CAAC,EAAE;AACjEoF,QAAAA,GAAG,GAAGqP,KAAK,CAAA;AACZ,OAAA;AACF,KAAA;AAED;AACA;IACA,IAAMjL,OAAO,GAAgB,EAAE,CAAA;AAC/B,IAAA,IAAIqZ,QAA0B,CAAA;IAAA,IAAA5Y,SAAA,GAAAC,4BAAA,CAEV4C,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAFA,EAAE;AAAE8K,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;MAAAzS,KAAA,CAAA;AAAA,IAAA,IAAA;MAAvD,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAAyD;AAAA,QAAA,IAA9CC,KAAK,GAAAH,KAAA,CAAA/G,KAAA,CAAA;AACd,QAAA,IAAAob,MAAA,GAAAjZ,cAAA,CAAqB+E,KAAK,EAAA,CAAA,CAAA;AAAnBV,UAAAA,MAAI,GAAA4U,MAAA,CAAA,CAAA,CAAA;AAAExe,UAAAA,MAAI,GAAAwe,MAAA,CAAA,CAAA,CAAA,CAAA;AAEjB,QAAA,IAAIqE,QAAQ,IAAI5iB,IAAI,CAAC+B,OAAO,CAAChC,MAAI,EAAE6iB,QAAQ,CAAC,KAAK,CAAC,EAAE;AAClD,UAAA,SAAA;AACD,SAAA;QAED,IACG,CAACjG,KAAK,IACLnU,IAAI,CAACP,SAAS,CAAC0B,MAAI,CAAC,KACnBkD,MAAM,CAACwJ,MAAM,CAAClH,MAAM,EAAExF,MAAI,CAAC,IAC1BkD,MAAM,CAACiJ,iBAAiB,CAAC3G,MAAM,EAAExF,MAAI,CAAC,CAAC,IAC1C,CAAC3J,IAAI,CAAC+C,QAAQ,CAAChD,MAAI,EAAEyG,KAAK,CAACzG,IAAI,CAAC,IAAI,CAACC,IAAI,CAAC+C,QAAQ,CAAChD,MAAI,EAAEoF,GAAG,CAACpF,IAAI,CAAE,EACpE;AACAwJ,UAAAA,OAAO,CAACzH,IAAI,CAACuI,KAAK,CAAC,CAAA;AACnBuY,UAAAA,QAAQ,GAAG7iB,MAAI,CAAA;AAChB,SAAA;AACF,OAAA;AAAA,KAAA,CAAA,OAAAuK,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;IAED,IAAMuM,QAAQ,GAAG3T,KAAK,CAACiK,IAAI,CAAC9D,OAAO,EAAE,UAAArB,IAAA,EAAA;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,QAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,OAAMiE,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAE7K,CAAC,CAAC,CAAA;KAAC,CAAA,CAAA;IAC1E,IAAMuY,QAAQ,GAAGhQ,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAE3I,KAAK,CAAC,CAAA;IAC/C,IAAMsW,MAAM,GAAGjQ,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAEhK,GAAG,CAAC,CAAA;IAE3C,IAAI0f,WAAW,GAAG,EAAE,CAAA;AAEpB,IAAA,IAAI,CAACH,YAAY,IAAI,CAACC,gBAAgB,EAAE;AACtC,MAAA,IAAMxkB,MAAK,GAAG0c,QAAQ,CAAChd,OAAQ,CAAA;MAC/B,IAAA8gB,YAAA,GAAe9T,MAAM,CAACG,IAAI,CAACmC,MAAM,EAAEhP,MAAK,CAAC;QAAAygB,aAAA,GAAAtb,cAAA,CAAAqb,YAAA,EAAA,CAAA,CAAA;AAAlChX,QAAAA,IAAI,GAAAiX,aAAA,CAAA,CAAA,CAAA,CAAA;AACX,MAAA,IAAQ7gB,IAAI,GAAKI,MAAK,CAAdJ,IAAI,CAAA;MACZ,IAAA+kB,MAAA,GAAmBte,KAAK;QAAhBgG,MAAM,GAAAsY,MAAA,CAANtY,MAAM,CAAA;MACd,IAAMhB,IAAI,GAAG7B,IAAI,CAAC6B,IAAI,CAAChK,KAAK,CAACgL,MAAM,CAAC,CAAA;AACpC,MAAA,IAAIhB,IAAI,CAACtK,MAAM,GAAG,CAAC,EAAE;QACnBiO,MAAM,CAAC7G,KAAK,CAAC;AAAErE,UAAAA,IAAI,EAAE,aAAa;AAAElE,UAAAA,IAAI,EAAJA,IAAI;AAAEyM,UAAAA,MAAM,EAANA,MAAM;AAAEhB,UAAAA,IAAI,EAAJA,IAAAA;AAAI,SAAE,CAAC,CAAA;AACzDqZ,QAAAA,WAAW,GAAGrZ,IAAI,CAAA;AACnB,OAAA;AACF,KAAA;IAEDuL,QAAQ,CACL1V,OAAO,EAAE,CACTwM,GAAG,CAAC,UAAAoG,CAAC,EAAA;AAAA,MAAA,OAAIA,CAAC,CAAChU,KAAK,EAAE,CAAA;AAAA,KAAA,CAAC,CACnB8kB,MAAM,CAAC,UAAC9Q,CAAC,EAAA;MAAA,OAAgBA,CAAC,KAAK,IAAI,CAAA;AAAA,KAAA,CAAC,CACpC+Q,OAAO,CAAC,UAAA1gB,CAAC,EAAA;AAAA,MAAA,OAAIyY,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAEvN,CAAC;AAAEqY,QAAAA,KAAK,EAALA,KAAAA;AAAO,OAAA,CAAC,CAAA;KAAC,CAAA,CAAA;IAEjE,IAAI,CAACiI,cAAc,EAAE;AACnB,MAAA,IAAMzkB,OAAK,GAAG2c,MAAM,CAACjd,OAAQ,CAAA;MAC7B,IAAAolB,aAAA,GAAepY,MAAM,CAACG,IAAI,CAACmC,MAAM,EAAEhP,OAAK,CAAC;QAAA+kB,aAAA,GAAA5f,cAAA,CAAA2f,aAAA,EAAA,CAAA,CAAA;AAAlCtb,QAAAA,KAAI,GAAAub,aAAA,CAAA,CAAA,CAAA,CAAA;AACX,MAAA,IAAQnlB,KAAI,GAAKI,OAAK,CAAdJ,IAAI,CAAA;MACZ,IAAMyM,OAAM,GAAGkY,YAAY,GAAGle,KAAK,CAACgG,MAAM,GAAG,CAAC,CAAA;AAC9C,MAAA,IAAMhB,KAAI,GAAG7B,KAAI,CAAC6B,IAAI,CAAChK,KAAK,CAACgL,OAAM,EAAErH,GAAG,CAACqH,MAAM,CAAC,CAAA;AAChD,MAAA,IAAIhB,KAAI,CAACtK,MAAM,GAAG,CAAC,EAAE;QACnBiO,MAAM,CAAC7G,KAAK,CAAC;AAAErE,UAAAA,IAAI,EAAE,aAAa;AAAElE,UAAAA,IAAI,EAAJA,KAAI;AAAEyM,UAAAA,MAAM,EAANA,OAAM;AAAEhB,UAAAA,IAAI,EAAJA,KAAAA;AAAI,SAAE,CAAC,CAAA;AACzDqZ,QAAAA,WAAW,GAAGrZ,KAAI,CAAA;AACnB,OAAA;AACF,KAAA;AAED,IAAA,IAAI,CAACkZ,YAAY,IAAID,cAAc,IAAI3H,MAAM,CAACjd,OAAO,IAAIgd,QAAQ,CAAChd,OAAO,EAAE;AACzEkd,MAAAA,UAAU,CAACvG,UAAU,CAACrH,MAAM,EAAE;QAC5B0C,EAAE,EAAEiL,MAAM,CAACjd,OAAO;AAClBqkB,QAAAA,OAAO,EAAE,IAAI;AACbvH,QAAAA,KAAK,EAALA,KAAAA;AACD,OAAA,CAAC,CAAA;AACH,KAAA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA,IACEnV,WAAW,IACXnG,OAAO,IACPkX,IAAI,KAAK,WAAW,IACpBsM,WAAW,CAAC3jB,MAAM,GAAG,CAAC,IACtB2jB,WAAW,CAACzQ,KAAK,CACf,uIAAuI,CACxI,EACD;AACA2I,MAAAA,UAAU,CAACpH,UAAU,CACnBxG,MAAM,EACN0V,WAAW,CAACrjB,KAAK,CAAC,CAAC,EAAEqjB,WAAW,CAAC3jB,MAAM,GAAGgP,QAAQ,CAAC,CACpD,CAAA;AACF,KAAA;AAED,IAAA,IAAMiV,UAAU,GAAGtI,QAAQ,CAAC5c,KAAK,EAAE,CAAA;AACnC,IAAA,IAAMmlB,QAAQ,GAAGtI,MAAM,CAAC7c,KAAK,EAAE,CAAA;IAC/B,IAAME,KAAK,GAAGkB,OAAO,GAAG8jB,UAAU,IAAIC,QAAQ,GAAGA,QAAQ,IAAID,UAAU,CAAA;AAEvE,IAAA,IAAInkB,OAAO,CAAC6Q,EAAE,IAAI,IAAI,IAAI1R,KAAK,EAAE;AAC/B4c,MAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAEhP,KAAK,CAAC,CAAA;AACjC,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;;;;ACrMO,IAAMoV,cAAc,GAAqC,SAAnDA,cAAcA,CACzBpG,MAAM,EACNvD,QAAQ,EAEN;AAAA,EAAA,IADF5K,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAA8U,gBAAA,GAA2CjjB,OAAO,CAA1CkjB,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAvH,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACtC,IAAA,IAAAE,WAAA,GAAmE5b,OAAO,CAApE6Q,EAAE;MAAFA,EAAE,GAAA+K,WAAA,KAAG1N,KAAAA,CAAAA,GAAAA,wBAAwB,CAACC,MAAM,CAAC,GAAAyN,WAAA;MAAAyI,mBAAA,GAAwBrkB,OAAO,CAA7BskB,UAAU;AAAVA,MAAAA,UAAU,GAAAD,mBAAA,KAAG,KAAA,CAAA,GAAA,IAAI,GAAAA,mBAAA,CAAA;AAE9D,IAAA,IAAI,CAACzZ,QAAQ,CAAC1K,MAAM,EAAE;AACpB,MAAA,OAAA;AACD,KAAA;AAED,IAAA,IAAI0E,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;MACxB,IAAI,CAACqS,OAAO,EAAE;QACZrS,EAAE,GAAGhF,MAAM,CAACkL,WAAW,CAAC5I,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAC/C,OAAA;AAED,MAAA,IAAIrc,KAAK,CAACkH,WAAW,CAACqK,EAAE,CAAC,EAAE;QACzBA,EAAE,GAAGA,EAAE,CAAC7M,MAAM,CAAA;AACf,OAAA,MAAM;AACL,QAAA,IAAAI,YAAA,GAAgB9E,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;UAAAxM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAtBD,UAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;AAEZ,QAAA,IAAI,CAACsX,KAAK,IAAI9P,MAAM,CAAK,MAAA,CAAA,CAACsC,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAE1M,GAAAA;AAAG,SAAE,CAAC,EAAE;AAC9C,UAAA,OAAA;AACD,SAAA;QAED,IAAM6R,QAAQ,GAAGnK,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAEhK,GAAG,CAAC,CAAA;QAC7C4X,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAFA,EAAAA;AAAI,SAAA,CAAC,CAAA;AACjCA,QAAAA,EAAE,GAAGmF,QAAQ,CAAC/W,KAAK,EAAG,CAAA;AACvB,OAAA;KACF,MAAM,IAAI2F,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;MAC9BA,EAAE,GAAGhF,MAAM,CAACrG,KAAK,CAAC2I,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAC9B,KAAA;AAED,IAAA,IAAI,CAAC8K,KAAK,IAAI9P,MAAM,CAAK,MAAA,CAAA,CAACsC,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAFA,EAAAA;AAAE,KAAE,CAAC,EAAE;AACzC,MAAA,OAAA;AACD,KAAA;AAED;AACA;AACA,IAAA,IAAM0T,kBAAkB,GAAG1Y,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;AAC9C0C,MAAAA,EAAE,EAAFA,EAAE;MACFuC,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AAC3Dsc,MAAAA,IAAI,EAAE,SAAS;AACfpC,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC,CAAA;AAEF,IAAA,IAAI4I,kBAAkB,EAAE;AACtB,MAAA,IAAAC,mBAAA,GAAAlgB,cAAA,CAAuBigB,kBAAkB,EAAA,CAAA,CAAA;AAAhCE,QAAAA,WAAU,GAAAD,mBAAA,CAAA,CAAA,CAAA,CAAA;MAEnB,IAAI3Y,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAE0C,EAAE,EAAE4T,WAAU,CAAC,EAAE;QACxC,IAAMjR,KAAK,GAAG3H,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAEsW,WAAU,CAAE,CAAA;AAC/C5T,QAAAA,EAAE,GAAG2C,KAAK,CAAA;AACX,OAAA,MAAM,IAAI3H,MAAM,CAACuJ,OAAO,CAACjH,MAAM,EAAE0C,EAAE,EAAE4T,WAAU,CAAC,EAAE;QACjD,IAAMlZ,MAAM,GAAGM,MAAM,CAACN,MAAM,CAAC4C,MAAM,EAAEsW,WAAU,CAAE,CAAA;AACjD5T,QAAAA,EAAE,GAAGtF,MAAM,CAAA;AACZ,OAAA;AACF,KAAA;AAED,IAAA,IAAMmZ,UAAU,GAAG7Y,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;MACtCiF,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AAC1DoP,MAAAA,EAAE,EAAFA,EAAE;AACF8K,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAE,CAAA;AACH,IAAA,IAAAgJ,WAAA,GAAArgB,cAAA,CAAsBogB,UAAU,EAAA,CAAA,CAAA;AAAvBzE,MAAAA,SAAS,GAAA0E,WAAA,CAAA,CAAA,CAAA,CAAA;IAClB,IAAMC,YAAY,GAAG/Y,MAAM,CAACuJ,OAAO,CAACjH,MAAM,EAAE0C,EAAE,EAAEoP,SAAS,CAAC,CAAA;IAC1D,IAAM4E,UAAU,GAAGhZ,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAE0C,EAAE,EAAEoP,SAAS,CAAC,CAAA;AACtD,IAAA,IAAM6E,YAAY,GAAGF,YAAY,IAAIC,UAAU,CAAA;AAC/C,IAAA,IAAAtD,WAAA,GAA0B/Z,IAAI,CAACmD,KAAK,CAAC;AAAEjD,QAAAA,QAAQ,EAAEkD,QAAAA;OAAU,EAAE,EAAE,CAAC;MAAA4W,YAAA,GAAAld,cAAA,CAAAid,WAAA,EAAA,CAAA,CAAA;AAAvDwD,MAAAA,aAAa,GAAAvD,YAAA,CAAA,CAAA,CAAA,CAAA;AACtB,IAAA,IAAAE,UAAA,GAAyBla,IAAI,CAAC1E,IAAI,CAAC;AAAE4E,QAAAA,QAAQ,EAAEkD,QAAAA;OAAU,EAAE,EAAE,CAAC;MAAA+W,WAAA,GAAArd,cAAA,CAAAod,UAAA,EAAA,CAAA,CAAA;AAArDsD,MAAAA,YAAY,GAAArD,WAAA,CAAA,CAAA,CAAA,CAAA;AAErB;AACA;AACA;AACA;AACA;AACA,IAAA,IAAMsD,YAAY,GAAG,SAAfA,YAAYA,CAAA/d,IAAA,EAAyB;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAApBzF,QAAAA,CAAC,GAAAmG,KAAA,CAAA,CAAA,CAAA;AAAEtE,QAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AACzB,MAAA,IAAMsd,MAAM,GAAG5hB,CAAC,CAACpD,MAAM,KAAK,CAAC,CAAA;AAC7B,MAAA,IAAIglB,MAAM,EAAE;AACV,QAAA,OAAO,KAAK,CAAA;AACb,OAAA;AAED;AACA;AACA,MAAA,IAAIJ,YAAY,EAAE;AAChB,QAAA,OAAO,IAAI,CAAA;AACZ,OAAA;AAED;AACA;AACA,MAAA,IACE,CAACF,YAAY,IACb5lB,IAAI,CAAC4C,UAAU,CAAC0B,CAAC,EAAEyhB,aAAa,CAAC,IACjCvd,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IACjB,CAAC0M,MAAM,CAACkH,MAAM,CAAC5T,CAAC,CAAC,IACjB,CAAC0M,MAAM,CAAC8G,QAAQ,CAACxT,CAAC,CAAC,EACnB;AACA,QAAA,OAAO,KAAK,CAAA;AACb,OAAA;AAED;AACA;AACA,MAAA,IACE,CAACojB,UAAU,IACX7lB,IAAI,CAAC4C,UAAU,CAAC0B,CAAC,EAAE0hB,YAAY,CAAC,IAChCxd,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IACjB,CAAC0M,MAAM,CAACkH,MAAM,CAAC5T,CAAC,CAAC,IACjB,CAAC0M,MAAM,CAAC8G,QAAQ,CAACxT,CAAC,CAAC,EACnB;AACA,QAAA,OAAO,KAAK,CAAA;AACb,OAAA;AAED;AACA,MAAA,OAAO,IAAI,CAAA;KACZ,CAAA;AAED;IACA,IAAI0jB,QAAQ,GAAG,IAAI,CAAA;AAEnB;AACA;IACA,IAAMC,MAAM,GAAiB,EAAE,CAAA;AAE/B;IACA,IAAMC,OAAO,GAAc,EAAE,CAAA;AAE7B;AACA;AACA;IACA,IAAMC,IAAI,GAAiB,EAAE,CAAA;AAAA,IAAA,IAAAtc,SAAA,GAAAC,4BAAA,CAETzB,IAAI,CAACwC,KAAK,CAC5B;AAAEtC,QAAAA,QAAQ,EAAEkD,QAAAA;AAAQ,OAAE,EACtB;AAAEG,QAAAA,IAAI,EAAEka,YAAAA;AAAY,OAAE,CACvB,CAAA;MAAA/b,KAAA,CAAA;AAAA,IAAA,IAAA;MAHD,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAGG;AAAA,QAAA,IAHQC,KAAK,GAAAH,KAAA,CAAA/G,KAAA,CAAA;AAId,QAAA,IAAAob,MAAA,GAAAjZ,cAAA,CAAqB+E,KAAK,EAAA,CAAA,CAAA;AAAnBV,UAAAA,IAAI,GAAA4U,MAAA,CAAA,CAAA,CAAA;AAAExe,UAAAA,KAAI,GAAAwe,MAAA,CAAA,CAAA,CAAA,CAAA;AAEjB;AACA;QACA,IACE4H,QAAQ,IACR3d,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,IACpB,CAACwF,MAAM,CAAC8G,QAAQ,CAACtM,IAAI,CAAC,IACtB,CAAC3J,IAAI,CAAC4C,UAAU,CAAC7C,KAAI,EAAEgmB,aAAa,CAAC,EACrC;AACAI,UAAAA,QAAQ,GAAG,KAAK,CAAA;AACjB,SAAA;AAED,QAAA,IAAIF,YAAY,CAAC5b,KAAK,CAAC,EAAE;AACvB,UAAA,IAAI7B,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,IAAI,CAACwF,MAAM,CAAC8G,QAAQ,CAACtM,IAAI,CAAC,EAAE;AAClDwc,YAAAA,QAAQ,GAAG,KAAK,CAAA;AAChBE,YAAAA,OAAO,CAACvkB,IAAI,CAAC6H,IAAI,CAAC,CAAA;WACnB,MAAM,IAAIwc,QAAQ,EAAE;AACnBC,YAAAA,MAAM,CAACtkB,IAAI,CAAC6H,IAAI,CAAC,CAAA;AAClB,WAAA,MAAM;AACL2c,YAAAA,IAAI,CAACxkB,IAAI,CAAC6H,IAAI,CAAC,CAAA;AAChB,WAAA;AACF,SAAA;AACF,OAAA;AAAA,KAAA,CAAA,OAAAW,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AAED,IAAA,IAAA+V,aAAA,GAAsB1T,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AACzC0C,QAAAA,EAAE,EAAFA,EAAE;QACFuC,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,UAAA,OAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,SAAA;AACxDsc,QAAAA,IAAI,EAAE,SAAS;AACfpC,QAAAA,KAAK,EAALA,KAAAA;AACD,OAAA,CAAE;MAAA6D,cAAA,GAAAlb,cAAA,CAAAib,aAAA,EAAA,CAAA,CAAA;AALIgG,MAAAA,WAAW,GAAA/F,cAAA,CAAA,CAAA,CAAA,CAAA;AAOlB,IAAA,IAAAgG,YAAA,GAAAlhB,cAAA,CAAuBihB,WAAW,EAAA,CAAA,CAAA;AAAzBd,MAAAA,UAAU,GAAAe,YAAA,CAAA,CAAA,CAAA,CAAA;IACnB,IAAMC,aAAa,GAAG5Z,MAAM,CAACuJ,OAAO,CAACjH,MAAM,EAAE0C,EAAE,EAAE4T,UAAU,CAAC,CAAA;IAC5D,IAAMiB,WAAW,GAAG7Z,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAE0C,EAAE,EAAE4T,UAAU,CAAC,CAAA;IAExD,IAAMkB,SAAS,GAAG9Z,MAAM,CAACiK,OAAO,CAC9B3H,MAAM,EACN0W,UAAU,IAAI,CAACS,IAAI,CAACplB,MAAM,GAAGlB,IAAI,CAAC2D,IAAI,CAACsd,SAAS,CAAC,GAAGA,SAAS,CAC9D,CAAA;AAED,IAAA,IAAMnE,MAAM,GAAGjQ,MAAM,CAACiK,OAAO,CAC3B3H,MAAM,EACNuX,WAAW,GAAG1mB,IAAI,CAAC2D,IAAI,CAAC8hB,UAAU,CAAC,GAAGA,UAAU,CACjD,CAAA;AAED;AACA;AACA,IAAA,IAAMmB,UAAU,GAAGN,IAAI,CAACplB,MAAM,GAAG,CAAC,CAAA;AAElC6b,IAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAC5B0C,MAAAA,EAAE,EAAFA,EAAE;MACFuC,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OACNmkB,UAAU,GACNpe,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,GAC9C+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AAClDsc,MAAAA,IAAI,EAAE6H,UAAU,GAAG,QAAQ,GAAG,SAAS;MACvCvG,MAAM,EACJuG,UAAU,KACT,CAAChB,YAAY,IAAIQ,MAAM,CAACllB,MAAM,GAAG,CAAC,CAAC,KACnC,CAAC2kB,UAAU,IAAIS,IAAI,CAACplB,MAAM,GAAG,CAAC,CAAC;AAClCyb,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC,CAAA;IAEF,IAAME,QAAQ,GAAGhQ,MAAM,CAACiK,OAAO,CAC7B3H,MAAM,EACN,CAACsX,aAAa,IAAKA,aAAa,IAAIC,WAAY,GAC5C1mB,IAAI,CAAC2D,IAAI,CAAC8hB,UAAU,CAAC,GACrBA,UAAU,CACf,CAAA;AAED1I,IAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAEiX,MAAM,EAAE;MACrCvU,EAAE,EAAEgL,QAAQ,CAAChd,OAAQ;MACrBuU,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AACxDsc,MAAAA,IAAI,EAAE,SAAS;AACfpC,MAAAA,KAAK,EAALA,KAAK;AACL2I,MAAAA,UAAU,EAAVA,UAAAA;AACD,KAAA,CAAC,CAAA;AAEF,IAAA,IAAIQ,YAAY,IAAI,CAACM,MAAM,CAACllB,MAAM,IAAImlB,OAAO,CAACnlB,MAAM,IAAI,CAAColB,IAAI,CAACplB,MAAM,EAAE;MACpE6b,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAEoP,SAAS;AAAEtE,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;AACpD,KAAA;AAEDI,IAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAEkX,OAAO,EAAE;MACtCxU,EAAE,EAAE8U,SAAS,CAAC9mB,OAAQ;MACtBuU,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AAC1Dsc,MAAAA,IAAI,EAAE,QAAQ;AACdpC,MAAAA,KAAK,EAALA,KAAK;AACL2I,MAAAA,UAAU,EAAVA,UAAAA;AACD,KAAA,CAAC,CAAA;AAEFvI,IAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAEmX,IAAI,EAAE;MACnCzU,EAAE,EAAEiL,MAAM,CAACjd,OAAQ;MACnBuU,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AACxDsc,MAAAA,IAAI,EAAE,SAAS;AACfpC,MAAAA,KAAK,EAALA,KAAK;AACL2I,MAAAA,UAAU,EAAVA,UAAAA;AACD,KAAA,CAAC,CAAA;AAEF,IAAA,IAAI,CAACtkB,OAAO,CAAC6Q,EAAE,EAAE;AACf,MAAA,IAAI9R,IAAI,CAAA;MAER,IAAIumB,IAAI,CAACplB,MAAM,GAAG,CAAC,IAAI4b,MAAM,CAACjd,OAAO,EAAE;QACrCE,IAAI,GAAGC,IAAI,CAACmE,QAAQ,CAAC2Y,MAAM,CAACjd,OAAO,CAAC,CAAA;OACrC,MAAM,IAAIwmB,OAAO,CAACnlB,MAAM,GAAG,CAAC,IAAIylB,SAAS,CAAC9mB,OAAO,EAAE;QAClDE,IAAI,GAAGC,IAAI,CAACmE,QAAQ,CAACwiB,SAAS,CAAC9mB,OAAO,CAAC,CAAA;AACxC,OAAA,MAAM,IAAIgd,QAAQ,CAAChd,OAAO,EAAE;QAC3BE,IAAI,GAAGC,IAAI,CAACmE,QAAQ,CAAC0Y,QAAQ,CAAChd,OAAO,CAAC,CAAA;AACvC,OAAA;AAED,MAAA,IAAIE,IAAI,EAAE;QACR,IAAMoF,IAAG,GAAG0H,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAEpP,IAAI,CAAC,CAAA;AACpCgd,QAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAEhK,IAAG,CAAC,CAAA;AAC/B,OAAA;AACF,KAAA;IAED0X,QAAQ,CAAC5c,KAAK,EAAE,CAAA;IAChB0mB,SAAS,CAAC1mB,KAAK,EAAE,CAAA;IACjB6c,MAAM,CAAC7c,KAAK,EAAE,CAAA;AAChB,GAAC,CAAC,CAAA;AACJ;;ICtQawU,QAAQ,GAAoC,SAA5CA,QAAQA,CACnBtF,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAA4hB,aAAA,GAA4B7hB,OAAO,CAA3B8e,IAAI;AAAJA,IAAAA,IAAI,GAAA+C,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA,CAAA;AACvB,EAAA,IAAQzT,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;EAEjB,IAAI,CAACA,SAAS,EAAE;AACd,IAAA,OAAA;AACD,GAAA,MAAM,IAAI0Q,IAAI,KAAK,QAAQ,EAAE;IAC5B/C,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAEC,SAAS,CAACpK,MAAM,CAAC,CAAA;AAC5C,GAAA,MAAM,IAAI8a,IAAI,KAAK,OAAO,EAAE;IAC3B/C,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAEC,SAAS,CAACnK,KAAK,CAAC,CAAA;AAC3C,GAAA,MAAM,IAAI6a,IAAI,KAAK,OAAO,EAAE;AAC3B,IAAA,IAAA1a,YAAA,GAAgB9E,KAAK,CAACwE,KAAK,CAACsK,SAAS,CAAC;MAAA/J,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAA/BoB,MAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA,CAAA;AACZ0X,IAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAE3I,KAAK,CAAC,CAAA;AACjC,GAAA,MAAM,IAAIsZ,IAAI,KAAK,KAAK,EAAE;AACzB,IAAA,IAAAha,aAAA,GAAgBxF,KAAK,CAACwE,KAAK,CAACsK,SAAS,CAAC;MAAArJ,aAAA,GAAAT,cAAA,CAAAQ,aAAA,EAAA,CAAA,CAAA;AAA7BX,MAAAA,GAAG,GAAAY,aAAA,CAAA,CAAA,CAAA,CAAA;AACZgX,IAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAEhK,GAAG,CAAC,CAAA;AAC/B,GAAA;AACH;;ICtBa0P,QAAQ,GAAoC,SAA5CA,QAAQA,CAAoC1F,MAAM,EAAG;AAChE,EAAA,IAAQC,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;AAEjB,EAAA,IAAIA,SAAS,EAAE;IACbD,MAAM,CAAC7G,KAAK,CAAC;AACXrE,MAAAA,IAAI,EAAE,eAAe;AACrBwH,MAAAA,UAAU,EAAE2D,SAAS;AACrBb,MAAAA,aAAa,EAAE,IAAA;AAChB,KAAA,CAAC,CAAA;AACH,GAAA;AACH;;ICPakI,IAAI,GAAgC,SAApCA,IAAIA,CAAiCtH,MAAM,EAAkB;AAAA,EAAA,IAAhBnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACpE,EAAA,IAAQmO,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;AACjB,EAAA,IAAA2Q,iBAAA,GAA8D/e,OAAO,CAA7DkP,QAAQ;AAARA,IAAAA,QAAQ,GAAA6P,iBAAA,KAAG,KAAA,CAAA,GAAA,CAAC,GAAAA,iBAAA;IAAAzH,aAAA,GAA0CtX,OAAO,CAA/CuX,IAAI;AAAJA,IAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,WAAW,GAAAA,aAAA;IAAAlX,gBAAA,GAAsBJ,OAAO,CAA3BK,OAAO;AAAPA,IAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA,CAAA;AACzD,EAAA,IAAAyhB,aAAA,GAAsB7hB,OAAO,CAAvB8e,IAAI;AAAJA,IAAAA,IAAI,GAAA+C,aAAA,KAAG,KAAA,CAAA,GAAA,IAAI,GAAAA,aAAA,CAAA;EAEjB,IAAI,CAACzT,SAAS,EAAE;AACd,IAAA,OAAA;AACD,GAAA;EAED,IAAI0Q,IAAI,KAAK,OAAO,EAAE;IACpBA,IAAI,GAAGxf,KAAK,CAAC4E,UAAU,CAACkK,SAAS,CAAC,GAAG,OAAO,GAAG,QAAQ,CAAA;AACxD,GAAA;EAED,IAAI0Q,IAAI,KAAK,KAAK,EAAE;IAClBA,IAAI,GAAGxf,KAAK,CAAC4E,UAAU,CAACkK,SAAS,CAAC,GAAG,QAAQ,GAAG,OAAO,CAAA;AACxD,GAAA;AAED,EAAA,IAAQpK,MAAM,GAAYoK,SAAS,CAA3BpK,MAAM;IAAEC,KAAK,GAAKmK,SAAS,CAAnBnK,KAAK,CAAA;AACrB,EAAA,IAAMqf,IAAI,GAAG;AAAEpU,IAAAA,QAAQ,EAARA,QAAQ;AAAEqI,IAAAA,IAAI,EAAJA,IAAAA;GAAM,CAAA;EAC/B,IAAMpP,KAAK,GAAmB,EAAE,CAAA;AAEhC,EAAA,IAAI2W,IAAI,IAAI,IAAI,IAAIA,IAAI,KAAK,QAAQ,EAAE;IACrC,IAAM3f,KAAK,GAAGkB,OAAO,GACjBwL,MAAM,CAACN,MAAM,CAAC4C,MAAM,EAAEnK,MAAM,EAAEsf,IAAI,CAAC,GACnCzX,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAEnK,MAAM,EAAEsf,IAAI,CAAC,CAAA;AAEtC,IAAA,IAAInkB,KAAK,EAAE;MACTgJ,KAAK,CAACnE,MAAM,GAAG7E,KAAK,CAAA;AACrB,KAAA;AACF,GAAA;AAED,EAAA,IAAI2f,IAAI,IAAI,IAAI,IAAIA,IAAI,KAAK,OAAO,EAAE;IACpC,IAAM3f,MAAK,GAAGkB,OAAO,GACjBwL,MAAM,CAACN,MAAM,CAAC4C,MAAM,EAAElK,KAAK,EAAEqf,IAAI,CAAC,GAClCzX,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAElK,KAAK,EAAEqf,IAAI,CAAC,CAAA;AAErC,IAAA,IAAInkB,MAAK,EAAE;MACTgJ,KAAK,CAAClE,KAAK,GAAG9E,MAAK,CAAA;AACpB,KAAA;AACF,GAAA;AAED4c,EAAAA,UAAU,CAACpF,YAAY,CAACxI,MAAM,EAAEhG,KAAK,CAAC,CAAA;AACxC;;ACzCO,IAAMoO,MAAM,GAAkC,SAAxCA,MAAMA,CAAmCpI,MAAM,EAAE3J,MAAM,EAAI;AACtE,EAAA,IAAQ4J,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;EACjB5J,MAAM,GAAGqH,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAE3J,MAAM,CAAC,CAAA;AAErC,EAAA,IAAI4J,SAAS,EAAE;AACb2N,IAAAA,UAAU,CAACpF,YAAY,CAACxI,MAAM,EAAE3J,MAAM,CAAC,CAAA;AACvC,IAAA,OAAA;AACD,GAAA;AAED,EAAA,IAAI,CAACI,QAAQ,CAACC,OAAO,CAACL,MAAM,CAAC,EAAE;AAC7B,IAAA,MAAM,IAAI5B,KAAK,CAAAC,oIAAAA,CAAAA,MAAA,CAC8HiG,QAAQ,CAACC,SAAS,CAC3JvE,MAAM,CACP,CAAE,CACJ,CAAA;AACF,GAAA;EAED2J,MAAM,CAAC7G,KAAK,CAAC;AACXrE,IAAAA,IAAI,EAAE,eAAe;AACrBwH,IAAAA,UAAU,EAAE2D,SAAS;AACrBb,IAAAA,aAAa,EAAE/I,MAAAA;AAChB,GAAA,CAAC,CAAA;AACJ;;;;ACxBO,IAAMkS,QAAQ,GAAoC,SAA5CA,QAAQA,CACnBvI,MAAM,EACNhG,KAAK,EAEH;AAAA,EAAA,IADFnI,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAQmO,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;AACjB,EAAA,IAAAyT,aAAA,GAAwB7hB,OAAO,CAAzB8e,IAAI;AAAJA,IAAAA,IAAI,GAAA+C,aAAA,KAAG,KAAA,CAAA,GAAA,MAAM,GAAAA,aAAA,CAAA;EAEnB,IAAI,CAACzT,SAAS,EAAE;AACd,IAAA,OAAA;AACD,GAAA;EAED,IAAI0Q,IAAI,KAAK,OAAO,EAAE;IACpBA,IAAI,GAAGxf,KAAK,CAAC4E,UAAU,CAACkK,SAAS,CAAC,GAAG,OAAO,GAAG,QAAQ,CAAA;AACxD,GAAA;EAED,IAAI0Q,IAAI,KAAK,KAAK,EAAE;IAClBA,IAAI,GAAGxf,KAAK,CAAC4E,UAAU,CAACkK,SAAS,CAAC,GAAG,QAAQ,GAAG,OAAO,CAAA;AACxD,GAAA;AAED,EAAA,IAAQpK,MAAM,GAAYoK,SAAS,CAA3BpK,MAAM;IAAEC,KAAK,GAAKmK,SAAS,CAAnBnK,KAAK,CAAA;EACrB,IAAM9E,KAAK,GAAG2f,IAAI,KAAK,QAAQ,GAAG9a,MAAM,GAAGC,KAAK,CAAA;EAEhD8X,UAAU,CAACpF,YAAY,CAACxI,MAAM,EAAAyQ,eAAA,CAAA,EAAA,EAC3BE,IAAI,KAAK,QAAQ,GAAG,QAAQ,GAAG,OAAO,EAAAvY,eAAA,CAAAA,eAAA,KAAQpH,KAAK,CAAA,EAAKgJ,KAAK,CAAA,CAC/D,CAAC,CAAA;AACJ;;AC1BO,IAAMwO,YAAY,GAAwC,SAApDA,YAAYA,CACvBxI,MAAM,EACNhG,KAAK,EACH;AACF,EAAA,IAAQiG,SAAS,GAAKD,MAAM,CAApBC,SAAS,CAAA;EACjB,IAAMyX,QAAQ,GAA0B,EAAE,CAAA;EAC1C,IAAMC,QAAQ,GAAmB,EAAE,CAAA;EAEnC,IAAI,CAAC1X,SAAS,EAAE;AACd,IAAA,OAAA;AACD,GAAA;AAED,EAAA,KAAK,IAAM2X,CAAC,IAAI5d,KAAK,EAAE;AACrB,IAAA,IACG4d,CAAC,KAAK,QAAQ,IACb5d,KAAK,CAACnE,MAAM,IAAI,IAAI,IACpB,CAAC5E,KAAK,CAACiC,MAAM,CAAC8G,KAAK,CAACnE,MAAM,EAAEoK,SAAS,CAACpK,MAAM,CAAC,IAC9C+hB,CAAC,KAAK,OAAO,IACZ5d,KAAK,CAAClE,KAAK,IAAI,IAAI,IACnB,CAAC7E,KAAK,CAACiC,MAAM,CAAC8G,KAAK,CAAClE,KAAK,EAAEmK,SAAS,CAACnK,KAAK,CAAE,IAC7C8hB,CAAC,KAAK,QAAQ,IACbA,CAAC,KAAK,OAAO,IACb5d,KAAK,CAAc4d,CAAC,CAAC,KAAK3X,SAAS,CAAc2X,CAAC,CAAE,EACtD;AACAF,MAAAA,QAAQ,CAAcE,CAAC,CAAC,GAAG3X,SAAS,CAAc2X,CAAC,CAAC,CAAA;AACpDD,MAAAA,QAAQ,CAAcC,CAAC,CAAC,GAAG5d,KAAK,CAAc4d,CAAC,CAAC,CAAA;AACjD,KAAA;AACF,GAAA;EAED,IAAI5M,MAAM,CAAC6M,IAAI,CAACH,QAAQ,CAAC,CAAC3lB,MAAM,GAAG,CAAC,EAAE;IACpCiO,MAAM,CAAC7G,KAAK,CAAC;AACXrE,MAAAA,IAAI,EAAE,eAAe;AACrBwH,MAAAA,UAAU,EAAEob,QAAQ;AACpBtY,MAAAA,aAAa,EAAEuY,QAAAA;AAChB,KAAA,CAAC,CAAA;AACH,GAAA;AACH;;;;;AC7BO,IAAMrR,WAAW,GAAkC,SAA7CA,WAAWA,CACtBtG,MAAM,EACNnE,KAAK,EAEH;AAAA,EAAA,IADFhK,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAA8U,gBAAA,GAKIjjB,OAAO,CAJTkjB,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAvH,cAAA,GAIb1b,OAAO,CAHT2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;MAAAoC,aAAA,GAGX9d,OAAO,CAFT+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAAuG,mBAAA,GAEbrkB,OAAO,CADTskB,UAAU;AAAVA,MAAAA,UAAU,GAAAD,mBAAA,KAAG,KAAA,CAAA,GAAA,IAAI,GAAAA,mBAAA,CAAA;AAEnB,IAAA,IAAMxT,EAAE,GAAoB7Q,OAAO,CAA7B6Q,EAAE;MAAEuC,KAAK,GAAapT,OAAO,CAAzBoT,KAAK;MAAEmD,MAAM,GAAKvW,OAAO,CAAlBuW,MAAM,CAAA;AAEvB,IAAA,IAAI/O,IAAI,CAACmE,MAAM,CAAC3B,KAAK,CAAC,EAAE;MACtBA,KAAK,GAAG,CAACA,KAAK,CAAC,CAAA;AAChB,KAAA;AAED,IAAA,IAAIA,KAAK,CAAC9J,MAAM,KAAK,CAAC,EAAE;AACtB,MAAA,OAAA;AACD,KAAA;IAED,IAAA+lB,MAAA,GAAejc,KAAK;MAAAkc,OAAA,GAAA5hB,cAAA,CAAA2hB,MAAA,EAAA,CAAA,CAAA;AAAbtd,MAAAA,IAAI,GAAAud,OAAA,CAAA,CAAA,CAAA,CAAA;IAEX,IAAI,CAACrV,EAAE,EAAE;AACPA,MAAAA,EAAE,GAAG3C,wBAAwB,CAACC,MAAM,CAAC,CAAA;MACrC,IAAIoI,MAAM,KAAK,KAAK,EAAE;AACpBA,QAAAA,MAAM,GAAG,IAAI,CAAA;AACd,OAAA;AACF,KAAA;IAED,IAAIA,MAAM,IAAI,IAAI,EAAE;AAClBA,MAAAA,MAAM,GAAG,KAAK,CAAA;AACf,KAAA;AAED,IAAA,IAAI3R,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;MACxB,IAAI,CAACqS,OAAO,EAAE;QACZrS,EAAE,GAAGhF,MAAM,CAACkL,WAAW,CAAC5I,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAC/C,OAAA;AAED,MAAA,IAAIrc,KAAK,CAACkH,WAAW,CAACqK,EAAE,CAAC,EAAE;QACzBA,EAAE,GAAGA,EAAE,CAAC7M,MAAM,CAAA;AACf,OAAA,MAAM;AACL,QAAA,IAAAI,YAAA,GAAgB9E,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;UAAAxM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAtBD,UAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;QACZ,IAAM2R,QAAQ,GAAGnK,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAEhK,GAAG,CAAC,CAAA;QAC7C4X,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAFA,EAAAA;AAAI,SAAA,CAAC,CAAA;AACjCA,QAAAA,EAAE,GAAGmF,QAAQ,CAAC/W,KAAK,EAAG,CAAA;AACvB,OAAA;AACF,KAAA;AAED,IAAA,IAAI2F,QAAQ,CAACe,OAAO,CAACkL,EAAE,CAAC,EAAE;MACxB,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjB,QAAA,IAAI5L,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;UACrByK,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,YAAA,OAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,CAAA;AAAA,WAAA,CAAA;SAC5B,MAAM,IAAI0M,MAAM,CAAC8G,QAAQ,CAACtM,IAAI,CAAC,EAAE;UAChCyK,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,YAAA,OAAI+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,WAAA,CAAA;AAC1D,SAAA,MAAM;UACL2R,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,YAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,WAAA,CAAA;AAC5D,SAAA;AACF,OAAA;AAED,MAAA,IAAA8d,aAAA,GAAgB1T,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;UACnC0C,EAAE,EAAEA,EAAE,CAAC9R,IAAI;AACXqU,UAAAA,KAAK,EAALA,KAAK;AACL2K,UAAAA,IAAI,EAAJA,IAAI;AACJpC,UAAAA,KAAK,EAALA,KAAAA;AACD,SAAA,CAAC;QAAA6D,cAAA,GAAAlb,cAAA,CAAAib,aAAA,EAAA,CAAA,CAAA;AALKlW,QAAAA,KAAK,GAAAmW,cAAA,CAAA,CAAA,CAAA,CAAA;AAOZ,MAAA,IAAInW,KAAK,EAAE;AACT,QAAA,IAAAkU,MAAA,GAAAjZ,cAAA,CAAsB+E,KAAK,EAAA,CAAA,CAAA;AAAlBgF,UAAAA,SAAS,GAAAkP,MAAA,CAAA,CAAA,CAAA,CAAA;QAClB,IAAMzH,OAAO,GAAGjK,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAEE,SAAS,CAAC,CAAA;QACjD,IAAM8X,OAAO,GAAGta,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAE0C,EAAE,EAAExC,SAAS,CAAC,CAAA;AACnD0N,QAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAFA,EAAE;AAAEuC,UAAAA,KAAK,EAALA,KAAK;AAAE2K,UAAAA,IAAI,EAAJA,IAAI;AAAEpC,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AACzD,QAAA,IAAM5c,IAAI,GAAG+W,OAAO,CAAC7W,KAAK,EAAG,CAAA;QAC7B4R,EAAE,GAAGsV,OAAO,GAAGnnB,IAAI,CAAC2D,IAAI,CAAC5D,IAAI,CAAC,GAAGA,IAAI,CAAA;AACtC,OAAA,MAAM;AACL,QAAA,OAAA;AACD,OAAA;AACF,KAAA;AAED,IAAA,IAAM4N,UAAU,GAAG3N,IAAI,CAACkE,MAAM,CAAC2N,EAAE,CAAC,CAAA;IAClC,IAAInH,KAAK,GAAGmH,EAAE,CAACA,EAAE,CAAC3Q,MAAM,GAAG,CAAC,CAAC,CAAA;AAE7B,IAAA,IAAI,CAACyb,KAAK,IAAI9P,MAAM,CAAK,MAAA,CAAA,CAACsC,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAElE,UAAAA;AAAU,KAAE,CAAC,EAAE;AACrD,MAAA,OAAA;AACD,KAAA;AAED,IAAA,IAAI2X,UAAU,EAAE;AACd;AACA;MACA,IAAM8B,UAAU,GAA8B,EAAE,CAAA;AAChD,MAAA,IAAM3J,aAAa,GAAWzd,IAAI,CAACuB,MAAM,CAACoM,UAAU,CAAC,CAAA;MACrD0P,eAAe,CACblO,MAAM,EACN,YAAK;AAAA,QAAA,IAAAnF,SAAA,GAAAC,4BAAA,CACgBe,KAAe,CAAA;UAAAd,KAAA,CAAA;AAAA,QAAA,IAAA;UAAA,IAAAgC,KAAA,GAAAA,SAAAA,KAAAA,GAAE;AAAA,YAAA,IAAzBvC,IAAI,GAAAO,KAAA,CAAA/G,KAAA,CAAA;AACb,YAAA,IAAMpD,IAAI,GAAG4N,UAAU,CAAC9J,MAAM,CAAC6G,KAAK,CAAC,CAAA;AACrCA,YAAAA,KAAK,EAAE,CAAA;AAEP,YAAA,IAAM9K,EAAE,GAA4B;AAClCqE,cAAAA,IAAI,EAAE,aAAa;AACnBlE,cAAAA,IAAI,EAAJA,IAAI;AACJ4J,cAAAA,IAAI,EAAJA,IAAAA;aACD,CAAA;AACDwF,YAAAA,MAAM,CAAC7G,KAAK,CAAC1I,EAAE,CAAC,CAAA;AAChBiS,YAAAA,EAAE,GAAG7R,IAAI,CAAC2D,IAAI,CAACkO,EAAU,CAAC,CAAA;AAE1BuV,YAAAA,UAAU,CAACtlB,IAAI,CAAClC,EAAE,CAAC,CAAA;AACnB,YAAA,IAAI4I,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,EAAE;AACrB8T,cAAAA,aAAa,CAAC3b,IAAI,CAAC/B,IAAI,CAAC,CAAA;AACzB,aAAA,MAAM;cACL0d,aAAa,CAAC3b,IAAI,CAAAwG,KAAA,CAAlBmV,aAAa,EAAAlZ,kBAAA,CACRnB,KAAK,CAACiK,IAAI,CAAC7E,IAAI,CAACwC,KAAK,CAACrB,IAAI,CAAC,EAAE,UAAAzB,IAAA,EAAA;AAAA,gBAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,kBAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,gBAAA,OAAM7I,IAAI,CAAC8D,MAAM,CAACS,CAAC,CAAC,CAAA;AAAA,eAAA,CAAC,CAC3D,CAAA,CAAA;AACF,aAAA;WACF,CAAA;UApBD,KAAA0F,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA,EAAA2H,IAAA,GAAA;YAAA8B,KAAA,EAAA,CAAA;AAAA,WAAA;AAoBC,SAAA,CAAA,OAAA5B,GAAA,EAAA;UAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,SAAA,SAAA;AAAAN,UAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,SAAA;AACH,OAAC,EACD,YAAK;AACHgT,QAAAA,gBAAgB,CAACrO,MAAM,EAAEsO,aAAa,EAAE,UAAAnZ,CAAC,EAAG;UAC1C,IAAIK,OAAO,GAAgBL,CAAC,CAAA;AAC5B,UAAA,KAAA,IAAA+iB,EAAA,GAAA,CAAA,EAAAC,WAAA,GAAiBF,UAAU,EAAAC,EAAA,GAAAC,WAAA,CAAApmB,MAAA,EAAAmmB,EAAA,EAAE,EAAA;AAAxB,YAAA,IAAMznB,EAAE,GAAA0nB,WAAA,CAAAD,EAAA,CAAA,CAAA;AACX,YAAA,IAAIrnB,IAAI,CAAC+D,yBAAyB,CAACnE,EAAE,CAAC,EAAE;cACtC+E,OAAO,GAAG3E,IAAI,CAACN,SAAS,CAACiF,OAAO,EAAE/E,EAAE,CAAC,CAAA;cACrC,IAAI,CAAC+E,OAAO,EAAE;AACZ,gBAAA,OAAO,IAAI,CAAA;AACZ,eAAA;AACF,aAAA;AACF,WAAA;AACD,UAAA,OAAOA,OAAO,CAAA;AAChB,SAAC,CAAC,CAAA;AACJ,OAAC,CACF,CAAA;AACF,KAAA,MAAM;AAAA,MAAA,IAAAoG,UAAA,GAAAd,4BAAA,CACce,KAAe,CAAA;QAAAC,MAAA,CAAA;AAAA,MAAA,IAAA;QAAlC,KAAAF,UAAA,CAAAZ,CAAA,EAAAc,EAAAA,CAAAA,CAAAA,MAAA,GAAAF,UAAA,CAAAtI,CAAA,EAAA2H,EAAAA,IAAA,GAAoC;AAAA,UAAA,IAAzBT,KAAI,GAAAsB,MAAA,CAAA9H,KAAA,CAAA;AACb,UAAA,IAAMpD,KAAI,GAAG4N,UAAU,CAAC9J,MAAM,CAAC6G,KAAK,CAAC,CAAA;AACrCA,UAAAA,KAAK,EAAE,CAAA;UAEPyE,MAAM,CAAC7G,KAAK,CAAC;AAAErE,YAAAA,IAAI,EAAE,aAAa;AAAElE,YAAAA,IAAI,EAAJA,KAAI;AAAE4J,YAAAA,IAAI,EAAJA,KAAAA;AAAI,WAAE,CAAC,CAAA;AACjDkI,UAAAA,EAAE,GAAG7R,IAAI,CAAC2D,IAAI,CAACkO,EAAU,CAAC,CAAA;AAC3B,SAAA;AAAA,OAAA,CAAA,OAAAvH,GAAA,EAAA;QAAAS,UAAA,CAAAR,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAAS,QAAAA,UAAA,CAAAP,CAAA,EAAA,CAAA;AAAA,OAAA;AACF,KAAA;AAEDqH,IAAAA,EAAE,GAAG7R,IAAI,CAACmE,QAAQ,CAAC0N,EAAE,CAAC,CAAA;AAEtB,IAAA,IAAI0F,MAAM,EAAE;MACV,IAAMpX,KAAK,GAAG0M,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAEpC,MAAA,IAAI1R,KAAK,EAAE;AACT4c,QAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAEhP,KAAK,CAAC,CAAA;AACjC,OAAA;AACF,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;IC3JamW,SAAS,GAAgC,SAAzCA,SAASA,CACpBnH,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAAyN,WAAA,GAAkE5b,OAAO,CAAjE6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAAkC,aAAA,GAAqC9d,OAAO,CAA1C+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAApC,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AAC7D,IAAA,IAAMtI,KAAK,GAAKpT,OAAO,CAAjBoT,KAAK,CAAA;IAEX,IAAI,CAACvC,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjBA,MAAAA,KAAK,GAAGxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,GACvBxC,SAAS,CAACF,MAAM,EAAE0C,EAAE,CAAC,GACrB,UAAApP,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AACxD,KAAA;AAED,IAAA,IAAM8G,OAAO,GAAGsD,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAFA,EAAE;AAAEuC,MAAAA,KAAK,EAALA,KAAK;AAAE2K,MAAAA,IAAI,EAAJA,IAAI;AAAEpC,MAAAA,KAAK,EAALA,KAAAA;AAAK,KAAE,CAAC,CAAA;IAChE,IAAM5F,QAAQ,GAAG3T,KAAK,CAACiK,IAAI,CAAC9D,OAAO,EAAE,UAAArB,IAAA,EAAA;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,QAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,OAAMiE,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAE7K,CAAC,CAAC,CAAA;KAAC,CAAA,CAAA;AAE1E,IAAA,KAAA,IAAA+iB,EAAA,GAAA,CAAA,EAAAE,SAAA,GAAsBxQ,QAAQ,EAAAsQ,EAAA,GAAAE,SAAA,CAAArmB,MAAA,EAAAmmB,EAAA,EAAE,EAAA;AAA3B,MAAA,IAAMvQ,OAAO,GAAAyQ,SAAA,CAAAF,EAAA,CAAA,CAAA;AAChB,MAAA,IAAMtnB,IAAI,GAAG+W,OAAO,CAAC7W,KAAK,EAAG,CAAA;AAE7B,MAAA,IAAIF,IAAI,CAACmB,MAAM,GAAG,CAAC,EAAE;AACnB,QAAA,MAAM,IAAI0C,KAAK,CAAA,8BAAA,CAAAC,MAAA,CACkB9D,IAAI,+CAA8C,CAClF,CAAA;AACF,OAAA;AAED,MAAA,IAAMynB,eAAe,GAAG3a,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEnP,IAAI,CAACkE,MAAM,CAACnE,IAAI,CAAC,CAAC,CAAA;AAC9D,MAAA,IAAA0nB,gBAAA,GAAAniB,cAAA,CAA6BkiB,eAAsC,EAAA,CAAA,CAAA;AAA5DtjB,QAAAA,MAAM,GAAAujB,gBAAA,CAAA,CAAA,CAAA;AAAE9Z,QAAAA,UAAU,GAAA8Z,gBAAA,CAAA,CAAA,CAAA,CAAA;MACzB,IAAM/c,KAAK,GAAG3K,IAAI,CAACA,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,CAAA;AACnC,MAAA,IAAQA,MAAM,GAAKgD,MAAM,CAACwE,QAAQ,CAA1BxH,MAAM,CAAA;MAEd,IAAIA,MAAM,KAAK,CAAC,EAAE;AAChB,QAAA,IAAMwmB,MAAM,GAAG1nB,IAAI,CAAC2D,IAAI,CAACgK,UAAU,CAAC,CAAA;AACpCoP,QAAAA,UAAU,CAACrG,SAAS,CAACvH,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAE9R,IAAI;AAAEuN,UAAAA,EAAE,EAAEoa,MAAM;AAAE/K,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAC7DI,QAAAA,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAElE,UAAU;AAAEgP,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAC1D,OAAA,MAAM,IAAIjS,KAAK,KAAK,CAAC,EAAE;AACtBqS,QAAAA,UAAU,CAACrG,SAAS,CAACvH,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAE9R,IAAI;AAAEuN,UAAAA,EAAE,EAAEK,UAAU;AAAEgP,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAClE,OAAA,MAAM,IAAIjS,KAAK,KAAKxJ,MAAM,GAAG,CAAC,EAAE;AAC/B,QAAA,IAAMwmB,OAAM,GAAG1nB,IAAI,CAAC2D,IAAI,CAACgK,UAAU,CAAC,CAAA;AACpCoP,QAAAA,UAAU,CAACrG,SAAS,CAACvH,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAE9R,IAAI;AAAEuN,UAAAA,EAAE,EAAEoa,OAAM;AAAE/K,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAC9D,OAAA,MAAM;AACL,QAAA,IAAMgL,SAAS,GAAG3nB,IAAI,CAAC2D,IAAI,CAAC5D,IAAI,CAAC,CAAA;AACjC,QAAA,IAAM2nB,QAAM,GAAG1nB,IAAI,CAAC2D,IAAI,CAACgK,UAAU,CAAC,CAAA;AACpCoP,QAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAE8V,SAAS;AAAEhL,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AACvDI,QAAAA,UAAU,CAACrG,SAAS,CAACvH,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAE9R,IAAI;AAAEuN,UAAAA,EAAE,EAAEoa,QAAM;AAAE/K,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CAAA;AAC9D,OAAA;AACF,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;;;ACjDA,IAAMiL,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIzY,MAAc,EAAExF,IAAU,EAAa;AACjE,EAAA,OACEA,IAAI,KAAKwF,MAAM,KACd3G,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,IAChBkD,MAAM,CAACwJ,MAAM,CAAClH,MAAM,EAAExF,IAAI,CAAC,IAC1BA,IAAI,CAACjB,QAAQ,CAACxH,MAAM,KAAK,CAAC,IACzB0mB,kBAAkB,CAACzY,MAAM,EAAExF,IAAI,CAACjB,QAAQ,CAAC,CAAC,CAAC,CAAE,CAAC,CAAA;AAEtD,CAAC,CAAA;IAEY8N,UAAU,GAAiC,SAA3CA,UAAUA,CACrBrH,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAMiF,KAAK,GAA4BpT,OAAO,CAAxCoT,KAAK;MAAAwI,WAAA,GAA4B5b,OAAO,CAAjC6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA,CAAA;AAClC,IAAA,IAAAqH,gBAAA,GAA4DjjB,OAAO,CAA3DkjB,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAvH,cAAA,GAAqC1b,OAAO,CAA1C2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;MAAAoC,aAAA,GAAsB9d,OAAO,CAA3B+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA,CAAA;IAEvD,IAAI,CAACjN,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjB,MAAA,IAAIxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;QACvB,IAAAsN,cAAA,GAAiBtS,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAE0C,EAAE,CAAC;UAAAuN,eAAA,GAAA9Z,cAAA,CAAA6Z,cAAA,EAAA,CAAA,CAAA;AAAnCjb,UAAAA,MAAM,GAAAkb,eAAA,CAAA,CAAA,CAAA,CAAA;QACbhL,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,UAAA,OAAIyB,MAAM,CAACwE,QAAQ,CAAC/C,QAAQ,CAAClD,CAAC,CAAC,CAAA;AAAA,SAAA,CAAA;AACzC,OAAA,MAAM;QACL2R,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,UAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,SAAA,CAAA;AAC5D,OAAA;AACF,KAAA;IAED,IAAI,CAACyhB,OAAO,IAAIte,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;MACpCA,EAAE,GAAGhF,MAAM,CAACkL,WAAW,CAAC5I,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;AAC/C,KAAA;AAED,IAAA,IAAI/W,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;AACxB,MAAA,IAAIvR,KAAK,CAACkH,WAAW,CAACqK,EAAE,CAAC,EAAE;QACzBA,EAAE,GAAGA,EAAE,CAAC7M,MAAM,CAAA;AACf,OAAA,MAAM;AACL,QAAA,IAAAI,YAAA,GAAgB9E,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;UAAAxM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAtBD,UAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;QACZ,IAAM2R,QAAQ,GAAGnK,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAEhK,GAAG,CAAC,CAAA;QAC7C4X,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAFA,EAAAA;AAAI,SAAA,CAAC,CAAA;AACjCA,QAAAA,EAAE,GAAGmF,QAAQ,CAAC/W,KAAK,EAAG,CAAA;AAEtB,QAAA,IAAIe,OAAO,CAAC6Q,EAAE,IAAI,IAAI,EAAE;AACtBkL,UAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAC9B,SAAA;AACF,OAAA;AACF,KAAA;AAED,IAAA,IAAA0O,aAAA,GAAkB1T,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAFA,EAAE;AAAEuC,QAAAA,KAAK,EAALA,KAAK;AAAEuI,QAAAA,KAAK,EAALA,KAAK;AAAEoC,QAAAA,IAAI,EAAJA,IAAAA;AAAI,OAAE,CAAC;MAAAyB,cAAA,GAAAlb,cAAA,CAAAib,aAAA,EAAA,CAAA,CAAA;AAA3D1gB,MAAAA,OAAO,GAAA2gB,cAAA,CAAA,CAAA,CAAA,CAAA;AACd,IAAA,IAAMzE,IAAI,GAAGlP,MAAM,CAAC1I,QAAQ,CAACgL,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAFA,EAAE;AAAEuC,MAAAA,KAAK,EAALA,KAAK;AAAEuI,MAAAA,KAAK,EAALA,KAAK;AAAEoC,MAAAA,IAAI,EAAJA,IAAAA;AAAI,KAAE,CAAC,CAAA;AAEhE,IAAA,IAAI,CAAClf,OAAO,IAAI,CAACkc,IAAI,EAAE;AACrB,MAAA,OAAA;AACD,KAAA;AAED,IAAA,IAAA8L,QAAA,GAAAviB,cAAA,CAAqBzF,OAAO,EAAA,CAAA,CAAA;AAArB8J,MAAAA,IAAI,GAAAke,QAAA,CAAA,CAAA,CAAA;AAAE9nB,MAAAA,IAAI,GAAA8nB,QAAA,CAAA,CAAA,CAAA,CAAA;AACjB,IAAA,IAAA9G,KAAA,GAAAzb,cAAA,CAA6ByW,IAAI,EAAA,CAAA,CAAA;AAA1BpD,MAAAA,QAAQ,GAAAoI,KAAA,CAAA,CAAA,CAAA;AAAElF,MAAAA,QAAQ,GAAAkF,KAAA,CAAA,CAAA,CAAA,CAAA;IAEzB,IAAIhhB,IAAI,CAACmB,MAAM,KAAK,CAAC,IAAI2a,QAAQ,CAAC3a,MAAM,KAAK,CAAC,EAAE;AAC9C,MAAA,OAAA;AACD,KAAA;AAED,IAAA,IAAMyD,OAAO,GAAG3E,IAAI,CAAC2D,IAAI,CAACkY,QAAQ,CAAC,CAAA;IACnC,IAAMiM,UAAU,GAAG9nB,IAAI,CAACyB,MAAM,CAAC1B,IAAI,EAAE8b,QAAQ,CAAC,CAAA;IAC9C,IAAMkM,iBAAiB,GAAG/nB,IAAI,CAACsD,SAAS,CAACvD,IAAI,EAAE8b,QAAQ,CAAC,CAAA;IACxD,IAAMta,MAAM,GAAG6B,KAAK,CAACiK,IAAI,CAACR,MAAM,CAACtL,MAAM,CAAC4N,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAE9R,IAAAA;KAAM,CAAC,EAAE,UAAAmI,IAAA,EAAA;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAEzF,QAAAA,CAAC,GAAAmG,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,OAAMnG,CAAC,CAAA;AAAA,KAAA,CAAC,CACvEjB,KAAK,CAACsmB,UAAU,CAAC5mB,MAAM,CAAC,CACxBM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;AAEf;AACA;AACA,IAAA,IAAMwmB,aAAa,GAAGnb,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;AACzC0C,MAAAA,EAAE,EAAE9R,IAAI;AACRgf,MAAAA,IAAI,EAAE,SAAS;MACf3K,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAIlB,MAAM,CAACoE,QAAQ,CAAClD,CAAC,CAAC,IAAImlB,kBAAkB,CAACzY,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA;AAChE,KAAA,CAAC,CAAA;AAEF,IAAA,IAAMwlB,QAAQ,GAAGD,aAAa,IAAInb,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAE6Y,aAAa,CAAC,CAAC,CAAC,CAAC,CAAA;AAC1E,IAAA,IAAIvc,UAAU,CAAA;AACd,IAAA,IAAIhH,QAAQ,CAAA;AAEZ;AACA;AACA,IAAA,IAAI+D,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,IAAInB,IAAI,CAACqB,MAAM,CAAC8O,QAAQ,CAAC,EAAE;AAC9C,MAA0BhP,IAAI,CAAtB6B,IAAI,CAAA;AAAK5E,YAAAA,IAAI,GAAAC,wBAAA,CAAK8C,IAAI,EAAA7C,SAAA,EAAA;AAC9BrC,MAAAA,QAAQ,GAAGkU,QAAQ,CAACnN,IAAI,CAACtK,MAAM,CAAA;AAC/BuK,MAAAA,UAAU,GAAG7E,IAAqB,CAAA;AACnC,KAAA,MAAM,IAAI4B,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,IAAInB,IAAI,CAACP,SAAS,CAAC0Q,QAAQ,CAAC,EAAE;AAC3D,MAA8BhP,IAAI,CAA1BjB,QAAQ,CAAA;AAAK9B,YAAAA,KAAI,GAAAC,wBAAA,CAAK8C,IAAI,EAAA+B,UAAA,EAAA;AAClCjH,MAAAA,QAAQ,GAAGkU,QAAQ,CAACjQ,QAAQ,CAACxH,MAAM,CAAA;AACnCuK,MAAAA,UAAU,GAAG7E,KAAwB,CAAA;AACtC,KAAA,MAAM;MACL,MAAM,IAAIhD,KAAK,CAAA,iCAAA,CAAAC,MAAA,CACqB9D,IAAI,EAAA8D,+DAAAA,CAAAA,CAAAA,MAAA,CAAgEiG,QAAQ,CAACC,SAAS,CACtHJ,IAAI,CACL,EAAA9F,GAAAA,CAAAA,CAAAA,MAAA,CAAIiG,QAAQ,CAACC,SAAS,CAAC4O,QAAQ,CAAC,CAAE,CACpC,CAAA;AACF,KAAA;AAED;AACA;IACA,IAAI,CAACoP,iBAAiB,EAAE;AACtBhL,MAAAA,UAAU,CAACrG,SAAS,CAACvH,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAE9R,IAAI;AAAEuN,QAAAA,EAAE,EAAE3I,OAAO;AAAEgY,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;AAC/D,KAAA;AAED;AACA;AACA,IAAA,IAAIsL,QAAQ,EAAE;AACZlL,MAAAA,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;QAAE0C,EAAE,EAAEoW,QAAQ,CAACpoB,OAAQ;AAAE8c,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;AACjE,KAAA;IAED,IAAI9P,MAAM,CAAC+K,8BAA8B,CAACzI,MAAM,EAAE4M,IAAI,EAAElc,OAAO,CAAC,EAAE;AAChEkd,MAAAA,UAAU,CAACzF,WAAW,CAACnI,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAEgK,QAAQ;AAAEc,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;AACxD,KAAA,MAAM;MACLxN,MAAM,CAAC7G,KAAK,CAAC;AACXrE,QAAAA,IAAI,EAAE,YAAY;AAClBlE,QAAAA,IAAI,EAAE4E,OAAO;AACbF,QAAAA,QAAQ,EAARA,QAAQ;AACRgH,QAAAA,UAAU,EAAVA,UAAAA;AACD,OAAA,CAAC,CAAA;AACH,KAAA;AAED,IAAA,IAAIwc,QAAQ,EAAE;MACZA,QAAQ,CAAChoB,KAAK,EAAE,CAAA;AACjB,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;ACrIO,IAAMyW,SAAS,GAAgC,SAAzCA,SAASA,CAAiCvH,MAAM,EAAEnO,OAAO,EAAI;AACxE6L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IACE7B,EAAE,GAIAtM,OAAO,CAJTsM,EAAE;MAAAsP,WAAA,GAIA5b,OAAO,CAHT6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAAkC,aAAA,GAGnB9d,OAAO,CAFT+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAApC,cAAA,GAEb1b,OAAO,CADT2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AAEf,IAAA,IAAMtI,KAAK,GAAKpT,OAAO,CAAjBoT,KAAK,CAAA;IAEX,IAAI,CAACvC,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjBA,MAAAA,KAAK,GAAGxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,GACvBxC,SAAS,CAACF,MAAM,EAAE0C,EAAE,CAAC,GACrB,UAAApP,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AACxD,KAAA;IAED,IAAMylB,KAAK,GAAGrb,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAE7B,EAAE,CAAC,CAAA;AACxC,IAAA,IAAM6a,OAAO,GAAGtb,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAFA,EAAE;AAAEuC,MAAAA,KAAK,EAALA,KAAK;AAAE2K,MAAAA,IAAI,EAAJA,IAAI;AAAEpC,MAAAA,KAAK,EAALA,KAAAA;AAAK,KAAE,CAAC,CAAA;IAChE,IAAM5F,QAAQ,GAAG3T,KAAK,CAACiK,IAAI,CAAC8a,OAAO,EAAE,UAAAjgB,IAAA,EAAA;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,QAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,OAAMiE,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAE7K,CAAC,CAAC,CAAA;KAAC,CAAA,CAAA;AAE1E,IAAA,KAAA,IAAA+iB,EAAA,GAAA,CAAA,EAAAE,SAAA,GAAsBxQ,QAAQ,EAAAsQ,EAAA,GAAAE,SAAA,CAAArmB,MAAA,EAAAmmB,EAAA,EAAE,EAAA;AAA3B,MAAA,IAAMvQ,OAAO,GAAAyQ,SAAA,CAAAF,EAAA,CAAA,CAAA;AAChB,MAAA,IAAMtnB,IAAI,GAAG+W,OAAO,CAAC7W,KAAK,EAAG,CAAA;AAC7B,MAAA,IAAM0E,OAAO,GAAGujB,KAAK,CAACroB,OAAQ,CAAA;AAE9B,MAAA,IAAIE,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;QACrBiO,MAAM,CAAC7G,KAAK,CAAC;AAAErE,UAAAA,IAAI,EAAE,WAAW;AAAElE,UAAAA,IAAI,EAAJA,IAAI;AAAE4E,UAAAA,OAAO,EAAPA,OAAAA;AAAO,SAAE,CAAC,CAAA;AACnD,OAAA;MAED,IACEujB,KAAK,CAACroB,OAAO,IACbG,IAAI,CAACsD,SAAS,CAACqB,OAAO,EAAE5E,IAAI,CAAC,IAC7BC,IAAI,CAAC2C,OAAO,CAACgC,OAAO,EAAE5E,IAAI,CAAC,EAC3B;AACA;AACA;AACA;QACAmoB,KAAK,CAACroB,OAAO,GAAGG,IAAI,CAAC2D,IAAI,CAACukB,KAAK,CAACroB,OAAO,CAAC,CAAA;AACzC,OAAA;AACF,KAAA;IAEDqoB,KAAK,CAACjoB,KAAK,EAAE,CAAA;AACf,GAAC,CAAC,CAAA;AACJ;;IC/CaqX,WAAW,GAAkC,SAA7CA,WAAWA,CACtBnI,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAA8U,gBAAA,GAA4DjjB,OAAO,CAA3DkjB,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAvH,cAAA,GAAqC1b,OAAO,CAA1C2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;MAAAoC,aAAA,GAAsB9d,OAAO,CAA3B+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA,CAAA;AACvD,IAAA,IAAAlC,WAAA,GAAuC5b,OAAO,CAAxC6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAExI,KAAK,GAAKpT,OAAO,CAAjBoT,KAAK,CAAA;IAElC,IAAI,CAACvC,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjBA,MAAAA,KAAK,GAAGxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,GACvBxC,SAAS,CAACF,MAAM,EAAE0C,EAAE,CAAC,GACrB,UAAApP,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AACxD,KAAA;IAED,IAAI,CAACyhB,OAAO,IAAIte,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;MACpCA,EAAE,GAAGhF,MAAM,CAACkL,WAAW,CAAC5I,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;AAC/C,KAAA;AAED,IAAA,IAAMyL,MAAM,GAAGvb,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAFA,EAAE;AAAEuC,MAAAA,KAAK,EAALA,KAAK;AAAE2K,MAAAA,IAAI,EAAJA,IAAI;AAAEpC,MAAAA,KAAK,EAALA,KAAAA;AAAK,KAAE,CAAC,CAAA;IAC/D,IAAM5F,QAAQ,GAAG3T,KAAK,CAACiK,IAAI,CAAC+a,MAAM,EAAE,UAAAlgB,IAAA,EAAA;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,QAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,OAAMiE,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAE7K,CAAC,CAAC,CAAA;KAAC,CAAA,CAAA;AAEzE,IAAA,KAAA,IAAA+iB,EAAA,GAAA,CAAA,EAAAE,SAAA,GAAsBxQ,QAAQ,EAAAsQ,EAAA,GAAAE,SAAA,CAAArmB,MAAA,EAAAmmB,EAAA,EAAE,EAAA;AAA3B,MAAA,IAAMvQ,OAAO,GAAAyQ,SAAA,CAAAF,EAAA,CAAA,CAAA;AAChB,MAAA,IAAMtnB,IAAI,GAAG+W,OAAO,CAAC7W,KAAK,EAAG,CAAA;AAE7B,MAAA,IAAIF,IAAI,EAAE;QACR,IAAAuP,YAAA,GAAezC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEpP,IAAI,CAAC;UAAAwP,aAAA,GAAAjK,cAAA,CAAAgK,YAAA,EAAA,CAAA,CAAA;AAAjC3F,UAAAA,IAAI,GAAA4F,aAAA,CAAA,CAAA,CAAA,CAAA;QACXJ,MAAM,CAAC7G,KAAK,CAAC;AAAErE,UAAAA,IAAI,EAAE,aAAa;AAAElE,UAAAA,IAAI,EAAJA,IAAI;AAAE4J,UAAAA,IAAI,EAAJA,IAAAA;AAAI,SAAE,CAAC,CAAA;AAClD,OAAA;AACF,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;;;;AC/BO,IAAM6N,QAAQ,GAA+B,SAAvCA,QAAQA,CACnBrI,MAAM,EACNhG,KAAoB,EAElB;AAAA,EAAA,IADFnI,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAMiF,KAAK,GAA4CpT,OAAO,CAAxDoT,KAAK;MAAAwI,WAAA,GAA4C5b,OAAO,CAAjD6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAE7a,OAAO,GAAYf,OAAO,CAA1Be,OAAO;MAAEgY,KAAK,GAAK/Y,OAAO,CAAjB+Y,KAAK,CAAA;AAClD,IAAA,IAAAkK,gBAAA,GAKIjjB,OAAO,CAJTkjB,OAAO;AAAPA,MAAAA,OAAO,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;MAAAnF,aAAA,GAIb9d,OAAO,CAHT+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAAuJ,cAAA,GAGbrnB,OAAO,CAFT6e,KAAK;AAALA,MAAAA,KAAK,GAAAwI,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;MAAA3L,cAAA,GAEX1b,OAAO,CADT2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;IAGf,IAAI,CAAC7K,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjBA,MAAAA,KAAK,GAAGxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,GACvBxC,SAAS,CAACF,MAAM,EAAE0C,EAAE,CAAC,GACrB,UAAApP,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AACxD,KAAA;IAED,IAAI,CAACyhB,OAAO,IAAIte,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;MACpCA,EAAE,GAAGhF,MAAM,CAACkL,WAAW,CAAC5I,MAAM,EAAE0C,EAAE,EAAE;AAAE8K,QAAAA,KAAK,EAALA,KAAAA;AAAK,OAAE,CAAC,CAAA;AAC/C,KAAA;IAED,IAAIkD,KAAK,IAAIja,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;MACjC,IACEvR,KAAK,CAACkH,WAAW,CAACqK,EAAE,CAAC,IACrBhF,MAAM,CAACG,IAAI,CAACmC,MAAM,EAAE0C,EAAE,CAAC7M,MAAM,CAAC,CAAC,CAAC,CAAC,CAACwG,IAAI,CAACtK,MAAM,GAAG,CAAC,EACjD;AACA;AACA;AACA,QAAA,OAAA;AACD,OAAA;MACD,IAAMiW,QAAQ,GAAGtK,MAAM,CAACsK,QAAQ,CAAChI,MAAM,EAAE0C,EAAE,EAAE;AAAE/R,QAAAA,QAAQ,EAAE,QAAA;AAAQ,OAAE,CAAC,CAAA;AACpE,MAAA,IAAAsF,YAAA,GAAqB9E,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;QAAAxM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAA7BoB,QAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,QAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;MACjB,IAAMijB,SAAS,GAAGvJ,IAAI,KAAK,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAA;AAC1D,MAAA,IAAMwJ,cAAc,GAAG1b,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAEhK,GAAG,EAAEA,GAAG,CAACpF,IAAI,CAAC,CAAA;AAC1Dgd,MAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAC5B0C,QAAAA,EAAE,EAAE1M,GAAG;AACPiP,QAAAA,KAAK,EAALA,KAAK;AACL2K,QAAAA,IAAI,EAAEuJ,SAAS;AACf3L,QAAAA,KAAK,EAALA,KAAK;AACL0D,QAAAA,MAAM,EAAE,CAACkI,cAAAA;AACV,OAAA,CAAC,CAAA;AACF,MAAA,IAAMC,kBAAkB,GAAG3b,MAAM,CAACuJ,OAAO,CAACjH,MAAM,EAAE3I,KAAK,EAAEA,KAAK,CAACzG,IAAI,CAAC,CAAA;AACpEgd,MAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAC5B0C,QAAAA,EAAE,EAAErL,KAAK;AACT4N,QAAAA,KAAK,EAALA,KAAK;AACL2K,QAAAA,IAAI,EAAEuJ,SAAS;AACf3L,QAAAA,KAAK,EAALA,KAAK;AACL0D,QAAAA,MAAM,EAAE,CAACmI,kBAAAA;AACV,OAAA,CAAC,CAAA;AACF3W,MAAAA,EAAE,GAAGsF,QAAQ,CAAClX,KAAK,EAAG,CAAA;AAEtB,MAAA,IAAIe,OAAO,CAAC6Q,EAAE,IAAI,IAAI,EAAE;AACtBkL,QAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAC9B,OAAA;AACF,KAAA;IAED,IAAI,CAAC9P,OAAO,EAAE;AACZA,MAAAA,OAAO,GAAG,SAAAA,OAAC0mB,CAAAA,IAAI,EAAEC,QAAQ,EAAA;QAAA,OAAKD,IAAI,KAAKC,QAAQ,CAAA;AAAA,OAAA,CAAA;AAChD,KAAA;IAAA,IAAA1e,SAAA,GAAAC,4BAAA,CAE0B4C,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAC9C0C,QAAAA,EAAE,EAAFA,EAAE;AACFuC,QAAAA,KAAK,EAALA,KAAK;AACL2K,QAAAA,IAAI,EAAJA,IAAI;AACJpC,QAAAA,KAAK,EAALA,KAAAA;AACD,OAAA,CAAC,CAAA;MAAAzS,KAAA,CAAA;AAAA,IAAA,IAAA;MALF,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAKI;AAAA,QAAA,IAAA+R,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AALQwG,UAAAA,IAAI,GAAAwS,WAAA,CAAA,CAAA,CAAA;AAAEpc,UAAAA,IAAI,GAAAoc,WAAA,CAAA,CAAA,CAAA,CAAA;QAMpB,IAAM1Q,UAAU,GAAkB,EAAE,CAAA;AACpC;QACA,IAAM8C,aAAa,GAA+C,EAAE,CAAA;AAEpE;AACA,QAAA,IAAIxO,IAAI,CAACmB,MAAM,KAAK,CAAC,EAAE;AACrB,UAAA,SAAA;AACD,SAAA;QAED,IAAIynB,UAAU,GAAG,KAAK,CAAA;AAEtB,QAAA,KAAK,IAAM5B,CAAC,IAAI5d,KAAK,EAAE;AACrB,UAAA,IAAI4d,CAAC,KAAK,UAAU,IAAIA,CAAC,KAAK,MAAM,EAAE;AACpC,YAAA,SAAA;AACD,WAAA;AAED,UAAA,IAAIhlB,OAAO,CAACoH,KAAK,CAAa4d,CAAC,CAAC,EAAEpd,IAAI,CAAaod,CAAC,CAAC,CAAC,EAAE;AACtD4B,YAAAA,UAAU,GAAG,IAAI,CAAA;AACjB;AACA,YAAA,IAAIhf,IAAI,CAAC+P,cAAc,CAACqN,CAAC,CAAC,EACxBtb,UAAU,CAAasb,CAAC,CAAC,GAAGpd,IAAI,CAAaod,CAAC,CAAC,CAAA;AACjD;AACA,YAAA,IAAIhN,KAAK,EAAE;cACT,IAAI5Q,KAAK,CAAa4d,CAAC,CAAC,IAAI,IAAI,EAC9BxY,aAAa,CAAawY,CAAC,CAAC,GAAGhN,KAAK,CAClCpQ,IAAI,CAAaod,CAAC,CAAC,EACnB5d,KAAK,CAAa4d,CAAC,CAAC,CACrB,CAAA;AACJ,aAAA,MAAM;AACL,cAAA,IAAI5d,KAAK,CAAa4d,CAAC,CAAC,IAAI,IAAI,EAC9BxY,aAAa,CAAawY,CAAC,CAAC,GAAG5d,KAAK,CAAa4d,CAAC,CAAC,CAAA;AACtD,aAAA;AACF,WAAA;AACF,SAAA;AAED,QAAA,IAAI4B,UAAU,EAAE;UACdxZ,MAAM,CAAC7G,KAAK,CAAC;AACXrE,YAAAA,IAAI,EAAE,UAAU;AAChBlE,YAAAA,IAAI,EAAJA,IAAI;AACJ0L,YAAAA,UAAU,EAAVA,UAAU;AACV8C,YAAAA,aAAa,EAAbA,aAAAA;AACD,WAAA,CAAC,CAAA;AACH,SAAA;AACF,OAAA;AAAA,KAAA,CAAA,OAAAjE,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;;;;ACpHA;;AAEG;AACH,IAAMoe,WAAW,GAAG,SAAdA,WAAWA,CAAIzZ,MAAc,EAAEpK,KAAY,EAAkB;AACjE,EAAA,IAAIzE,KAAK,CAACkH,WAAW,CAACzC,KAAK,CAAC,EAAE;IAC5B,OAAOA,KAAK,CAACC,MAAM,CAAA;AACpB,GAAA,MAAM;AACL,IAAA,IAAAI,YAAA,GAAgB9E,KAAK,CAACwE,KAAK,CAACC,KAAK,CAAC;MAAAM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAAzBD,MAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;IACZ,IAAM2R,QAAQ,GAAGnK,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAEhK,GAAG,CAAC,CAAA;IAC7C4X,UAAU,CAAA,QAAA,CAAO,CAAC5N,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAE9M,KAAAA;AAAO,KAAA,CAAC,CAAA;AACxC,IAAA,OAAOiS,QAAQ,CAAC/W,KAAK,EAAE,CAAA;AACxB,GAAA;AACH,CAAC,CAAA;IAEY6X,UAAU,GAAiC,SAA3CA,UAAUA,CACrB3I,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAA2P,aAAA,GAA2C9d,OAAO,CAA1C+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAApC,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACtC,IAAA,IAAMtI,KAAK,GAAwDpT,OAAO,CAApEoT,KAAK;MAAAwI,WAAA,GAAwD5b,OAAO,CAA7D6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAAiM,eAAA,GAAiC7nB,OAAO,CAAtC8nB,MAAM;AAANA,MAAAA,MAAM,GAAAD,eAAA,KAAG,KAAA,CAAA,GAAA,CAAC,GAAAA,eAAA;MAAAE,eAAA,GAAqB/nB,OAAO,CAA1Bqf,MAAM;AAANA,MAAAA,MAAM,GAAA0I,eAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,eAAA,CAAA;IAE9D,IAAI,CAAClX,EAAE,EAAE,OAAA;IAET,IAAIuC,KAAK,IAAI,IAAI,EAAE;MACjBA,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AAC5D,KAAA;AAED,IAAA,IAAImD,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;AACxBA,MAAAA,EAAE,GAAG+W,WAAW,CAACzZ,MAAM,EAAE0C,EAAE,CAAC,CAAA;MAC5B,IAAI,CAACA,EAAE,EAAE,OAAA;AACV,KAAA;AAED;AACA;AACA,IAAA,IAAIjM,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;MACvB,IAAM9R,IAAI,GAAG8R,EAAE,CAAA;MACf,IAAM1R,KAAK,GAAG0M,MAAM,CAAC1M,KAAK,CAACgP,MAAM,EAAEpP,IAAI,CAAC,CAAA;MACxC,IAAAof,cAAA,GAAiBtS,MAAM,CAAC3I,MAAM,CAACiL,MAAM,EAAEpP,IAAI,CAAC;QAAAqf,eAAA,GAAA9Z,cAAA,CAAA6Z,cAAA,EAAA,CAAA,CAAA;AAArCjb,QAAAA,MAAM,GAAAkb,eAAA,CAAA,CAAA,CAAA,CAAA;MACbhL,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;QAAA,OAAIA,CAAC,KAAKyB,MAAM,CAAA;AAAA,OAAA,CAAA;MACzB4kB,MAAM,GAAG3oB,KAAK,CAACJ,IAAI,CAACmB,MAAM,GAAGnB,IAAI,CAACmB,MAAM,GAAG,CAAC,CAAA;AAC5C2Q,MAAAA,EAAE,GAAG1R,KAAK,CAAA;AACVkgB,MAAAA,MAAM,GAAG,IAAI,CAAA;AACd,KAAA;IAED,IAAM2I,SAAS,GAAGnc,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAE0C,EAAE,EAAE;AAC5C/R,MAAAA,QAAQ,EAAE,UAAA;AACX,KAAA,CAAC,CAAA;AACF,IAAA,IAAImpB,QAA8B,CAAA;IAClC,IAAI;AACF,MAAA,IAAA1I,aAAA,GAAkB1T,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAFA,EAAE;AAAEuC,UAAAA,KAAK,EAALA,KAAK;AAAE2K,UAAAA,IAAI,EAAJA,IAAI;AAAEpC,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC;QAAA6D,cAAA,GAAAlb,cAAA,CAAAib,aAAA,EAAA,CAAA,CAAA;AAA3D2I,QAAAA,OAAO,GAAA1I,cAAA,CAAA,CAAA,CAAA,CAAA;MAEd,IAAI,CAAC0I,OAAO,EAAE;AACZ,QAAA,OAAA;AACD,OAAA;AAED,MAAA,IAAMC,SAAS,GAAGtc,MAAM,CAAK,MAAA,CAAA,CAACsC,MAAM,EAAE;AAAE0C,QAAAA,EAAE,EAAFA,EAAE;AAAEkN,QAAAA,IAAI,EAAE,SAAA;AAAS,OAAE,CAAC,CAAA;MAC9D,IAAMqK,KAAK,GAAG,CAAC,CAAA;AAEf,MAAA,IAAI,CAACzM,KAAK,IAAIwM,SAAS,EAAE;AACvB,QAAA,IAAAE,UAAA,GAAA/jB,cAAA,CAA6B6jB,SAAS,EAAA,CAAA,CAAA;AAA/BG,UAAAA,QAAQ,GAAAD,UAAA,CAAA,CAAA,CAAA;AAAEhF,UAAAA,QAAQ,GAAAgF,UAAA,CAAA,CAAA,CAAA,CAAA;AAEzB,QAAA,IAAIla,MAAM,CAAC8G,QAAQ,CAACqT,QAAQ,CAAC,EAAE;UAC7B,IAAI9U,KAAK,GAAG3H,MAAM,CAAC2H,KAAK,CAACrF,MAAM,EAAEkV,QAAQ,CAAC,CAAA;UAE1C,IAAI,CAAC7P,KAAK,EAAE;AACV,YAAA,IAAMhJ,IAAI,GAAG;AAAEA,cAAAA,IAAI,EAAE,EAAA;aAAI,CAAA;AACzB,YAAA,IAAM+d,SAAS,GAAGvpB,IAAI,CAAC2D,IAAI,CAAC0gB,QAAQ,CAAC,CAAA;AACrCtH,YAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAE3D,IAAI,EAAE;AAAEqG,cAAAA,EAAE,EAAE0X,SAAS;AAAE5M,cAAAA,KAAK,EAALA,KAAAA;AAAK,aAAE,CAAC,CAAA;YAC9DnI,KAAK,GAAG3H,MAAM,CAAC1M,KAAK,CAACgP,MAAM,EAAEoa,SAAS,CAAE,CAAA;AACzC,WAAA;AAED1X,UAAAA,EAAE,GAAG2C,KAAK,CAAA;AACV6L,UAAAA,MAAM,GAAG,IAAI,CAAA;AACd,SAAA;QAED,IAAMmJ,aAAa,GAAG3X,EAAE,CAAC9R,IAAI,CAACmB,MAAM,GAAGmjB,QAAQ,CAACnjB,MAAM,CAAA;QACtD4nB,MAAM,GAAGU,aAAa,GAAG,CAAC,CAAA;AAC1BnJ,QAAAA,MAAM,GAAG,IAAI,CAAA;AACd,OAAA;MAED4I,QAAQ,GAAGpc,MAAM,CAACmK,QAAQ,CAAC7H,MAAM,EAAE0C,EAAE,CAAC,CAAA;MACtC,IAAMyQ,KAAK,GAAGzQ,EAAE,CAAC9R,IAAI,CAACmB,MAAM,GAAG4nB,MAAM,CAAA;AACrC,MAAA,IAAAW,QAAA,GAAAnkB,cAAA,CAAwB4jB,OAAO,EAAA,CAAA,CAAA;AAAtBQ,QAAAA,WAAW,GAAAD,QAAA,CAAA,CAAA,CAAA,CAAA;MACpB,IAAME,UAAU,GAAG9X,EAAE,CAAC9R,IAAI,CAACyB,KAAK,CAAC,CAAC,EAAE8gB,KAAK,CAAC,CAAA;AAC1C,MAAA,IAAI7d,QAAQ,GAAGqkB,MAAM,KAAK,CAAC,GAAGjX,EAAE,CAACrF,MAAM,GAAGqF,EAAE,CAAC9R,IAAI,CAACuiB,KAAK,CAAC,GAAG8G,KAAK,CAAA;MAAA,IAAApf,SAAA,GAAAC,4BAAA,CAErC4C,MAAM,CAACtL,MAAM,CAAC4N,MAAM,EAAE;AAC/C0C,UAAAA,EAAE,EAAE8X,UAAU;AACdtoB,UAAAA,OAAO,EAAE,IAAI;AACbsb,UAAAA,KAAK,EAALA,KAAAA;AACD,SAAA,CAAC,CAAA;QAAAzS,KAAA,CAAA;AAAA,MAAA,IAAA;QAJF,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAII;AAAA,UAAA,IAAA+R,WAAA,GAAA7W,cAAA,CAAA4E,KAAA,CAAA/G,KAAA,EAAA,CAAA,CAAA;AAJQwG,YAAAA,IAAI,GAAAwS,WAAA,CAAA,CAAA,CAAA;AAAEpc,YAAAA,KAAI,GAAAoc,WAAA,CAAA,CAAA,CAAA,CAAA;UAKpB,IAAI0D,KAAK,GAAG,KAAK,CAAA;AAEjB,UAAA,IACE9f,KAAI,CAACmB,MAAM,GAAGwoB,WAAW,CAACxoB,MAAM,IAChCnB,KAAI,CAACmB,MAAM,KAAK,CAAC,IAChB,CAACyb,KAAK,IAAInU,IAAI,CAACP,SAAS,CAAC0B,IAAI,CAAC,IAAIkD,MAAM,CAACwJ,MAAM,CAAClH,MAAM,EAAExF,IAAI,CAAE,EAC/D;AACA,YAAA,MAAA;AACD,WAAA;AAED,UAAA,IAAMxJ,OAAK,GAAG6oB,SAAS,CAACnpB,OAAQ,CAAA;UAChC,IAAMmW,KAAK,GAAGnJ,MAAM,CAACmJ,KAAK,CAAC7G,MAAM,EAAEhP,OAAK,EAAEJ,KAAI,CAAC,CAAA;AAE/C,UAAA,IAAIsgB,MAAM,IAAI,CAAC2I,SAAS,IAAI,CAACnc,MAAM,CAACgJ,MAAM,CAAC1G,MAAM,EAAEhP,OAAK,EAAEJ,KAAI,CAAC,EAAE;AAC/D8f,YAAAA,KAAK,GAAG,IAAI,CAAA;AACZ,YAAA,IAAMpU,UAAU,GAAGjD,IAAI,CAAC+C,YAAY,CAAC5B,IAAI,CAAC,CAAA;YAC1CwF,MAAM,CAAC7G,KAAK,CAAC;AACXrE,cAAAA,IAAI,EAAE,YAAY;AAClBlE,cAAAA,IAAI,EAAJA,KAAI;AACJ0E,cAAAA,QAAQ,EAARA,QAAQ;AACRgH,cAAAA,UAAU,EAAVA,UAAAA;AACD,aAAA,CAAC,CAAA;AACH,WAAA;AAEDhH,UAAAA,QAAQ,GAAG1E,KAAI,CAACA,KAAI,CAACmB,MAAM,GAAG,CAAC,CAAC,IAAI2e,KAAK,IAAI7J,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AAC5D,SAAA;AAAA,OAAA,CAAA,OAAA1L,GAAA,EAAA;QAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,OAAA,SAAA;AAAAN,QAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,OAAA;AAED,MAAA,IAAIxJ,OAAO,CAAC6Q,EAAE,IAAI,IAAI,EAAE;AACtB,QAAA,IAAM1R,MAAK,GAAG8oB,QAAQ,CAACppB,OAAO,IAAIgN,MAAM,CAAC1H,GAAG,CAACgK,MAAM,EAAE,EAAE,CAAC,CAAA;AACxD4N,QAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAEhP,MAAK,CAAC,CAAA;AACjC,OAAA;AACF,KAAA,SAAS;AAAA,MAAA,IAAAypB,SAAA,CAAA;MACRZ,SAAS,CAAC/oB,KAAK,EAAE,CAAA;MACjB,CAAA2pB,SAAA,GAAAX,QAAQ,MAAAW,IAAAA,IAAAA,SAAA,eAARA,SAAA,CAAU3pB,KAAK,EAAE,CAAA;AAClB,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;;;;ACvIO,IAAM+X,UAAU,GAAiC,SAA3CA,UAAUA,CACrB7I,MAAM,EACNhG,KAAK,EAEH;AAAA,EAAA,IADFnI,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ,EAAA,IAAI,CAACmC,KAAK,CAACC,OAAO,CAAC8F,KAAK,CAAC,EAAE;IACzBA,KAAK,GAAG,CAACA,KAAK,CAAC,CAAA;AAChB,GAAA;EAED,IAAMqQ,GAAG,GAAQ,EAAE,CAAA;AAAA,EAAA,IAAAxP,SAAA,GAAAC,4BAAA,CAEDd,KAAK,CAAA;IAAAe,KAAA,CAAA;AAAA,EAAA,IAAA;IAAvB,KAAAF,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA2H,EAAAA,IAAA,GAAyB;AAAA,MAAA,IAAdX,GAAG,GAAAS,KAAA,CAAA/G,KAAA,CAAA;AACZqW,MAAAA,GAAG,CAAC/P,GAAG,CAAC,GAAG,IAAI,CAAA;AAChB,KAAA;AAAA,GAAA,CAAA,OAAAa,GAAA,EAAA;IAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,GAAA,SAAA;AAAAN,IAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,GAAA;EAEDuS,UAAU,CAACvF,QAAQ,CAACrI,MAAM,EAAEqK,GAAG,EAAExY,OAAO,CAAC,CAAA;AAC3C;;;;;ICZaiX,WAAW,GAAkC,SAA7CA,WAAWA,CACtB9I,MAAM,EAEJ;AAAA,EAAA,IADFnO,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAA2P,aAAA,GAA0D9d,OAAO,CAAzD+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAAuJ,cAAA,GAAmCrnB,OAAO,CAAxC6e,KAAK;AAALA,MAAAA,KAAK,GAAAwI,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;MAAA3L,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACrD,IAAA,IAAAE,WAAA,GAAuC5b,OAAO,CAAxC6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA;MAAExI,KAAK,GAAKpT,OAAO,CAAjBoT,KAAK,CAAA;IAElC,IAAI,CAACvC,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjBA,MAAAA,KAAK,GAAGxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,GACvBxC,SAAS,CAACF,MAAM,EAAE0C,EAAE,CAAC,GACrB,UAAApP,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA,CAAA;AACxD,KAAA;AAED,IAAA,IAAImD,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;MACvBA,EAAE,GAAGhF,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAC9B,KAAA;AAED,IAAA,IAAMsF,QAAQ,GAAGvR,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,GAAGhF,MAAM,CAACsK,QAAQ,CAAChI,MAAM,EAAE0C,EAAE,CAAC,GAAG,IAAI,CAAA;AAC1E,IAAA,IAAMtI,OAAO,GAAGsD,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,MAAAA,EAAE,EAAFA,EAAE;AAAEuC,MAAAA,KAAK,EAALA,KAAK;AAAE2K,MAAAA,IAAI,EAAJA,IAAI;AAAEpC,MAAAA,KAAK,EAALA,KAAAA;AAAK,KAAE,CAAC,CAAA;IAChE,IAAM5F,QAAQ,GAAG3T,KAAK,CAACiK,IAAI,CACzB9D,OAAO,EACP,UAAArB,IAAA,EAAA;AAAA,MAAA,IAAAU,KAAA,GAAAtD,cAAA,CAAA4C,IAAA,EAAA,CAAA,CAAA;AAAI5D,QAAAA,CAAC,GAAAsE,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,MAAA,OAAMiE,MAAM,CAACiK,OAAO,CAAC3H,MAAM,EAAE7K,CAAC,CAAC,CAAA;AAAA,KAAA;AACpC;AACA;AACA;KACD,CAACjD,OAAO,EAAE,CAAA;AAAA,IAAA,IAAA2I,SAAA,GAAAC,0BAAA,CAEW8M,QAAQ,CAAA;MAAA7M,KAAA,CAAA;AAAA,IAAA,IAAA;MAAA,IAAAgC,KAAA,GAAAA,SAAAA,KAAAA,GAAE;AAAA,QAAA,IAArB4K,OAAO,GAAA5M,KAAA,CAAA/G,KAAA,CAAA;AAChB,QAAA,IAAMpD,IAAI,GAAG+W,OAAO,CAAC7W,KAAK,EAAG,CAAA;QAC7B,IAAAqP,YAAA,GAAezC,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAEpP,IAAI,CAAC;UAAAwP,aAAA,GAAAjK,cAAA,CAAAgK,YAAA,EAAA,CAAA,CAAA;AAAjC3F,UAAAA,IAAI,GAAA4F,aAAA,CAAA,CAAA,CAAA,CAAA;QACX,IAAIxK,KAAK,GAAG8H,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAEpP,IAAI,CAAC,CAAA;QAEtC,IAAI8f,KAAK,IAAI1I,QAAQ,EAAE;UACrBpS,KAAK,GAAGzE,KAAK,CAACoF,YAAY,CAACyR,QAAQ,CAACtX,OAAQ,EAAEkF,KAAK,CAAE,CAAA;AACtD,SAAA;AAEDgY,QAAAA,UAAU,CAACzG,SAAS,CAACnH,MAAM,EAAE;AAC3B0C,UAAAA,EAAE,EAAE9M,KAAK;UACTqP,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,YAAA,OAAI,CAAC+F,IAAI,CAACqB,MAAM,CAACF,IAAI,CAAC,IAAIA,IAAI,CAACjB,QAAQ,CAAC/C,QAAQ,CAAClD,CAAC,CAAC,CAAA;AAAA,WAAA;AAC3Dka,UAAAA,KAAK,EAALA,KAAAA;AACD,SAAA,CAAC,CAAA;OACH,CAAA;MAdD,KAAA3S,SAAA,CAAAG,CAAA,EAAAD,EAAAA,CAAAA,CAAAA,KAAA,GAAAF,SAAA,CAAAvH,CAAA,EAAA,EAAA2H,IAAA,GAAA;QAAA8B,KAAA,EAAA,CAAA;AAAA,OAAA;AAcC,KAAA,CAAA,OAAA5B,GAAA,EAAA;MAAAN,SAAA,CAAAO,CAAA,CAAAD,GAAA,CAAA,CAAA;AAAA,KAAA,SAAA;AAAAN,MAAAA,SAAA,CAAAQ,CAAA,EAAA,CAAA;AAAA,KAAA;AAED,IAAA,IAAI2M,QAAQ,EAAE;MACZA,QAAQ,CAAClX,KAAK,EAAE,CAAA;AACjB,KAAA;AACH,GAAC,CAAC,CAAA;AACJ;;;;ACnDO,IAAMkY,SAAS,GAAgC,SAAzCA,SAASA,CACpBhJ,MAAM,EACN3F,OAAO,EAEL;AAAA,EAAA,IADFxI,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEZ4L,EAAAA,MAAM,CAACqL,kBAAkB,CAAC/I,MAAM,EAAE,YAAK;AACrC,IAAA,IAAA2P,aAAA,GAA0D9d,OAAO,CAAzD+d,IAAI;AAAJA,MAAAA,IAAI,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,aAAA;MAAAuJ,cAAA,GAAmCrnB,OAAO,CAAxC6e,KAAK;AAALA,MAAAA,KAAK,GAAAwI,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;MAAA3L,cAAA,GAAoB1b,OAAO,CAAzB2b,KAAK;AAALA,MAAAA,KAAK,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA,CAAA;AACrD,IAAA,IAAMtI,KAAK,GAA4BpT,OAAO,CAAxCoT,KAAK;MAAAwI,WAAA,GAA4B5b,OAAO,CAAjC6Q,EAAE;AAAFA,MAAAA,EAAE,GAAA+K,WAAA,KAAA,KAAA,CAAA,GAAGzN,MAAM,CAACC,SAAS,GAAAwN,WAAA,CAAA;IAElC,IAAI,CAAC/K,EAAE,EAAE;AACP,MAAA,OAAA;AACD,KAAA;IAED,IAAIuC,KAAK,IAAI,IAAI,EAAE;AACjB,MAAA,IAAIxO,QAAQ,CAAC1C,MAAM,CAAC2O,EAAE,CAAC,EAAE;AACvBuC,QAAAA,KAAK,GAAG/E,SAAS,CAACF,MAAM,EAAE0C,EAAE,CAAC,CAAA;OAC9B,MAAM,IAAI1C,MAAM,CAAC8G,QAAQ,CAACzM,OAAO,CAAC,EAAE;QACnC4K,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;UAAA,OACN+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAACoJ,QAAQ,CAAC9G,MAAM,EAAE1M,CAAC,CAAC,IAAK+F,IAAI,CAACqB,MAAM,CAACpH,CAAC,CAAC,CAAA;AAAA,SAAA,CAAA;AACtE,OAAA,MAAM;QACL2R,KAAK,GAAG,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,UAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,SAAA,CAAA;AAC5D,OAAA;AACF,KAAA;IAED,IAAIod,KAAK,IAAIja,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,EAAE;AACjC,MAAA,IAAAzM,YAAA,GAAqB9E,KAAK,CAACwE,KAAK,CAAC+M,EAAE,CAAC;QAAAxM,aAAA,GAAAC,cAAA,CAAAF,YAAA,EAAA,CAAA,CAAA;AAA7BoB,QAAAA,KAAK,GAAAnB,aAAA,CAAA,CAAA,CAAA;AAAEF,QAAAA,GAAG,GAAAE,aAAA,CAAA,CAAA,CAAA,CAAA;MAEjB,IAAM8R,QAAQ,GAAGtK,MAAM,CAACsK,QAAQ,CAAChI,MAAM,EAAE0C,EAAE,EAAE;AAC3C/R,QAAAA,QAAQ,EAAE,QAAA;AACX,OAAA,CAAC,CAAA;AAEF;AACA;AACA,MAAA,IAAM+pB,aAAa,GAAG,SAAhBA,aAAaA,CAAI1pB,KAAY,EAAI;AACrC,QAAA,IAAM2pB,UAAU,GAAGjd,MAAM,CAACyH,KAAK,CAACnF,MAAM,EAAE;AACtC0C,UAAAA,EAAE,EAAE1R,KAAK;UACTiU,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,YAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,WAAA;AAC3D,SAAA,CAAC,CAAA;AACF,QAAA,OAAOqnB,UAAU,IAAIjd,MAAM,CAACgJ,MAAM,CAAC1G,MAAM,EAAEhP,KAAK,EAAE2pB,UAAU,CAAC,CAAC,CAAC,CAAC,CAAA;OACjE,CAAA;AAED/M,MAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAC5B0C,QAAAA,EAAE,EAAE1M,GAAG;AACPiP,QAAAA,KAAK,EAALA,KAAK;AACLuI,QAAAA,KAAK,EAALA,KAAK;AACL0D,QAAAA,MAAM,EAAE,CAACwJ,aAAa,CAAC1kB,GAAG,CAAA;AAC3B,OAAA,CAAC,CAAA;AAEF4X,MAAAA,UAAU,CAACjF,UAAU,CAAC3I,MAAM,EAAE;AAC5B0C,QAAAA,EAAE,EAAErL,KAAK;AACT4N,QAAAA,KAAK,EAALA,KAAK;AACLuI,QAAAA,KAAK,EAALA,KAAK;AACL0D,QAAAA,MAAM,EAAE,CAACwJ,aAAa,CAACrjB,KAAK,CAAA;AAC7B,OAAA,CAAC,CAAA;AAEFqL,MAAAA,EAAE,GAAGsF,QAAQ,CAAClX,KAAK,EAAG,CAAA;AAEtB,MAAA,IAAIe,OAAO,CAAC6Q,EAAE,IAAI,IAAI,EAAE;AACtBkL,QAAAA,UAAU,CAACxF,MAAM,CAACpI,MAAM,EAAE0C,EAAE,CAAC,CAAA;AAC9B,OAAA;AACF,KAAA;IAED,IAAMkY,KAAK,GAAG3mB,KAAK,CAACiK,IAAI,CACtBR,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AACnB0C,MAAAA,EAAE,EAAFA,EAAE;MACFuC,KAAK,EAAEjF,MAAM,CAAC8G,QAAQ,CAACzM,OAAO,CAAC,GAC3B,UAAA/G,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACP,SAAS,CAACxF,CAAC,CAAC,IAAIoK,MAAM,CAAC+I,OAAO,CAACzG,MAAM,EAAE1M,CAAC,CAAC,CAAA;AAAA,OAAA,GACnD,UAAAA,CAAC,EAAA;AAAA,QAAA,OAAI+F,IAAI,CAACH,QAAQ,CAAC5F,CAAC,CAAC,CAAA;AAAA,OAAA;AACzBsc,MAAAA,IAAI,EAAE,QAAQ;AACdpC,MAAAA,KAAK,EAALA,KAAAA;AACD,KAAA,CAAC,CACH,CAAA;IAAA,IAAAzQ,KAAA,GAAAA,SAAAA,KAAAA,GAEiC;AAA7B,QAAA,IAAA8d,SAAA,GAAA1kB,cAAA,CAAA2kB,MAAA,CAAA5C,EAAA,CAAA,EAAA,CAAA,CAAA;AAAS6C,UAAAA,QAAQ,GAAAF,SAAA,CAAA,CAAA,CAAA,CAAA;QACpB,IAAMhb,CAAC,GAAGpJ,QAAQ,CAACC,OAAO,CAACgM,EAAE,CAAC,GAC1BvR,KAAK,CAACoF,YAAY,CAACmM,EAAE,EAAEhF,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAE+a,QAAQ,CAAC,CAAC,GACtDrY,EAAE,CAAA;QAEN,IAAI,CAAC7C,CAAC,EAAE;AAAA,UAAA,OAAA,CAAA,CAAA;AAEP,SAAA;QAED,IAAMzF,OAAO,GAAGnG,KAAK,CAACiK,IAAI,CACxBR,MAAM,CAAC7B,KAAK,CAACmE,MAAM,EAAE;AAAE0C,UAAAA,EAAE,EAAE7C,CAAC;AAAEoF,UAAAA,KAAK,EAALA,KAAK;AAAE2K,UAAAA,IAAI,EAAJA,IAAI;AAAEpC,UAAAA,KAAK,EAALA,KAAAA;AAAK,SAAE,CAAC,CACpD,CAAA;AAED,QAAA,IAAIpT,OAAO,CAACrI,MAAM,GAAG,CAAC,EAAE;UACtB,IAAOyK,KAAK,GAAIpC,OAAO,CAAA,CAAA,CAAA,CAAA;UACvB,IAAMzF,IAAI,GAAGyF,OAAO,CAACA,OAAO,CAACrI,MAAM,GAAG,CAAC,CAAC,CAAA;AACxC,UAAA,IAAAipB,MAAA,GAAA7kB,cAAA,CAAsBqG,KAAK,EAAA,CAAA,CAAA;AAAlB8W,YAAAA,SAAS,GAAA0H,MAAA,CAAA,CAAA,CAAA,CAAA;AAClB,UAAA,IAAAC,KAAA,GAAA9kB,cAAA,CAAqBxB,IAAI,EAAA,CAAA,CAAA;AAAhB8e,YAAAA,QAAQ,GAAAwH,KAAA,CAAA,CAAA,CAAA,CAAA;UAEjB,IAAI3H,SAAS,CAACvhB,MAAM,KAAK,CAAC,IAAI0hB,QAAQ,CAAC1hB,MAAM,KAAK,CAAC,EAAE;AACnD;AAAA,YAAA,OAAA,CAAA,CAAA;AAED,WAAA;UAED,IAAM4mB,UAAU,GAAG9nB,IAAI,CAACqC,MAAM,CAACogB,SAAS,EAAEG,QAAQ,CAAC,GAC/C5iB,IAAI,CAACkE,MAAM,CAACue,SAAS,CAAC,GACtBziB,IAAI,CAACyB,MAAM,CAACghB,SAAS,EAAEG,QAAQ,CAAC,CAAA;UAEpC,IAAM7d,KAAK,GAAG8H,MAAM,CAAC9H,KAAK,CAACoK,MAAM,EAAEsT,SAAS,EAAEG,QAAQ,CAAC,CAAA;UACvD,IAAMyH,eAAe,GAAGxd,MAAM,CAAClD,IAAI,CAACwF,MAAM,EAAE2Y,UAAU,CAAC,CAAA;AACvD,UAAA,IAAAwC,gBAAA,GAAAhlB,cAAA,CAAqB+kB,eAAe,EAAA,CAAA,CAAA;AAA7BE,YAAAA,UAAU,GAAAD,gBAAA,CAAA,CAAA,CAAA,CAAA;AACjB,UAAA,IAAMhI,KAAK,GAAGwF,UAAU,CAAC5mB,MAAM,GAAG,CAAC,CAAA;AACnC,UAAA,IAAMspB,WAAW,GAAGxqB,IAAI,CAAC2D,IAAI,CAACif,QAAQ,CAACphB,KAAK,CAAC,CAAC,EAAE8gB,KAAK,CAAC,CAAC,CAAA;AACvD,UAAA,IAAMmI,OAAO,GAAAljB,aAAA,CAAAA,aAAA,KAAQiC,OAAO,CAAA,EAAA,EAAA,EAAA;AAAEd,YAAAA,QAAQ,EAAE,EAAA;WAAI,CAAA,CAAA;AAC5CqU,UAAAA,UAAU,CAACtH,WAAW,CAACtG,MAAM,EAAEsb,OAAO,EAAE;AAAE5Y,YAAAA,EAAE,EAAE2Y,WAAW;AAAE7N,YAAAA,KAAK,EAALA,KAAAA;AAAK,WAAE,CAAC,CAAA;AAEnEI,UAAAA,UAAU,CAACrG,SAAS,CAACvH,MAAM,EAAE;AAC3B0C,YAAAA,EAAE,EAAE9M,KAAK;YACTqP,KAAK,EAAE,SAAAA,KAAAA,CAAA3R,CAAC,EAAA;AAAA,cAAA,OACN,CAAC+F,IAAI,CAACqB,MAAM,CAAC0gB,UAAU,CAAC,IAAIA,UAAU,CAAC7hB,QAAQ,CAAC/C,QAAQ,CAAClD,CAAC,CAAC,CAAA;AAAA,aAAA;AAC7D6K,YAAAA,EAAE,EAAEkd,WAAW,CAAC3mB,MAAM,CAAC,CAAC,CAAC;AACzB8Y,YAAAA,KAAK,EAALA,KAAAA;AACD,WAAA,CAAC,CAAA;AACH,SAAA;OACF;MAAA2G,IAAA,CAAA;AA5CD,IAAA,KAAA,IAAA+D,EAAA,GAAA,CAAA,EAAA4C,MAAA,GAA2BF,KAAK,EAAA1C,EAAA,GAAA4C,MAAA,CAAA/oB,MAAA,EAAAmmB,EAAA,EAAA,EAAA;AAAA/D,MAAAA,IAAA,GAAApX,KAAA,EAAA,CAAA;AAAA,MAAA,IAAAoX,IAAA,KAM5B,CAAA,EAAA,SAAA;AAAQ,KAAA;AAuCd,GAAC,CAAC,CAAA;AACJ;;ACxCA;;AAEG;IACUoH,YAAY,GAAG,SAAfA,YAAYA,GAAgB;AACvC,EAAA,IAAMvb,MAAM,GAAW;AACrBzG,IAAAA,QAAQ,EAAE,EAAE;AACZ2P,IAAAA,UAAU,EAAE,EAAE;AACdjJ,IAAAA,SAAS,EAAE,IAAI;AACfgJ,IAAAA,KAAK,EAAE,IAAI;IACXtC,iBAAiB,EAAE,SAAAA,iBAAA,GAAA;AAAA,MAAA,OAAM,KAAK,CAAA;AAAA,KAAA;IAC9BG,QAAQ,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,OAAM,KAAK,CAAA;AAAA,KAAA;IACrBE,YAAY,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,OAAM,IAAI,CAAA;AAAA,KAAA;IACxBE,MAAM,EAAE,SAAAA,MAAA,GAAA;AAAA,MAAA,OAAM,KAAK,CAAA;AAAA,KAAA;IACnBE,YAAY,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,OAAM,KAAK,CAAA;AAAA,KAAA;AACzBM,IAAAA,QAAQ,EAAE,SAAAA,QAAA,GAAK,EAAG;AAElB;IACAvO,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAAyS,IAAA,GAAA9Z,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA2X,IAAA,GAAAE,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA,EAAA,EAAA;AAAJ0P,QAAAA,IAAI,CAAA1P,IAAA,CAAAha,GAAAA,SAAA,CAAAga,IAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK3S,KAAK,CAAAA,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;AAE1C;IACApW,OAAO,EAAE,SAAAA,SAAA,GAAA;AAAA,MAAA,KAAA,IAAA6G,KAAA,GAAAna,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgY,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJsP,QAAAA,IAAI,CAAAtP,KAAA,CAAApa,GAAAA,SAAA,CAAAoa,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9G,OAAO,CAAAjM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9CjW,cAAc,EAAE,SAAAA,gBAAA,GAAA;AAAA,MAAA,KAAA,IAAAkW,KAAA,GAAA3pB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwnB,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJF,QAAAA,IAAI,CAAAE,KAAA,CAAA5pB,GAAAA,SAAA,CAAA4pB,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKnW,cAAc,CAAApM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5DhW,aAAa,EAAE,SAAAA,eAAA,GAAA;AAAA,MAAA,KAAA,IAAAmW,KAAA,GAAA7pB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0nB,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJJ,QAAAA,IAAI,CAAAI,KAAA,CAAA9pB,GAAAA,SAAA,CAAA8pB,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKpW,aAAa,CAAArM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1D/V,cAAc,EAAE,SAAAA,gBAAA,GAAA;AAAA,MAAA,KAAA,IAAAoW,KAAA,GAAA/pB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4nB,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJN,QAAAA,IAAI,CAAAM,KAAA,CAAAhqB,GAAAA,SAAA,CAAAgqB,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKrW,cAAc,CAAAtM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5D3V,WAAW,EAAE,SAAAA,aAAA,GAAA;AAAA,MAAA,KAAA,IAAAkW,KAAA,GAAAjqB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8nB,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJR,QAAAA,IAAI,CAAAQ,KAAA,CAAAlqB,GAAAA,SAAA,CAAAkqB,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKnW,WAAW,CAAA1M,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACtDrV,WAAW,EAAE,SAAAA,aAAA,GAAA;AAAA,MAAA,KAAA,IAAA8V,KAAA,GAAAnqB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgoB,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJV,QAAAA,IAAI,CAAAU,KAAA,CAAApqB,GAAAA,SAAA,CAAAoqB,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK/V,WAAW,CAAAhN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACtDjV,eAAe,EAAE,SAAAA,iBAAA,GAAA;AAAA,MAAA,KAAA,IAAA4V,KAAA,GAAArqB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAkoB,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJZ,QAAAA,IAAI,CAAAY,KAAA,CAAAtqB,GAAAA,SAAA,CAAAsqB,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK7V,eAAe,CAAApN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9DpV,cAAc,EAAE,SAAAA,gBAAA,GAAA;AAAA,MAAA,KAAA,IAAAiW,KAAA,GAAAvqB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAooB,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJd,QAAAA,IAAI,CAAAc,KAAA,CAAAxqB,GAAAA,SAAA,CAAAwqB,KAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKlW,cAAc,CAAAjN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5DnV,UAAU,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,KAAA,IAAAkW,MAAA,GAAAzqB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAsoB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhB,QAAAA,IAAI,CAAAgB,MAAA,CAAA1qB,GAAAA,SAAA,CAAA0qB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKnW,UAAU,CAAAlN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpDhV,UAAU,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,KAAA,IAAAiW,MAAA,GAAA3qB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwoB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlB,QAAAA,IAAI,CAAAkB,MAAA,CAAA5qB,GAAAA,SAAA,CAAA4qB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKlW,UAAU,CAAArN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpD/T,aAAa,EAAE,SAAAA,eAAA,GAAA;AAAA,MAAA,KAAA,IAAAkV,MAAA,GAAA7qB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0oB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpB,QAAAA,IAAI,CAAAoB,MAAA,CAAA9qB,GAAAA,SAAA,CAAA8qB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKnV,aAAa,CAAAtO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1DtT,UAAU,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,KAAA,IAAA2U,MAAA,GAAA/qB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4oB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtB,QAAAA,IAAI,CAAAsB,MAAA,CAAAhrB,GAAAA,SAAA,CAAAgrB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK5U,UAAU,CAAA/O,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpD5V,aAAa,EAAE,SAAAA,eAAA,GAAA;AAAA,MAAA,KAAA,IAAAmX,MAAA,GAAAjrB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8oB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxB,QAAAA,IAAI,CAAAwB,MAAA,CAAAlrB,GAAAA,SAAA,CAAAkrB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKpX,aAAa,CAAAzM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1D9S,eAAe,EAAE,SAAAA,iBAAA,GAAA;AAAA,MAAA,KAAA,IAAAuU,MAAA,GAAAnrB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgpB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1B,QAAAA,IAAI,CAAA0B,MAAA,CAAAprB,GAAAA,SAAA,CAAAorB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKxU,eAAe,CAAAvP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;AAE9D;IACArW,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAAgY,MAAA,GAAArrB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAkpB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5B,QAAAA,IAAI,CAAA4B,MAAA,CAAAtrB,GAAAA,SAAA,CAAAsrB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKjY,KAAK,CAAAhM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1CnW,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAAgY,MAAA,GAAAvrB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAopB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9B,QAAAA,IAAI,CAAA8B,MAAA,CAAAxrB,GAAAA,SAAA,CAAAwrB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKjY,KAAK,CAAAlM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1Cpe,MAAM,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,KAAA,IAAAmgB,MAAA,GAAAzrB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAspB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhC,QAAAA,IAAI,CAAAgC,MAAA,CAAA1rB,GAAAA,SAAA,CAAA0rB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKpgB,MAAM,CAAAjE,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5ClW,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAAmY,MAAA,GAAA3rB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwpB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlC,QAAAA,IAAI,CAAAkC,MAAA,CAAA5rB,GAAAA,SAAA,CAAA4rB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKpY,QAAQ,CAAAnM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;AAChD,IAAA,QAAA,EAAQ,SAAAlO,OAAA,GAAA;AAAA,MAAA,KAAA,IAAAqQ,MAAA,GAAA7rB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0pB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpC,QAAAA,IAAI,CAAAoC,MAAA,CAAA9rB,GAAAA,SAAA,CAAA8rB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKjJ,UAAU,CAAAxb,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChD9V,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAAmY,MAAA,GAAA/rB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4pB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtC,QAAAA,IAAI,CAAAsC,MAAA,CAAAhsB,GAAAA,SAAA,CAAAgsB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKpY,QAAQ,CAAAvM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChD7lB,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAAooB,MAAA,GAAAjsB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8pB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxC,QAAAA,IAAI,CAAAwC,MAAA,CAAAlsB,GAAAA,SAAA,CAAAksB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKroB,KAAK,CAAAwD,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1C7V,eAAe,EAAE,SAAAA,iBAAA,GAAA;AAAA,MAAA,KAAA,IAAAsY,MAAA,GAAAnsB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgqB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1C,QAAAA,IAAI,CAAA0C,MAAA,CAAApsB,GAAAA,SAAA,CAAAosB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKvY,eAAe,CAAAxM,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9DxlB,GAAG,EAAE,SAAAA,KAAA,GAAA;AAAA,MAAA,KAAA,IAAAmoB,MAAA,GAAArsB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAkqB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5C,QAAAA,IAAI,CAAA4C,MAAA,CAAAtsB,GAAAA,SAAA,CAAAssB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKpoB,GAAG,CAAAmD,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACtChf,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAA6hB,MAAA,GAAAvsB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAoqB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9C,QAAAA,IAAI,CAAA8C,MAAA,CAAAxsB,GAAAA,SAAA,CAAAwsB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9hB,KAAK,CAAArD,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1C/e,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAA8hB,MAAA,GAAAzsB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAsqB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhD,QAAAA,IAAI,CAAAgD,MAAA,CAAA1sB,GAAAA,SAAA,CAAA0sB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK/hB,QAAQ,CAAAtD,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChD1V,QAAQ,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,KAAA,IAAA2Y,MAAA,GAAA3sB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwqB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlD,QAAAA,IAAI,CAAAkD,MAAA,CAAA5sB,GAAAA,SAAA,CAAA4sB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKzV,KAAK,CAAA9P,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC7CzV,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAA4Y,MAAA,GAAA7sB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0qB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpD,QAAAA,IAAI,CAAAoD,MAAA,CAAA9sB,GAAAA,SAAA,CAAA8sB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK7Y,SAAS,CAAA5M,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClDxV,UAAU,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,KAAA,IAAA6Y,MAAA,GAAA/sB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4qB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtD,QAAAA,IAAI,CAAAsD,MAAA,CAAAhtB,GAAAA,SAAA,CAAAgtB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9Y,UAAU,CAAA7M,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpDvV,OAAO,EAAE,SAAAA,SAAA,GAAA;AAAA,MAAA,KAAA,IAAA8Y,MAAA,GAAAjtB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8qB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxD,QAAAA,IAAI,CAAAwD,MAAA,CAAAltB,GAAAA,SAAA,CAAAktB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK/Y,OAAO,CAAA9M,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9CtV,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAA+Y,MAAA,GAAAntB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgrB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1D,QAAAA,IAAI,CAAA0D,MAAA,CAAAptB,GAAAA,SAAA,CAAAotB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKhZ,QAAQ,CAAA/M,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChDlV,WAAW,EAAE,SAAAA,aAAA,GAAA;AAAA,MAAA,KAAA,IAAA6Y,MAAA,GAAArtB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAkrB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5D,QAAAA,IAAI,CAAA4D,MAAA,CAAAttB,GAAAA,SAAA,CAAAstB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9Y,WAAW,CAAAnN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACtD/U,OAAO,EAAE,SAAAA,SAAA,GAAA;AAAA,MAAA,KAAA,IAAA4Y,MAAA,GAAAvtB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAorB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9D,QAAAA,IAAI,CAAA8D,MAAA,CAAAxtB,GAAAA,SAAA,CAAAwtB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK7Y,OAAO,CAAAtN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9C9U,MAAM,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,KAAA,IAAA6Y,MAAA,GAAAztB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAsrB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhE,QAAAA,IAAI,CAAAgE,MAAA,CAAA1tB,GAAAA,SAAA,CAAA0tB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9Y,MAAM,CAAAvN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5C5U,OAAO,EAAE,SAAAA,SAAA,GAAA;AAAA,MAAA,KAAA,IAAA6Y,MAAA,GAAA3tB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwrB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlE,QAAAA,IAAI,CAAAkE,MAAA,CAAA5tB,GAAAA,SAAA,CAAA4tB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9Y,OAAO,CAAAzN,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9C3U,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAA8Y,MAAA,GAAA7tB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0rB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpE,QAAAA,IAAI,CAAAoE,MAAA,CAAA9tB,GAAAA,SAAA,CAAA8tB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK/Y,KAAK,CAAA1N,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1CzU,aAAa,EAAE,SAAAA,eAAA,GAAA;AAAA,MAAA,KAAA,IAAA8Y,MAAA,GAAA/tB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4rB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtE,QAAAA,IAAI,CAAAsE,MAAA,CAAAhuB,GAAAA,SAAA,CAAAguB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK/Y,aAAa,CAAA5N,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1DvU,OAAO,EAAE,SAAAA,SAAA,GAAA;AAAA,MAAA,KAAA,IAAA8Y,MAAA,GAAAjuB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8rB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxE,QAAAA,IAAI,CAAAwE,MAAA,CAAAluB,GAAAA,SAAA,CAAAkuB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK/Y,OAAO,CAAA9N,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9C7mB,IAAI,EAAE,SAAAA,MAAA,GAAA;AAAA,MAAA,KAAA,IAAAsrB,MAAA,GAAAnuB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgsB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1E,QAAAA,IAAI,CAAA0E,MAAA,CAAApuB,GAAAA,SAAA,CAAAouB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKvrB,IAAI,CAAAwE,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACxC3d,IAAI,EAAE,SAAAA,MAAA,GAAA;AAAA,MAAA,KAAA,IAAAsiB,MAAA,GAAAruB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAksB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5E,QAAAA,IAAI,CAAA4E,MAAA,CAAAtuB,GAAAA,SAAA,CAAAsuB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKviB,IAAI,CAAA1E,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACxCppB,MAAM,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,KAAA,IAAAiuB,MAAA,GAAAvuB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAosB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9E,QAAAA,IAAI,CAAA8E,MAAA,CAAAxuB,GAAAA,SAAA,CAAAwuB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKluB,MAAM,CAAA+G,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5CrU,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAAoZ,MAAA,GAAAzuB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAssB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhF,QAAAA,IAAI,CAAAgF,MAAA,CAAA1uB,GAAAA,SAAA,CAAA0uB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKrZ,SAAS,CAAAhO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClDnU,UAAU,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,KAAA,IAAAoZ,MAAA,GAAA3uB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwsB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlF,QAAAA,IAAI,CAAAkF,MAAA,CAAA5uB,GAAAA,SAAA,CAAA4uB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKrZ,UAAU,CAAAlO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpDlU,IAAI,EAAE,SAAAA,MAAA,GAAA;AAAA,MAAA,KAAA,IAAAqZ,MAAA,GAAA7uB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0sB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpF,QAAAA,IAAI,CAAAoF,MAAA,CAAA9uB,GAAAA,SAAA,CAAA8uB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKtZ,IAAI,CAAAnO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACxCjU,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAAsZ,MAAA,GAAA/uB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4sB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtF,QAAAA,IAAI,CAAAsF,MAAA,CAAAhvB,GAAAA,SAAA,CAAAgvB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKvZ,SAAS,CAAApO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClDhnB,IAAI,EAAE,SAAAA,MAAA,GAAA;AAAA,MAAA,KAAA,IAAAusB,MAAA,GAAAjvB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8sB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxF,QAAAA,IAAI,CAAAwF,MAAA,CAAAlvB,GAAAA,SAAA,CAAAkvB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKxsB,IAAI,CAAA2E,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACxChhB,IAAI,EAAE,SAAAA,MAAA,GAAA;AAAA,MAAA,KAAA,IAAAymB,MAAA,GAAAnvB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgtB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1F,QAAAA,IAAI,CAAA0F,MAAA,CAAApvB,GAAAA,SAAA,CAAAovB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK1mB,IAAI,CAAArB,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACxC3f,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAAslB,MAAA,GAAArvB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAktB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5F,QAAAA,IAAI,CAAA4F,MAAA,CAAAtvB,GAAAA,SAAA,CAAAsvB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKvlB,KAAK,CAAA1C,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1ChU,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAA6Z,MAAA,GAAAvvB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAotB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9F,QAAAA,IAAI,CAAA8F,MAAA,CAAAxvB,GAAAA,SAAA,CAAAwvB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9Z,SAAS,CAAArO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClDzmB,MAAM,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,KAAA,IAAAwsB,MAAA,GAAAzvB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAstB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhG,QAAAA,IAAI,CAAAgG,MAAA,CAAA1vB,GAAAA,SAAA,CAAA0vB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKzsB,MAAM,CAAAoE,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5C5qB,IAAI,EAAE,SAAAA,MAAA,GAAA;AAAA,MAAA,KAAA,IAAA6wB,MAAA,GAAA3vB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwtB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlG,QAAAA,IAAI,CAAAkG,MAAA,CAAA5vB,GAAAA,SAAA,CAAA4vB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9wB,IAAI,CAAAuI,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACxC7T,OAAO,EAAE,SAAAA,SAAA,GAAA;AAAA,MAAA,KAAA,IAAAga,MAAA,GAAA7vB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0tB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpG,QAAAA,IAAI,CAAAoG,MAAA,CAAA9vB,GAAAA,SAAA,CAAA8vB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKja,OAAO,CAAAxO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC9C5T,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAAia,MAAA,GAAA/vB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4tB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtG,QAAAA,IAAI,CAAAsG,MAAA,CAAAhwB,GAAAA,SAAA,CAAAgwB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKla,QAAQ,CAAAzO,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChDxqB,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAA+wB,MAAA,GAAAjwB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8tB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxG,QAAAA,IAAI,CAAAwG,MAAA,CAAAlwB,GAAAA,SAAA,CAAAkwB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKhxB,KAAK,CAAAmI,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1C3T,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAAoa,MAAA,GAAAnwB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAguB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1G,QAAAA,IAAI,CAAA0G,MAAA,CAAApwB,GAAAA,SAAA,CAAAowB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKra,QAAQ,CAAA1O,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChD1T,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAAqa,MAAA,GAAArwB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAkuB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5G,QAAAA,IAAI,CAAA4G,MAAA,CAAAtwB,GAAAA,SAAA,CAAAswB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKta,SAAS,CAAA3O,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClDzT,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAAsa,MAAA,GAAAvwB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAouB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9G,QAAAA,IAAI,CAAA8G,MAAA,CAAAxwB,GAAAA,SAAA,CAAAwwB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKva,SAAS,CAAA5O,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClDxmB,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAAutB,MAAA,GAAAzwB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAsuB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhH,QAAAA,IAAI,CAAAgH,MAAA,CAAA1wB,GAAAA,SAAA,CAAA0wB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKxtB,QAAQ,CAAAmE,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChD5lB,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAA6sB,MAAA,GAAA3wB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwuB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlH,QAAAA,IAAI,CAAAkH,MAAA,CAAA5wB,GAAAA,SAAA,CAAA4wB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9sB,KAAK,CAAAuD,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1CxT,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAA2a,MAAA,GAAA7wB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0uB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpH,QAAAA,IAAI,CAAAoH,MAAA,CAAA9wB,GAAAA,SAAA,CAAA8wB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK5a,QAAQ,CAAA7O,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChDvT,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAA4a,MAAA,GAAA/wB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4uB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtH,QAAAA,IAAI,CAAAsH,MAAA,CAAAhxB,GAAAA,SAAA,CAAAgxB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK7a,SAAS,CAAA9O,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClDrT,WAAW,EAAE,SAAAA,aAAA,GAAA;AAAA,MAAA,KAAA,IAAA4a,MAAA,GAAAjxB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8uB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxH,QAAAA,IAAI,CAAAwH,MAAA,CAAAlxB,GAAAA,SAAA,CAAAkxB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK7a,WAAW,CAAAhP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACtDpT,MAAM,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,KAAA,IAAA6a,MAAA,GAAAnxB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgvB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1H,QAAAA,IAAI,CAAA0H,MAAA,CAAApxB,GAAAA,SAAA,CAAAoxB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK9a,MAAM,CAAAjP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5CnT,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAA8a,MAAA,GAAArxB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAkvB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5H,QAAAA,IAAI,CAAA4H,MAAA,CAAAtxB,GAAAA,SAAA,CAAAsxB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK/a,QAAQ,CAAAlP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChDlT,cAAc,EAAE,SAAAA,gBAAA,GAAA;AAAA,MAAA,KAAA,IAAA+a,MAAA,GAAAvxB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAovB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9H,QAAAA,IAAI,CAAA8H,MAAA,CAAAxxB,GAAAA,SAAA,CAAAwxB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKhb,cAAc,CAAAnP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5DjT,QAAQ,EAAE,SAAAA,UAAA,GAAA;AAAA,MAAA,KAAA,IAAAgb,MAAA,GAAAzxB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAsvB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhI,QAAAA,IAAI,CAAAgI,MAAA,CAAA1xB,GAAAA,SAAA,CAAA0xB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKjb,QAAQ,CAAApP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAChDhT,YAAY,EAAE,SAAAA,cAAA,GAAA;AAAA,MAAA,KAAA,IAAAib,MAAA,GAAA3xB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwvB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlI,QAAAA,IAAI,CAAAkI,MAAA,CAAA5xB,GAAAA,SAAA,CAAA4xB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKlb,YAAY,CAAArP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACxD7S,UAAU,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,KAAA,IAAAgb,MAAA,GAAA7xB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0vB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpI,QAAAA,IAAI,CAAAoI,MAAA,CAAA9xB,GAAAA,SAAA,CAAA8xB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKjb,UAAU,CAAAxP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpDnkB,KAAK,EAAE,SAAAA,OAAA,GAAA;AAAA,MAAA,KAAA,IAAAwsB,MAAA,GAAA/xB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4vB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtI,QAAAA,IAAI,CAAAsI,MAAA,CAAAhyB,GAAAA,SAAA,CAAAgyB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKzsB,KAAK,CAAA8B,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC1C/c,MAAM,EAAE,SAAAA,QAAA,GAAA;AAAA,MAAA,KAAA,IAAAslB,MAAA,GAAAjyB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA8vB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJxI,QAAAA,IAAI,CAAAwI,MAAA,CAAAlyB,GAAAA,SAAA,CAAAkyB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKvlB,MAAM,CAAAtF,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC5C5S,WAAW,EAAE,SAAAA,aAAA,GAAA;AAAA,MAAA,KAAA,IAAAqb,MAAA,GAAAnyB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAgwB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ1I,QAAAA,IAAI,CAAA0I,MAAA,CAAApyB,GAAAA,SAAA,CAAAoyB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKtb,WAAW,CAAAzP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACtD3S,UAAU,EAAE,SAAAA,YAAA,GAAA;AAAA,MAAA,KAAA,IAAAsb,MAAA,GAAAryB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAkwB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ5I,QAAAA,IAAI,CAAA4I,MAAA,CAAAtyB,GAAAA,SAAA,CAAAsyB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKvb,UAAU,CAAA1P,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpD1S,WAAW,EAAE,SAAAA,aAAA,GAAA;AAAA,MAAA,KAAA,IAAAub,MAAA,GAAAvyB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAowB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJ9I,QAAAA,IAAI,CAAA8I,MAAA,CAAAxyB,GAAAA,SAAA,CAAAwyB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKxb,WAAW,CAAA3P,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;AACtD,IAAA,MAAA,EAAM,SAAAlS,KAAA,GAAA;AAAA,MAAA,KAAA,IAAAib,MAAA,GAAAzyB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAswB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJhJ,QAAAA,IAAI,CAAAgJ,MAAA,CAAA1yB,GAAAA,SAAA,CAAA0yB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAKxT,OAAO,CAAA7X,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAC3CzS,kBAAkB,EAAE,SAAAA,oBAAA,GAAA;AAAA,MAAA,KAAA,IAAA0b,MAAA,GAAA3yB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAAwwB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJlJ,QAAAA,IAAI,CAAAkJ,MAAA,CAAA5yB,GAAAA,SAAA,CAAA4yB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK3b,kBAAkB,CAAA5P,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IACpExS,SAAS,EAAE,SAAAA,WAAA,GAAA;AAAA,MAAA,KAAA,IAAA2b,MAAA,GAAA7yB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA0wB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJpJ,QAAAA,IAAI,CAAAoJ,MAAA,CAAA9yB,GAAAA,SAAA,CAAA8yB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OAAK5b,SAAS,CAAA7P,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;IAClD/S,8BAA8B,EAAE,SAAAA,gCAAA,GAAA;AAAA,MAAA,KAAA,IAAAoc,MAAA,GAAA/yB,SAAA,CAAAC,MAAA,EAAIypB,IAAI,GAAAvnB,IAAAA,KAAA,CAAA4wB,MAAA,GAAAC,MAAA,GAAA,CAAA,EAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA,EAAA,EAAA;AAAJtJ,QAAAA,IAAI,CAAAsJ,MAAA,CAAAhzB,GAAAA,SAAA,CAAAgzB,MAAA,CAAA,CAAA;AAAA,OAAA;MAAA,OACtCrc,8BAA8B,CAAAtP,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC6G,MAAM,CAAAtL,CAAAA,MAAA,CAAK8mB,IAAI,CAAC,CAAA,CAAA;AAAA,KAAA;GAClD,CAAA;AAED,EAAA,OAAOxb,MAAM,CAAA;AACf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20]}